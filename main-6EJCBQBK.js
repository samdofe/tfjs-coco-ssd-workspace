var fR=Object.create;var aa=Object.defineProperty,dR=Object.defineProperties,pR=Object.getOwnPropertyDescriptor,hR=Object.getOwnPropertyDescriptors,mR=Object.getOwnPropertyNames,Bx=Object.getOwnPropertySymbols,gR=Object.getPrototypeOf,jx=Object.prototype.hasOwnProperty,yR=Object.prototype.propertyIsEnumerable;var Vx=(t,e,n)=>e in t?aa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G=(t,e)=>{for(var n in e||={})jx.call(e,n)&&Vx(t,n,e[n]);if(Bx)for(var n of Bx(e))yR.call(e,n)&&Vx(t,n,e[n]);return t},qe=(t,e)=>dR(t,hR(e));var v=(t,e)=>()=>(t&&(e=t(t=0)),e);var Xt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),le=(t,e)=>{for(var n in e)aa(t,n,{get:e[n],enumerable:!0})},Ux=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of mR(e))!jx.call(t,o)&&o!==n&&aa(t,o,{get:()=>e[o],enumerable:!(r=pR(e,o))||r.enumerable});return t};var Hd=(t,e,n)=>(n=t!=null?fR(gR(t)):{},Ux(e||!t||!t.__esModule?aa(n,"default",{value:t,enumerable:!0}):n,t)),Hx=t=>Ux(aa({},"__esModule",{value:!0}),t);var k=(t,e,n)=>new Promise((r,o)=>{var s=u=>{try{a(n.next(u))}catch(c){o(c)}},i=u=>{try{a(n.throw(u))}catch(c){o(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,i);a((n=n.apply(t,e)).next())});function Ut(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}var ef,xi,hg=v(()=>{"use strict";ef=class{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}},xi=class{refCount(e){return Ut("refCount")}incRef(e){return Ut("incRef")}timerAvailable(){return!0}time(e){return Ut("time")}read(e){return Ut("read")}readSync(e){return Ut("readSync")}readToGPU(e,n){return Ut("readToGPU")}numDataIds(){return Ut("numDataIds")}disposeData(e,n){return Ut("disposeData")}write(e,n,r){return Ut("write")}move(e,n,r,o,s){return Ut("move")}createTensorFromGPUData(e,n,r){return Ut("createTensorFromGPUData")}memory(){return Ut("memory")}floatPrecision(){return Ut("floatPrecision")}epsilon(){return this.floatPrecision()===32?1e-7:1e-4}dispose(){return Ut("dispose")}}});function bN(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,tf(t,e,n)}function UB(t,e){if(t.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${t.length}Second array length was ${e.length}`);let n=t.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,tf(t,n,r),tf(e,n,r)}function Di(t,e,n){return Math.max(t,Math.min(e,n))}function HB(t){return t%2===0?t:t+1}function tf(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function zB(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function GB(t,e){let n=Math.random();return e*n+(1-n)*t}function qB(t,e){let n=0;for(let r=0;r<t.length;r++){let o=Number(t[r])-Number(e[r]);n+=o*o}return n}function w(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function Ce(t,e,n=""){w(Nt(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function sn(t){w(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function te(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function WB(t){return t.length===0}function mg(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function Nt(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Sr(t){return t%1===0}function KB(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;{let e=Math.exp(2*t);return(e-1)/(e+1)}}function ZB(t){let e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function YB(t){let e=new Uint32Array(t);for(let n=0;n<t;++n)e[n]=n;return bN(e),e}function Jo(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function QB(t,e=o=>0,n,r){return new Promise((o,s)=>{let i=0,a=()=>{if(t()){o();return}i++;let u=e(i);if(n!=null&&i>=n){s();return}r!=null?r(a,u):setTimeout(a,u)};a()})}function XB(t,e){let n=1,r=-1;for(let s=0;s<t.length;++s)if(t[s]>=0)n*=t[s];else if(t[s]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${s}`);r=s}else if(t[s]<0)throw Error(`Shapes can not be < 0. Found ${t[s]} at dim ${s}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);let o=t.slice();return o[r]=e/n,o}function ao(t,e){let n=e.length;return t=t==null?e.map((r,o)=>o):[].concat(t),w(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),w(t.every(r=>Sr(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}function gg(t,e){let n=[],r=[],o=e!=null&&Array.isArray(e)&&e.length===0,s=e==null||o?null:ao(e,t).sort(),i=0;for(let a=0;a<t.length;++a){if(s!=null){if(s[i]===a&&t[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${t[a]}' is not 1`);(s[i]==null||s[i]>a)&&t[a]===1&&(n.push(t[a]),r.push(a)),s[i]<=a&&i++}t[a]!==1&&(n.push(t[a]),r.push(a))}return{newShape:n,keptDims:r}}function yg(t,e){return nf(t,e)}function nf(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function vg(t,e){for(let n=0;n<t.length;n++){let r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function wg(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function JB(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function Ii(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function bg(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function An(t){return typeof t=="string"||t instanceof String}function EN(t){return typeof t=="boolean"}function xN(t){return typeof t=="number"}function uo(t){return Array.isArray(t)?uo(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":xN(t)?"float32":An(t)?"string":EN(t)?"bool":"float32"}function rr(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Ti(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function or(t){let e=t.length;if(e<2)return[];let n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function DN(t,e,n,r=!1){let o=new Array;if(e.length===1){let s=e[0]*(r?2:1);for(let i=0;i<s;i++)o[i]=n[t+i]}else{let s=e[0],i=e.slice(1),a=i.reduce((u,c)=>u*c)*(r?2:1);for(let u=0;u<s;u++)o[u]=DN(t+u*a,i,n,r)}return o}function Xo(t,e,n=!1){if(t.length===0)return e[0];let r=t.reduce((o,s)=>o*s)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return DN(0,t,e,n)}function eV(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function tu(t,e){let n=Ni(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function Ni(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function tV(t,e){let n=t.reduce((r,o)=>r*o,1);if(e==null||e==="float32")return Xo(t,new Float32Array(n));if(e==="int32")return Xo(t,new Int32Array(n));if(e==="bool")return Xo(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function Ae(t){t.forEach(e=>{w(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function nV(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let o=0;o<t.length-1;++o)r+=n[o]*t[o];return r}function rV(t,e,n){if(e===0)return[];if(e===1)return[t];let r=new Array(e);for(let o=0;o<r.length-1;++o)r[o]=Math.floor(t/n[o]),t-=r[o]*n[o];return r[r.length-1]=t,r}function es(t){return t&&t.then&&typeof t.then=="function"}var Ye=v(()=>{"use strict";});function sV(t){let e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(iV(e,r[0],r[1]),r.join("="))),e}function iV(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function aV(t,e){let n=e.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:e}function B(){return rf}function TN(t){rf=t}var IN,Si,rf,at=v(()=>{"use strict";Ye();IN="tfjsflags",Si=class{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=sV,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(B().getBool("IS_TEST")||B().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){let o=this.urlFlags[e];B().getBool("IS_TEST")||B().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${o}.`),this.set(e,o)}}getAsync(e){return k(this,null,function*(){return e in this.flags?this.flags[e]:(this.flags[e]=yield this.evaluateFlag(e),this.flags[e])})}get(e){if(e in this.flags)return this.flags[e];let n=this.evaluateFlag(e);if(es(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;let e=this.getQueryParams(this.global.location.search);IN in e&&e[IN].split(",").forEach(r=>{let[o,s]=r.split(":");this.urlFlags[o]=aV(o,s)})}};rf=null});function xg(){if(Eg==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");Eg=t}return Eg}function uV(){let t=xg();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function nu(t,e){let n=uV();if(n.has(t))return n.get(t);{let r=e();return n.set(t,r),n.get(t)}}var Eg,of=v(()=>{"use strict";});var Dg,Ig,Tg,ru,Ng,Sg,Cg,_g,Ag,Mg,kg,Og,Rg,Fg,Pg,cV,$g,lV,Lg,Bg,Vg,jg,fV,Ug,ou,Hg,zg,Gg,qg,Wg,Kg,Zg,Yg,Qg,dV,Xg,Jg,ey,ty,ny,ry,oy,sy,iy,ay,uy,cy,ly,pV,hV,sf,fy,dy,py,mV,hy,my,gy,yy,vy,wy,by,Ey,xy,Dy,Iy,Ty,Ny,Sy,Cy,su,_y,Ay,My,ky,Oy,Ry,Fy,Py,$y,Ly,By,Vy,jy,Uy,gV,yV,vV,Hy,wV,bV,zy,Gy,qy,EV,Wy,xV,Ky,Zy,Yy,Qy,Xy,Jy,ev,tv,nv,rv,ov,sv,iv,av,uv,cv,lv,DV,fv,dv,pv,hv,mv,gv,yv,vv,wv,bv,Ev,xv,IV,Dv,TV,Iv,Tv,Nv,Sv,Cv,_v,Av,Mv,kv,Ov,Rv,Fv,Pv,$v,Lv,Bv,Vv,jv,Uv,Hv,zv,Gv,qv,Wv,Kv,Zv,NV,Yv,Qv,Xv,Jv,ew,tw,nw,rw,iu,ow,sw,au,iw,aw,uw,SV,cw,lw,af,fw,uf,cf,lf,S=v(()=>{"use strict";Dg="Abs",Ig="Acos",Tg="Acosh",ru="Add",Ng="AddN",Sg="All",Cg="Any",_g="ArgMax",Ag="ArgMin",Mg="Asin",kg="Asinh",Og="Atan",Rg="Atanh",Fg="Atan2",Pg="AvgPool",cV="AvgPoolGrad",$g="AvgPool3D",lV="AvgPool3DGrad",Lg="BatchMatMul",Bg="BatchToSpaceND",Vg="Bincount",jg="BitwiseAnd",fV="BroadcastTo",Ug="BroadcastArgs",ou="Cast",Hg="Ceil",zg="ClipByValue",Gg="Complex",qg="ComplexAbs",Wg="Concat",Kg="Conv2D",Zg="Conv2DBackpropFilter",Yg="Conv2DBackpropInput",Qg="Conv3D",dV="Conv3DBackpropFilterV2",Xg="Conv3DBackpropInputV2",Jg="Cos",ey="Cosh",ty="Cumprod",ny="Cumsum",ry="CropAndResize",oy="DenseBincount",sy="DepthToSpace",iy="DepthwiseConv2dNative",ay="DepthwiseConv2dNativeBackpropFilter",uy="DepthwiseConv2dNativeBackpropInput",cy="Diag",ly="Dilation2D",pV="Dilation2DBackpropInput",hV="Dilation2DBackpropFilter",sf="Draw",fy="RealDiv",dy="Einsum",py="Elu",mV="EluGrad",hy="Erf",my="Equal",gy="Exp",yy="ExpandDims",vy="Expm1",wy="FFT",by="Fill",Ey="FlipLeftRight",xy="Floor",Dy="FloorDiv",Iy="FusedBatchNorm",Ty="GatherV2",Ny="GatherNd",Sy="Greater",Cy="GreaterEqual",su="Identity",_y="IFFT",Ay="Imag",My="IsFinite",ky="IsInf",Oy="IsNan",Ry="LeakyRelu",Fy="Less",Py="LessEqual",$y="LinSpace",Ly="Log",By="Log1p",Vy="LogicalAnd",jy="LogicalNot",Uy="LogicalOr",gV="LogicalXor",yV="LogSoftmax",vV="LowerBound",Hy="LRN",wV="LRNGrad",bV="MatrixBandPart",zy="Max",Gy="Maximum",qy="MaxPool",EV="MaxPoolGrad",Wy="MaxPool3D",xV="MaxPool3DGrad",Ky="MaxPoolWithArgmax",Zy="Mean",Yy="Min",Qy="Minimum",Xy="MirrorPad",Jy="Mod",ev="Multinomial",tv="Multiply",nv="Neg",rv="NotEqual",ov="NonMaxSuppressionV3",sv="NonMaxSuppressionV4",iv="NonMaxSuppressionV5",av="OnesLike",uv="OneHot",cv="Pack",lv="PadV2",DV="Pool",fv="Pow",dv="Prelu",pv="Prod",hv="RaggedGather",mv="RaggedRange",gv="RaggedTensorToTensor",yv="Range",vv="Real",wv="Reciprocal",bv="Relu",Ev="Reshape",xv="ResizeNearestNeighbor",IV="ResizeNearestNeighborGrad",Dv="ResizeBilinear",TV="ResizeBilinearGrad",Iv="Relu6",Tv="Reverse",Nv="Round",Sv="Rsqrt",Cv="ScatterNd",_v="TensorScatterUpdate",Av="SearchSorted",Mv="Select",kv="Selu",Ov="Slice",Rv="Sin",Fv="Sinh",Pv="Sign",$v="Sigmoid",Lv="Softplus",Bv="Sqrt",Vv="Sum",jv="SpaceToBatchND",Uv="SplitV",Hv="Softmax",zv="SparseFillEmptyRows",Gv="SparseReshape",qv="SparseSegmentMean",Wv="SparseSegmentSum",Kv="SparseToDense",Zv="SquaredDifference",NV="Square",Yv="StaticRegexReplace",Qv="StridedSlice",Xv="StringNGrams",Jv="StringSplit",ew="StringToHashBucketFast",tw="Sub",nw="Tan",rw="Tanh",iu="Tile",ow="TopK",sw="Transform",au="Transpose",iw="Unique",aw="Unpack",uw="UnsortedSegmentSum",SV="UpperBound",cw="ZerosLike",lw="Step",af="FromPixels",fw="RotateWithOffset",uf="_FusedMatMul",cf="FusedConv2D",lf="FusedDepthwiseConv2D"});function sr(...t){B().getBool("IS_TEST")||B().getBool("PROD")||console.warn(...t)}function CV(...t){B().getBool("IS_TEST")||B().getBool("PROD")||console.log(...t)}var ff=v(()=>{"use strict";at();});function ts(t,e){let n=dw(t,e);return Ci.get(n)}function df(t){return uu.get(t)}function cu(t){let e=Ci.entries(),n=[];for(;;){let{done:r,value:o}=e.next();if(r)break;let[s,i]=o,[a]=s.split("_");a===t&&n.push(i)}return n}function SN(t){let{kernelName:e,backendName:n}=t,r=dw(e,n);Ci.has(r)&&sr(`The kernel '${e}' for backend '${n}' is already registered`),Ci.set(r,t)}function _V(t){let{kernelName:e}=t;uu.has(e)&&B().getBool("DEBUG")&&sr(`Overriding the gradient for '${e}'`),uu.set(e,t)}function AV(t,e){let n=dw(t,e);if(!Ci.has(n))throw new Error(`The kernel '${t}' for backend '${e}' is not registered`);Ci.delete(n)}function MV(t){if(!uu.has(t))throw new Error(`The gradient '${t}' for backend is not registered`);uu.delete(t)}function kV(t,e){cu(t).forEach(r=>{let o=Object.assign({},r,{backendName:e});SN(o)})}function dw(t,e){return`${e}_${t}`}var Ci,uu,pf=v(()=>{"use strict";at();of();ff();Ci=nu("kernelRegistry",()=>new Map),uu=nu("gradRegistry",()=>new Map)});function hf(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var pw=v(()=>{"use strict";});var LN=Xt((WQ,$N)=>{"use strict";$N.exports=Fe;var mn=null;try{mn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Fe(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}Fe.prototype.__isLong__;Object.defineProperty(Fe.prototype,"__isLong__",{value:!0});function zt(t){return(t&&t.__isLong__)===!0}Fe.isLong=zt;var CN={},_N={};function rs(t,e){var n,r,o;return e?(t>>>=0,(o=0<=t&&t<256)&&(r=_N[t],r)?r:(n=Pe(t,(t|0)<0?-1:0,!0),o&&(_N[t]=n),n)):(t|=0,(o=-128<=t&&t<128)&&(r=CN[t],r)?r:(n=Pe(t,t<0?-1:0,!1),o&&(CN[t]=n),n))}Fe.fromInt=rs;function gn(t,e){if(isNaN(t))return e?ns:yn;if(e){if(t<0)return ns;if(t>=ON)return PN}else{if(t<=-MN)return Ht;if(t+1>=MN)return FN}return t<0?gn(-t,e).neg():Pe(t%Ai|0,t/Ai|0,e)}Fe.fromNumber=gn;function Pe(t,e,n){return new Fe(t,e,n)}Fe.fromBits=Pe;var mf=Math.pow;function mw(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return yn;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return mw(t.substring(1),e,n).neg();for(var o=gn(mf(n,8)),s=yn,i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),u=parseInt(t.substring(i,i+a),n);if(a<8){var c=gn(mf(n,a));s=s.mul(c).add(gn(u))}else s=s.mul(o),s=s.add(gn(u))}return s.unsigned=e,s}Fe.fromString=mw;function Mn(t,e){return typeof t=="number"?gn(t,e):typeof t=="string"?mw(t,e):Pe(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Fe.fromValue=Mn;var AN=65536,OV=1<<24,Ai=AN*AN,ON=Ai*Ai,MN=ON/2,kN=rs(OV),yn=rs(0);Fe.ZERO=yn;var ns=rs(0,!0);Fe.UZERO=ns;var _i=rs(1);Fe.ONE=_i;var RN=rs(1,!0);Fe.UONE=RN;var hw=rs(-1);Fe.NEG_ONE=hw;var FN=Pe(-1,2147483647,!1);Fe.MAX_VALUE=FN;var PN=Pe(-1,-1,!0);Fe.MAX_UNSIGNED_VALUE=PN;var Ht=Pe(0,-2147483648,!1);Fe.MIN_VALUE=Ht;var $=Fe.prototype;$.toInt=function(){return this.unsigned?this.low>>>0:this.low};$.toNumber=function(){return this.unsigned?(this.high>>>0)*Ai+(this.low>>>0):this.high*Ai+(this.low>>>0)};$.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ht)){var n=gn(e),r=this.div(n),o=r.mul(n).sub(this);return r.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var s=gn(mf(e,6),this.unsigned),i=this,a="";;){var u=i.div(s),c=i.sub(u.mul(s)).toInt()>>>0,l=c.toString(e);if(i=u,i.isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}};$.getHighBits=function(){return this.high};$.getHighBitsUnsigned=function(){return this.high>>>0};$.getLowBits=function(){return this.low};$.getLowBitsUnsigned=function(){return this.low>>>0};$.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ht)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};$.isZero=function(){return this.high===0&&this.low===0};$.eqz=$.isZero;$.isNegative=function(){return!this.unsigned&&this.high<0};$.isPositive=function(){return this.unsigned||this.high>=0};$.isOdd=function(){return(this.low&1)===1};$.isEven=function(){return(this.low&1)===0};$.equals=function(e){return zt(e)||(e=Mn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};$.eq=$.equals;$.notEquals=function(e){return!this.eq(e)};$.neq=$.notEquals;$.ne=$.notEquals;$.lessThan=function(e){return this.comp(e)<0};$.lt=$.lessThan;$.lessThanOrEqual=function(e){return this.comp(e)<=0};$.lte=$.lessThanOrEqual;$.le=$.lessThanOrEqual;$.greaterThan=function(e){return this.comp(e)>0};$.gt=$.greaterThan;$.greaterThanOrEqual=function(e){return this.comp(e)>=0};$.gte=$.greaterThanOrEqual;$.ge=$.greaterThanOrEqual;$.compare=function(e){if(zt(e)||(e=Mn(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};$.comp=$.compare;$.negate=function(){return!this.unsigned&&this.eq(Ht)?Ht:this.not().add(_i)};$.neg=$.negate;$.add=function(e){zt(e)||(e=Mn(e));var n=this.high>>>16,r=this.high&65535,o=this.low>>>16,s=this.low&65535,i=e.high>>>16,a=e.high&65535,u=e.low>>>16,c=e.low&65535,l=0,f=0,d=0,g=0;return g+=s+c,d+=g>>>16,g&=65535,d+=o+u,f+=d>>>16,d&=65535,f+=r+a,l+=f>>>16,f&=65535,l+=n+i,l&=65535,Pe(d<<16|g,l<<16|f,this.unsigned)};$.subtract=function(e){return zt(e)||(e=Mn(e)),this.add(e.neg())};$.sub=$.subtract;$.multiply=function(e){if(this.isZero())return yn;if(zt(e)||(e=Mn(e)),mn){var n=mn.mul(this.low,this.high,e.low,e.high);return Pe(n,mn.get_high(),this.unsigned)}if(e.isZero())return yn;if(this.eq(Ht))return e.isOdd()?Ht:yn;if(e.eq(Ht))return this.isOdd()?Ht:yn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(kN)&&e.lt(kN))return gn(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,o=this.high&65535,s=this.low>>>16,i=this.low&65535,a=e.high>>>16,u=e.high&65535,c=e.low>>>16,l=e.low&65535,f=0,d=0,g=0,b=0;return b+=i*l,g+=b>>>16,b&=65535,g+=s*l,d+=g>>>16,g&=65535,g+=i*c,d+=g>>>16,g&=65535,d+=o*l,f+=d>>>16,d&=65535,d+=s*c,f+=d>>>16,d&=65535,d+=i*u,f+=d>>>16,d&=65535,f+=r*l+o*c+s*u+i*a,f&=65535,Pe(g<<16|b,f<<16|d,this.unsigned)};$.mul=$.multiply;$.divide=function(e){if(zt(e)||(e=Mn(e)),e.isZero())throw Error("division by zero");if(mn){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?mn.div_u:mn.div_s)(this.low,this.high,e.low,e.high);return Pe(n,mn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ns:yn;var r,o,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return ns;if(e.gt(this.shru(1)))return RN;s=ns}else{if(this.eq(Ht)){if(e.eq(_i)||e.eq(hw))return Ht;if(e.eq(Ht))return _i;var i=this.shr(1);return r=i.div(e).shl(1),r.eq(yn)?e.isNegative()?_i:hw:(o=this.sub(e.mul(r)),s=r.add(o.div(e)),s)}else if(e.eq(Ht))return this.unsigned?ns:yn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=yn}for(o=this;o.gte(e);){r=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),u=a<=48?1:mf(2,a-48),c=gn(r),l=c.mul(e);l.isNegative()||l.gt(o);)r-=u,c=gn(r,this.unsigned),l=c.mul(e);c.isZero()&&(c=_i),s=s.add(c),o=o.sub(l)}return s};$.div=$.divide;$.modulo=function(e){if(zt(e)||(e=Mn(e)),mn){var n=(this.unsigned?mn.rem_u:mn.rem_s)(this.low,this.high,e.low,e.high);return Pe(n,mn.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};$.mod=$.modulo;$.rem=$.modulo;$.not=function(){return Pe(~this.low,~this.high,this.unsigned)};$.and=function(e){return zt(e)||(e=Mn(e)),Pe(this.low&e.low,this.high&e.high,this.unsigned)};$.or=function(e){return zt(e)||(e=Mn(e)),Pe(this.low|e.low,this.high|e.high,this.unsigned)};$.xor=function(e){return zt(e)||(e=Mn(e)),Pe(this.low^e.low,this.high^e.high,this.unsigned)};$.shiftLeft=function(e){return zt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Pe(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Pe(0,this.low<<e-32,this.unsigned)};$.shl=$.shiftLeft;$.shiftRight=function(e){return zt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Pe(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Pe(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};$.shr=$.shiftRight;$.shiftRightUnsigned=function(e){if(zt(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return Pe(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?Pe(n,0,this.unsigned):Pe(n>>>e-32,0,this.unsigned)};$.shru=$.shiftRightUnsigned;$.shr_u=$.shiftRightUnsigned;$.toSigned=function(){return this.unsigned?Pe(this.low,this.high,!1):this};$.toUnsigned=function(){return this.unsigned?this:Pe(this.low,this.high,!0)};$.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};$.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};$.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};Fe.fromBytes=function(e,n,r){return r?Fe.fromBytesLE(e,n):Fe.fromBytesBE(e,n)};Fe.fromBytesLE=function(e,n){return new Fe(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};Fe.fromBytesBE=function(e,n){return new Fe(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)}});function lu(t){return ss.fromString(t,!0,16)}function gw(t){return t.xor(t.shru(47))}function jN(t,e,n){let r=t.slice(e,e+n);return ss.fromBytes(Array.from(r),!0,!0)}function Me(t,e){return jN(t,e,8)}function BN(t,e){return jN(t,e,4)}function ut(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function co(t,e,n=lu("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let o=e.xor(r).mul(n);return o=o.xor(o.shru(47)),o=o.mul(n),o}function RV(t,e,n,r,o,s){o=o.add(t),s=ut(s.add(o).add(r),21);let i=o;return o=o.add(e),o=o.add(n),s=s.add(ut(o,44)),[o.add(r),s.add(i)]}function gf(t,e,n,r){return RV(Me(t,e),Me(t,e+8),Me(t,e+16),Me(t,e+24),n,r)}function FV(t,e=t.length){if(e>=8){let n=St.add(e*2),r=Me(t,0).add(St),o=Me(t,e-8),s=ut(o,37).mul(n).add(r),i=ut(r,25).add(o).mul(n);return co(s,i,n)}if(e>=4){let n=St.add(e*2),r=BN(t,0);return co(r.shl(3).add(e),BN(t,e-4),n)}if(e>0){let n=t[0],r=t[e>>1],o=t[e-1],s=n+(r<<8),i=e+(o<<2);return gw(St.mul(s).xor(VN.mul(i))).mul(St)}return St}function PV(t,e=t.length){let n=St.add(e*2),r=Me(t,0).mul(os),o=Me(t,8),s=Me(t,e-8).mul(n),i=Me(t,e-16).mul(St);return co(ut(r.add(o),43).add(ut(s,30)).add(i),r.add(ut(o.add(St),18)).add(s),n)}function $V(t,e=t.length){let n=St.add(e*2),r=Me(t,0).mul(St),o=Me(t,8),s=Me(t,e-8).mul(n),i=Me(t,e-16).mul(St),a=ut(r.add(o),43).add(ut(s,30)).add(i),u=co(a,r.add(ut(o.add(St),18)).add(s),n),c=Me(t,16).mul(n),l=Me(t,24),f=a.add(Me(t,e-32)).mul(n),d=u.add(Me(t,e-24)).mul(n);return co(ut(c.add(l),43).add(ut(f,30)).add(d),c.add(ut(l.add(r),18)).add(f),n)}function LV(t,e=t.length){let n=ss.fromNumber(81,!0);if(e<=32)return e<=16?FV(t,e):PV(t,e);if(e<=64)return $V(t,e);let r=n,o=n.mul(os).add(113),s=gw(o.mul(St).add(113)).mul(St),i=[ss.UZERO,ss.UZERO],a=[ss.UZERO,ss.UZERO];r=r.mul(St).add(Me(t,0));let u=0,c=(e-1>>6)*64,l=c+(e-1&63)-63;do r=ut(r.add(o).add(i[0]).add(Me(t,u+8)),37).mul(os),o=ut(o.add(i[1]).add(Me(t,u+48)),42).mul(os),r=r.xor(a[1]),o=o.add(i[0]).add(Me(t,u+40)),s=ut(s.add(a[0]),33).mul(os),i=gf(t,u,i[1].mul(os),r.add(a[0])),a=gf(t,u+32,s.add(a[1]),o.add(Me(t,u+16))),[s,r]=[r,s],u+=64;while(u!==c);let f=os.add(s.and(255).shl(1));return u=l,a[0]=a[0].add(e-1&63),i[0]=i[0].add(a[0]),a[0]=a[0].add(i[0]),r=ut(r.add(o).add(i[0]).add(Me(t,u+8)),37).mul(f),o=ut(o.add(i[1]).add(Me(t,u+48)),42).mul(f),r=r.xor(a[1].mul(9)),o=o.add(i[0].mul(9).add(Me(t,u+40))),s=ut(s.add(a[0]),33).mul(f),i=gf(t,u,i[1].mul(f),r.add(a[0])),a=gf(t,u+32,s.add(a[1]),o.add(Me(t,u+16))),[s,r]=[r,s],co(co(i[0],a[0],f).add(gw(o).mul(VN)).add(s),co(i[1],a[1],f).add(r),f)}var yw,ss,VN,os,St,UN=v(()=>{"use strict";yw=Hd(LN());ss=yw.default||yw;VN=lu("c3a5c85c97cb3127"),os=lu("b492b66fbe98f273"),St=lu("9ae16a3b2f90404f")});var R={};le(R,{arraysEqual:()=>Nt,arraysEqualWithNull:()=>mg,assert:()=>w,assertNonNegativeIntegerDimensions:()=>Ae,assertNonNull:()=>sn,assertShapesMatch:()=>Ce,bytesFromStringArray:()=>bg,bytesPerElement:()=>Ii,checkConversionForErrors:()=>vg,clamp:()=>Di,computeStrides:()=>or,convertBackendValuesAndArrayBuffer:()=>eV,createScalarValue:()=>BV,createShuffledIndices:()=>YB,decodeString:()=>ki,distSquared:()=>qB,encodeString:()=>lo,fetch:()=>jV,fingerPrint64:()=>LV,flatten:()=>kn,getArrayFromDType:()=>nf,getTypedArrayFromDType:()=>yg,hasEncodingLoss:()=>JB,hexToLong:()=>lu,indexToLoc:()=>rV,inferDtype:()=>uo,inferFromImplicitShape:()=>XB,isBoolean:()=>EN,isFunction:()=>rr,isInt:()=>Sr,isNumber:()=>xN,isPromise:()=>es,isScalarShape:()=>WB,isString:()=>An,isTypedArray:()=>Ve,isValidDtype:()=>wg,locToIndex:()=>nV,makeOnesTypedArray:()=>tu,makeZerosNestedTypedArray:()=>tV,makeZerosTypedArray:()=>Ni,nearestDivisor:()=>Ti,nearestLargerEven:()=>HB,now:()=>is,parseAxisParam:()=>ao,randUniform:()=>GB,repeatedTry:()=>QB,rightPad:()=>Jo,shuffle:()=>bN,shuffleCombo:()=>UB,sizeFromShape:()=>te,sizeToSquarishShape:()=>ZB,squeezeShape:()=>gg,sum:()=>zB,swap:()=>tf,tanh:()=>KB,toNestedArray:()=>Xo,toTypedArray:()=>Mi});function BV(t,e){return e==="string"?lo(t):Mi([t],e)}function VV(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function Mi(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=kn(t)),B().getBool("DEBUG")&&vg(t,e),VV(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){let n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}function is(){return B().platform.now()}function jV(t,e){return B().platform.fetch(t,e)}function lo(t,e="utf-8"){return e=e||"utf-8",B().platform.encode(t,e)}function ki(t,e="utf-8"){return e=e||"utf-8",B().platform.decode(t,e)}function Ve(t){return B().platform.isTypedArray!=null?B().platform.isTypedArray(t):hf(t)}function kn(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||es(t)||t==null||Ve(t)&&n)e.push(t);else if(Array.isArray(t)||Ve(t))for(let r=0;r<t.length;++r)kn(t[r],e,n);else{let r=-1;for(let o of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(o)&&(r=Math.max(r,Number(o)));for(let o=0;o<=r;o++)kn(t[o],e,n)}return e}var A=v(()=>{"use strict";at();pw();Ye();Ye();UN();});function UV(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){let o=t[r];if(isNaN(o)||!isFinite(o))return console.warn(`Found ${o} in the result of '${n}'`),!0}return!1}var yf,vw,HN=v(()=>{"use strict";at();A();yf=class{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new vw)}profileKernel(e,n,r){let o,s=()=>{o=r()},i,a=is();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(s);else{s();for(let c of o)c.dataSync();i=Promise.resolve({kernelMs:is()-a})}if(B().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let c=0;c<o.length;c++){let l=o[c];l.data().then(f=>{UV(f,l.dtype,e)})}return{kernelName:e,outputs:o,inputs:n,timeMs:i.then(c=>c.kernelMs),extraInfo:i.then(c=>c.getExtraProfileInfo!=null?c.getExtraProfileInfo():"")}}logKernelProfile(e){let{kernelName:n,outputs:r,timeMs:o,inputs:s,extraInfo:i}=e;r.forEach(a=>{Promise.all([a.data(),o,i]).then(u=>{this.logger.logKernelProfile(n,a,u[0],u[1],s,u[2])})})}};vw=class{logKernelProfile(e,n,r,o,s,i){let a=typeof o=="number"?Jo(`${o}ms`,9):o.error,u=Jo(e,25),c=n.rank,l=n.size,f=Jo(n.shape.toString(),14),d="";for(let g in s){let b=s[g];if(b!=null){let E=b.shape||n.shape,x=E.length;d+=`${g}: ${x}D ${x>0?E:""} `}}console.log(`%c${u}	%c${a}	%c${c}D ${f}	%c${l}	%c${d}	%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}});function zN(t,e,n){let r={},o={};for(let u=0;u<e.length;u++)r[e[u].id]=!0;for(let u=0;u<t.length;u++){let c=t[u],l=c.inputs;for(let f in l){let d=l[f],g=!1;for(let b=0;b<e.length;b++)if(r[d.id]){c.outputs.forEach(E=>r[E.id]=!0),g=!0,o[c.id]=!0;break}if(g)break}}let s={};s[n.id]=!0;let i={};for(let u=t.length-1;u>=0;u--){let c=t[u],l=c.inputs;for(let f=0;f<c.outputs.length;f++)if(s[c.outputs[f].id]){for(let d in l)s[l[d].id]=!0,i[c.id]=!0;break}}let a=[];for(let u=0;u<t.length;u++){let c=t[u];if(o[c.id]&&i[c.id]){let l={};for(let d in c.inputs){let g=c.inputs[d];r[g.id]&&(l[d]=g)}let f=Object.assign({},c);f.inputs=l,f.outputs=c.outputs,a.push(f)}}return a}function GN(t,e,n,r){for(let o=e.length-1;o>=0;o--){let s=e[o],i=[];if(s.outputs.forEach(u=>{let c=t[u.id];c!=null?i.push(c):i.push(null)}),s.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${s.kernelName}.`);let a=s.gradient(i);for(let u in s.inputs){if(!(u in a))throw new Error(`Cannot backprop through input ${u}. Available gradients found: ${Object.keys(a)}.`);let c=n(()=>a[u]());if(c.dtype!=="float32")throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input ${u} must have 'float32' dtype, but has '${c.dtype}'`);let l=s.inputs[u];if(!Nt(c.shape,l.shape))throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input '${u}' has shape '${c.shape}', which does not match the shape of the input '${l.shape}'`);if(t[l.id]==null)t[l.id]=c;else{let f=t[l.id];t[l.id]=r(f,c),f.dispose()}}}}var qN=v(()=>{"use strict";A();});function KN(t,e,n,r){let o=or(e),s=HV(t,e,n,o),i=e.length,a=vf(t,e,n,o,s),u=["Tensor"];return r&&(u.push(`  dtype: ${n}`),u.push(`  rank: ${i}`),u.push(`  shape: [${e}]`),u.push("  values:")),u.push(a.map(c=>"    "+c).join(`
`)),u.join(`
`)}function HV(t,e,n,r){let o=te(e),s=r[r.length-1],i=new Array(s).fill(0),a=e.length,u=n==="complex64"?pu(t):t;if(a>1)for(let c=0;c<o/s;c++){let l=c*s;for(let f=0;f<s;f++)i[f]=Math.max(i[f],du(u[l+f],0,n).length)}return i}function du(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed(ww))} + ${parseFloat(t[1].toFixed(ww))}j`:An(t)?r=`'${t}'`:n==="bool"?r=ZN(t):r=parseFloat(t.toFixed(ww)).toString(),Jo(r,e)}function ZN(t){return t===0?"false":"true"}function vf(t,e,n,r,o,s=!0){let i=n==="complex64"?2:1,a=e[0],u=e.length;if(u===0){if(n==="complex64"){let E=pu(t);return[du(E[0],0,n)]}return n==="bool"?[ZN(t[0])]:[t[0].toString()]}if(u===1){if(a>WN){let x=fu*i,N=Array.from(t.slice(0,x)),P=Array.from(t.slice((a-fu)*i,a*i));return n==="complex64"&&(N=pu(N),P=pu(P)),["["+N.map((_,M)=>du(_,o[M],n)).join(", ")+", ..., "+P.map((_,M)=>du(_,o[a-fu+M],n)).join(", ")+"]"]}return["["+(n==="complex64"?pu(t):Array.from(t)).map((x,N)=>du(x,o[N],n)).join(", ")+"]"]}let c=e.slice(1),l=r.slice(1),f=r[0]*i,d=[];if(a>WN){for(let E=0;E<fu;E++){let x=E*f,N=x+f;d.push(...vf(t.slice(x,N),c,n,l,o,!1))}d.push("...");for(let E=a-fu;E<a;E++){let x=E*f,N=x+f;d.push(...vf(t.slice(x,N),c,n,l,o,E===a-1))}}else for(let E=0;E<a;E++){let x=E*f,N=x+f;d.push(...vf(t.slice(x,N),c,n,l,o,E===a-1))}let g=u===2?",":"";d[0]="["+(a>0?d[0]+g:"");for(let E=1;E<d.length-1;E++)d[E]=" "+d[E]+g;let b=`,
`;for(let E=2;E<u;E++)b+=`
`;return d[d.length-1]=" "+d[d.length-1]+"]"+(s?"":b),d}function pu(t){let e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}var WN,fu,ww,YN=v(()=>{"use strict";A();WN=20,fu=3,ww=7});function QN(t){On=t}function XN(t){Oi=t}function JN(t){zV=t}function bw(){return nu("Tensor",()=>xe)}var Cr,On,Oi,zV,xe,ir,an=v(()=>{"use strict";of();YN();A();A();Cr=class{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=te(e),r!=null){let o=r.length;w(o===this.size,()=>`Length of values '${o}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||nf(n,this.size),this.strides=or(e)}set(e,...n){n.length===0&&(n=[0]),w(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);let r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(let o of e){if(o<0||o>=this.shape[n]){let s=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(s)}n++}let r=e[e.length-1];for(let o=0;o<e.length-1;++o)r+=this.strides[o]*e[o];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];let n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return On().makeTensor(this.values,this.shape,this.dtype)}},On=null,Oi=null,zV=null;xe=class{constructor(e,n,r,o){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=te(e),this.strides=or(e),this.dataId=r,this.id=o,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}buffer(){return k(this,null,function*(){let e=yield this.data();return Oi.buffer(this.shape,this.dtype,e)})}bufferSync(){return Oi.buffer(this.shape,this.dtype,this.dataSync())}array(){return k(this,null,function*(){let e=yield this.data();return Xo(this.shape,e,this.dtype==="complex64")})}arraySync(){return Xo(this.shape,this.dataSync(),this.dtype==="complex64")}data(){return k(this,null,function*(){this.throwIfDisposed();let e=On().read(this.dataId);if(this.dtype==="string"){let n=yield e;try{return n.map(r=>ki(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e})}dataToGPU(e){return this.throwIfDisposed(),On().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();let e=On().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>ki(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}bytes(){return k(this,null,function*(){this.throwIfDisposed();let e=yield On().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)})}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),On().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Oi.print(this,e)}clone(){return this.throwIfDisposed(),Oi.clone(this)}toString(e=!1){let n=this.dataSync();return KN(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Oi.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),On().makeVariable(this,e,n,r)}};Object.defineProperty(xe,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});bw();ir=class extends xe{constructor(e,n,r,o){super(e.shape,e.dtype,e.dataId,o),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Nt(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);On().disposeTensor(this),this.dataId=e.dataId,On().incRef(this,null)}dispose(){On().disposeVariable(this),this.isDisposedInternal=!0}};Object.defineProperty(ir,Symbol.hasInstance,{value:t=>t instanceof xe&&t.assign!=null&&t.assign instanceof Function})});function as(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return GV[t][e]}function oS(t){return as(t,"int32")}function wf(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function bf(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}var Ew,eS,tS,nS,rS,GV,Ri=v(()=>{"use strict";Ew=function(t){return t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6",t}(Ew||{}),eS=function(t){return t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64",t}(eS||{}),tS=function(t){return t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64",t}(tS||{}),nS=function(t){return t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64",t}(nS||{}),rS=function(t){return t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64",t}(rS||{}),GV={float32:nS,int32:eS,bool:tS,complex64:rS}});var Dw={};le(Dw,{assertTypesMatch:()=>xw,getTensorsInContainer:()=>hu,isTensorInList:()=>qV,makeTypesMatch:()=>Q});function Q(t,e){if(t.dtype===e.dtype)return[t,e];let n=as(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function xw(t,e){w(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function qV(t,e){return e.some(n=>n.id===t.id)}function hu(t){let e=[];return sS(t,e,new Set),e}function sS(t,e,n){if(t==null)return;if(t instanceof xe){e.push(t);return}if(!WV(t))return;let r=t;for(let o in r){let s=r[o];n.has(s)||(n.add(s),sS(s,e,n))}}function WV(t){return Array.isArray(t)||typeof t=="object"}var ke=v(()=>{"use strict";an();Ri();A();});function Iw(t){return t.kernelName!=null}function ZV(t){let e=tu(te(t),"float32");return y.makeTensor(e,t,"float32")}function Tw(){let t=xg();if(t._tfengine==null){let e=new Si(t);t._tfengine=new KV(e)}return TN(t._tfengine.ENV),QN(()=>t._tfengine),t._tfengine}function YV(t,e){let n={a:t,b:e};return y.runKernel(ru,n)}var Ef,KV,y,T=v(()=>{"use strict";hg();at();of();S();pf();ff();HN();qN();an();ke();A();A();Ef=class{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(let e in this.registeredVariables)this.registeredVariables[e].dispose()}},KV=(()=>{class t{constructor(n){this.ENV=n,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Ef}ready(){return k(this,null,function*(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;let n=this.getSortedBackends();for(let r=0;r<n.length;r++){let o=n[r];if(yield this.initializeBackend(o).success){yield this.setBackend(o);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")})}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){let{name:n,asyncInit:r}=this.initializeBackendsAndReturnBest();if(r)throw new Error(`The highest priority backend '${n}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(n)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(n){if(!(n in this.registry))if(n in this.registryFactory){let{asyncInit:r}=this.initializeBackend(n);if(r)return null}else return null;return this.registry[n]}findBackendFactory(n){return n in this.registryFactory?this.registryFactory[n].factory:null}registerBackend(n,r,o=1){return n in this.registryFactory?(sr(`${n} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[n]={factory:r,priority:o},!0)}setBackend(n){return k(this,null,function*(){if(this.registryFactory[n]==null)throw new Error(`Backend name '${n}' not found in registry`);if(this.backendName=n,this.registry[n]==null){this.backendInstance=null;let{success:r,asyncInit:o}=this.initializeBackend(n);if(!(o?yield r:r))return!1}return this.backendInstance=this.registry[n],this.setupRegisteredKernels(),this.profiler=new yf(this.backendInstance),!0})}setupRegisteredKernels(){cu(this.backendName).forEach(r=>{r.setupFunc!=null&&r.setupFunc(this.backendInstance)})}disposeRegisteredKernels(n){cu(n).forEach(o=>{o.disposeFunc!=null&&o.disposeFunc(this.registry[n])})}initializeBackend(n){let r=this.registryFactory[n];if(r==null)throw new Error(`Cannot initialize backend ${n}, no registration found.`);try{let o=r.factory();if(o&&!(o instanceof xi)&&typeof o.then=="function"){let s=++this.pendingBackendInitId,i=o.then(a=>s<this.pendingBackendInitId?!1:(this.registry[n]=a,this.pendingBackendInit=null,!0)).catch(a=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,sr(`Initialization of backend ${n} failed`),sr(a.stack||a.message)),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}else return this.registry[n]=o,{success:!0,asyncInit:!1}}catch(o){return sr(`Initialization of backend ${n} failed`),sr(o.stack||o.message),{success:!1,asyncInit:!1}}}removeBackend(n){if(!(n in this.registryFactory))throw new Error(`${n} backend not found in registry`);this.backendName===n&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,n in this.registry&&(this.disposeRegisteredKernels(n),this.registry[n].dispose(),delete this.registry[n]),delete this.registryFactory[n],this.backendName===n&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((n,r)=>this.registryFactory[r].priority-this.registryFactory[n].priority)}initializeBackendsAndReturnBest(){let n=this.getSortedBackends();for(let r=0;r<n.length;r++){let o=n[r],{success:s,asyncInit:i}=this.initializeBackend(o);if(i||s)return{name:o,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(n,r){let o=this.state.tensorInfo.get(r),s=o.backend,i=this.readSync(r),a=s.refCount(r);s.disposeData(r,!0),o.backend=n,n.move(r,i,o.shape,o.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(n,r){let o=null;if(r==null){if(typeof n!="function")throw new Error("Please provide a function to tidy()");r=n}else{if(typeof n!="string"&&!(n instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof r!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=n}let s;return this.scopedRun(()=>this.startScope(o),()=>this.endScope(s),()=>(s=r(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(n,r,o){n();try{let s=o();return r(),s}catch(s){throw r(),s}}nextTensorId(){return t.nextTensorId++}nextVariableId(){return t.nextVariableId++}clone(n){let r=y.runKernel(su,{x:n}),o={x:n},s=a=>({x:()=>{let u="float32",c={x:a},l={dtype:u};return y.runKernel(ou,c,l)}}),i=[];return this.addTapeNode(this.state.activeScope.name,o,[r],s,i,{}),r}runKernel(n,r,o){if(this.backendName==null&&this.backend,!(ts(n,this.backendName)!=null))throw new Error(`Kernel '${n}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:n,inputs:r,attrs:o})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(n,r,o){let s=this.backend.numDataIds(),i=0;o.forEach(c=>{i+=c.dtype==="complex64"?3:1});let a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],u=s-r-i-a;if(u>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${u} data ids) after running '${n}'`)}runKernelFunc(n){let r,o=[],s=this.isTapeOn(),i=this.state.numBytes,a=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let u;this.backendName==null&&this.backend;let c,l=Iw(n)?n.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(Iw(n)){let{kernelName:E,inputs:x,attrs:N}=n;this.backendName==null&&this.backend;let P=ts(E,this.backendName);w(P!=null,()=>`Cannot find registered kernel '${E}' for backend '${this.backendName}'`),u=()=>{let _=this.backend.numDataIds();c=P.kernelFunc({inputs:x,attrs:N,backend:this.backend});let M=Array.isArray(c)?c:[c];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(E,_,M);let L=M.map(F=>F.rank!=null?F:this.makeTensorFromTensorInfo(F));if(s){let F=this.getTensorsForGradient(E,x,L);o=this.saveTensorsForBackwardMode(F)}return L}}else{let{forwardFunc:E}=n,x=N=>{s&&(o=N.map(P=>this.keep(this.clone(P))))};u=()=>{let N=this.backend.numDataIds();c=this.tidy(()=>E(this.backend,x));let P=Array.isArray(c)?c:[c];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,N,P),P}}let{inputs:f,attrs:d}=n,g=Iw(n)?null:n.backwardsFunc,b;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?r=u():(b=this.profiler.profileKernel(l,f,()=>u()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(b),r=b.outputs)}),s&&this.addTapeNode(l,f,r,g,o,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(f).map(E=>f[E]!=null?f[E].shape:null),outputShapes:r.map(E=>E.shape),kernelTimeMs:b.timeMs,extraInfo:b.extraInfo}),Array.isArray(c)?r:r[0]}saveTensorsForBackwardMode(n){return n.map(o=>this.keep(this.clone(o)))}getTensorsForGradient(n,r,o){let s=df(n);if(s!=null){let i=s.inputsToSave||[],a=s.outputsToSave||[],u;s.saveAllInputs?(w(Array.isArray(r),()=>"saveAllInputs is true, expected inputs to be an array."),u=Object.keys(r).map(l=>r[l])):u=i.map(l=>r[l]);let c=o.filter((l,f)=>a[f]);return u.concat(c)}return[]}makeTensor(n,r,o,s){if(n==null)throw new Error("Values passed to engine.makeTensor() are null");o=o||"float32",s=s||this.backend;let i=n;o==="string"&&An(n[0])&&(i=n.map(c=>lo(c)));let a=s.write(i,r,o),u=new xe(r,o,a,this.nextTensorId());if(this.trackTensor(u,s),o==="string"){let c=this.state.tensorInfo.get(a),l=bg(i);this.state.numBytes+=l-c.bytes,c.bytes=l}return u}makeTensorFromDataId(n,r,o,s){o=o||"float32";let i={dataId:n,shape:r,dtype:o};return this.makeTensorFromTensorInfo(i,s)}makeTensorFromTensorInfo(n,r){let{dataId:o,shape:s,dtype:i}=n,a=new xe(s,i,o,this.nextTensorId());return this.trackTensor(a,r),a}makeVariable(n,r=!0,o,s){o=o||this.nextVariableId().toString(),s!=null&&s!==n.dtype&&(n=n.cast(s));let i=new ir(n,r,o,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(n,r){this.state.numTensors++,n.dtype==="string"&&this.state.numStringTensors++;let o=0;n.dtype!=="complex64"&&n.dtype!=="string"&&(o=n.size*Ii(n.dtype)),this.state.numBytes+=o,this.state.tensorInfo.has(n.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(n.dataId,{backend:r||this.backend,dtype:n.dtype,shape:n.shape,bytes:o})),n instanceof ir||this.track(n)}incRef(n,r){this.trackTensor(n,r),this.backend.incRef(n.dataId)}removeDataId(n,r){this.state.tensorInfo.has(n)&&this.state.tensorInfo.get(n).backend===r&&(this.state.tensorInfo.delete(n),this.state.numDataBuffers--)}disposeTensor(n){if(!this.state.tensorInfo.has(n.dataId))return;let r=this.state.tensorInfo.get(n.dataId);if(this.state.numTensors--,n.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=r.bytes),n.dtype!=="complex64"&&n.dtype!=="string"){let o=n.size*Ii(n.dtype);this.state.numBytes-=o}r.backend.disposeData(n.dataId)&&this.removeDataId(n.dataId,r.backend)}disposeVariables(){for(let n in this.state.registeredVariables){let r=this.state.registeredVariables[n];this.disposeVariable(r)}}disposeVariable(n){this.disposeTensor(n),this.state.registeredVariables[n.name]!=null&&delete this.state.registeredVariables[n.name]}memory(){let n=this.backend.memory();return n.numTensors=this.state.numTensors,n.numDataBuffers=this.state.numDataBuffers,n.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(n.unreliable=!0,n.reasons==null&&(n.reasons=[]),n.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),n}profile(n){return k(this,null,function*(){this.state.profiling=!0;let r=this.state.numBytes,o=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=yield n(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-r,this.state.activeProfile.newTensors=this.state.numTensors-o;for(let s of this.state.activeProfile.kernels)s.kernelTimeMs=yield s.kernelTimeMs,s.extraInfo=yield s.extraInfo;return this.state.activeProfile})}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(n,r,o,s,i,a){let u={id:this.state.nextTapeNodeId++,kernelName:n,inputs:r,outputs:o,saved:i},c=df(n);c!=null&&(s=c.gradFunc),s!=null&&(u.gradient=l=>(l=l.map((f,d)=>{if(f==null){let g=o[d],b=Ni(g.size,g.dtype);return this.makeTensor(b,g.shape,g.dtype)}return f}),s(l.length>1?l:l[0],i,a))),this.state.activeTape.push(u)}keep(n){return n.kept=!0,n}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(n){let r={track:[],name:"unnamed scope",id:this.state.nextScopeId++};n&&(r.name=n),this.state.scopeStack.push(r),this.state.activeScope=r}endScope(n){let r=hu(n),o=new Set(r.map(i=>i.id));for(let i=0;i<this.state.activeScope.track.length;i++){let a=this.state.activeScope.track[i];!a.kept&&!o.has(a.id)&&a.dispose()}let s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(i=>{!i.kept&&i.scopeId===s.id&&this.track(i)})}gradients(n,r,o,s=!1){if(w(r.length>0,()=>"gradients() received an empty list of xs."),o!=null&&o.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${o.dtype}'`);let i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",n));w(i instanceof xe,()=>"The result y returned by f() must be a tensor.");let a=zN(this.state.activeTape,r,i);if(!s&&a.length===0&&r.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{let u={};u[i.id]=o??ZV(i.shape),GN(u,a,l=>this.tidy(l),YV);let c=r.map(l=>u[l.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(l=>{for(let f of l.saved)f.dispose()}),this.state.activeTape=null),{value:i,grads:c}})}customGrad(n){return w(rr(n),()=>"The f passed in customGrad(f) must be a function."),(...r)=>{w(r.every(u=>u instanceof xe),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let o,s={};r.forEach((u,c)=>{s[c]=u});let i=(u,c)=>(o=n(...r,c),w(o.value instanceof xe,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),w(rr(o.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),o.value),a=(u,c)=>{let l=o.gradFunc(u,c),f=Array.isArray(l)?l:[l];w(f.length===r.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),w(f.every(g=>g instanceof xe),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");let d={};return f.forEach((g,b)=>{d[b]=()=>g}),d};return this.runKernelFunc({forwardFunc:i,backwardsFunc:a,inputs:s})}}readSync(n){return this.state.tensorInfo.get(n).backend.readSync(n)}read(n){return this.state.tensorInfo.get(n).backend.read(n)}readToGPU(n,r){return this.state.tensorInfo.get(n).backend.readToGPU(n,r)}time(n){return k(this,null,function*(){let r=is(),o=yield this.backend.time(n);return o.wallMs=is()-r,o})}track(n){return this.state.activeScope!=null&&(n.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(n)),n}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Ef;for(let n in this.registry)this.disposeRegisteredKernels(n),this.registry[n].dispose(),delete this.registry[n];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}return t.nextTensorId=0,t.nextVariableId=0,t})();y=Tw()});var xf={};le(xf,{isBrowser:()=>Sw,isMobile:()=>JV,mockIsMobile:()=>XV});function QV(){return typeof navigator<"u"&&navigator!=null}function XV(t){Nw=t}function JV(t){if(Nw!==void 0)return Nw;if(t||QV()){if(t||(t=navigator),t.product==="ReactNative")return!0;let e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){let n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function Sw(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var Nw,Cw=v(()=>{"use strict";});var Pt,Fi=v(()=>{"use strict";T();Cw();at();Pt=B();Pt.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Pt.registerFlag("IS_BROWSER",()=>Sw());Pt.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Pt.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Pt.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Pt.registerFlag("PROD",()=>!1);Pt.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Pt.getBool("DEBUG"));Pt.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Pt.registerFlag("IS_TEST",()=>!1);Pt.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Pt.getBool("DEBUG"));Pt.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Pt.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Pt.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1)});function ft(t,e){let n=t;if(Ve(t))return e==="string"?[]:[t.length];if(wf(t)){let o=t.channels||"RGBA";return[t.height,t.width*o.length]}else if(bf(t))return[t.buffer.size/(e==null?4:Ii(e))];if(!Array.isArray(t))return[];let r=[];for(;Array.isArray(n)||Ve(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&B().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&aS(t,r,[]),r}function aS(t,e,n){if(n=n||[],!Array.isArray(t)&&!Ve(t)){w(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}w(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),w(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);let r=e.slice(1);for(let o=0;o<t.length;++o)aS(t[o],r,n.concat(o))}function iS(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function h(t,e,n,r="numeric"){if(t instanceof bw())return iS(r,t.dtype,e,n),t;let o=uo(t);if(o!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),iS(r,o,e,n),t==null||!Ve(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){let u=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${u}'`)}let s=ft(t,o);!Ve(t)&&!Array.isArray(t)&&(t=[t]);let a=o!=="string"?Mi(t,o):kn(t,[],!0);return y.makeTensor(a,s,o)}function _r(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((s,i)=>h(s,`${e}[${i}]`,n,r))}var I=v(()=>{"use strict";T();at();an();Ri();A();Ye();});function m(t){let e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0],r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+Df;let o=(...s)=>{y.startScope(n);try{let i=r(...s);return es(i)&&console.error("Cannot return a Promise inside of tidy."),y.endScope(i),i}catch(i){throw y.endScope(null),i}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}var Df,D=v(()=>{"use strict";T();A();Df="__op"});function ej(t,e){let n=h(t,"real","complex"),r=h(e,"imag","complex");Ce(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);let o={real:n,imag:r};return y.runKernel(Gg,o)}var Ct,fo=v(()=>{"use strict";T();S();I();A();D();Ct=m({complex_:ej})});function _t(t,e,n,r){if(r==null)r=uo(t);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(bf(t)||wf(t)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return y.backend.createTensorFromGPUData(t,e||n,r)}if(!Ve(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Ae(e);let o=te(e),s=te(n);w(o===s,()=>`Based on the provided shape, [${e}], the tensor should have ${o} values but has ${s}`);for(let i=0;i<n.length;++i){let a=n[i],u=i===n.length-1?a!==te(e.slice(i)):!0;w(n[i]===e[i]||!u,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!Ve(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?Mi(t,r):kn(t,[],!0),y.makeTensor(t,e,r)}var Ar=v(()=>{"use strict";T();Ri();A();});function bt(t,e,n){let r=ft(t,n);return _t(t,e,r,n)}var mu=v(()=>{"use strict";I();Ar();});var Mr,_w=v(()=>{"use strict";Mr={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8}});function tj(t,e){let n=0,r=t.length;for(;n<=r;){let o=Math.floor((r-n)/2)+n,s=e(t[o]);if(s===0)return o;s<0?r=o:n=o+1}return-1}var dt,po=v(()=>{"use strict";A();dt=class t{static join(e){return new t(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(r=>Ve(r)?r.buffer:r),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let r=0;r<e.length;r++){let o=e[r];r!==e.length-1&&o.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);let s=n+o.byteLength;this.shards.push({buffer:o,start:n,end:s}),n=s}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);let r=this.findShardForByte(e);if(r===-1)throw new Error(`Could not find start shard for byte ${e}`);let o=n-e,s=new ArrayBuffer(o),i=new Uint8Array(s),a=0;for(let u=r;u<this.shards.length;u++){let c=this.shards[u],f=e+a-c.start,d=a,b=Math.min(n,c.end)-c.start,E=new Uint8Array(c.buffer,f,b-f);if(i.set(E,d),a+=E.length,n<c.end)break}return s}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(o){return e<o.start?-1:e>=o.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;let r=tj(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}});function nj(){B().set("PROD",!0)}function rj(){B().set("DEBUG",!0)}function oj(){B().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function uS(t){B().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function sj(){y.disposeVariables()}function ij(){return y}function aj(){return y.memory()}function uj(t){return y.profile(t)}function X(t,e){return y.tidy(t,e)}function $e(t){hu(t).forEach(n=>n.dispose())}function At(t){return y.keep(t)}function cj(t){return y.time(t)}function lj(t){return y.setBackend(t)}function fj(){return y.ready()}function Aw(){return y.backendName}function dj(t){y.removeBackend(t)}function pj(t){return y.findBackend(t)}function hj(t){return y.findBackendFactory(t)}function mj(t,e,n=1){return y.registerBackend(t,e,n)}function Mw(){return y.backend}function gj(t,e){B().setPlatform(t,e)}var Gt=v(()=>{"use strict";T();at();an();ke();JN(uS)});function fS(t,e){return k(this,null,function*(){let n=[],r=[],o=Array.isArray(t)?t.map(i=>i.name):Object.keys(t);for(let i=0;i<o.length;++i){let a=o[i],u=Array.isArray(t)?t[i].tensor:t[a];if(u.dtype!=="float32"&&u.dtype!=="int32"&&u.dtype!=="bool"&&u.dtype!=="string"&&u.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${a}': ${u.dtype}`);let c={name:a,shape:u.shape,dtype:u.dtype};if(u.dtype==="string"){let l=new Promise(f=>k(this,null,function*(){let d=yield u.bytes(),g=d.reduce((x,N)=>x+N.length,0)+ho*d.length,b=new Uint8Array(g),E=0;for(let x=0;x<d.length;x++){let N=d[x],P=new Uint8Array(new Uint32Array([N.length]).buffer);b.set(P,E),E+=ho,b.set(N,E),E+=N.length}f(b)}));r.push(l)}else r.push(u.data());e!=null&&(c.group=e),n.push(c)}let s=yield Promise.all(r);return{data:wj(s),specs:n}})}function If(t,e){let n=new dt(t),r={},o=0;for(let s of e){let i=yj(s,(a,u)=>n.slice(o+a,o+u));r[s.name]=dS(s,n.slice(o,o+i)),o+=i}return r}function yj(t,e){let n=te(t.shape),r;if("quantization"in t){let o=t.quantization;r=Mr[o.dtype]}else if(t.dtype==="string"){let o=0;for(let s=0;s<n;s++)o+=ho+new Uint32Array(e(o,o+ho))[0];return o}else r=Mr[t.dtype];return n*r}function vj(t,e){return k(this,null,function*(){let n=te(t.shape),r;if("quantization"in t){let o=t.quantization;r=Mr[o.dtype]}else if(t.dtype==="string"){let o=0;for(let s=0;s<n;s++)o+=ho+new Uint32Array(yield e(o,o+ho))[0];return o}else r=Mr[t.dtype];return n*r})}function dS(t,e){let n=t.name,r=t.dtype,o=t.shape,s=te(o),i,a=0;if("quantization"in t){let u=t.quantization;if(u.dtype==="uint8"||u.dtype==="uint16"){if(!("min"in u&&"scale"in u))throw new Error(`Weight ${t.name} with quantization ${u.dtype} doesn't have corresponding metadata min and scale.`)}else if(u.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${t.name} is quantized with ${u.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${t.name} has unknown quantization dtype ${u.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);let c=Mr[u.dtype],l=u.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(r==="float32")if(u.dtype==="uint8"||u.dtype==="uint16"){i=new Float32Array(l.length);for(let f=0;f<l.length;f++){let d=l[f];i[f]=d*u.scale+u.min}}else if(u.dtype==="float16")i=Dj()(l);else throw new Error(`Unsupported quantization type ${u.dtype} for weight type float32.`);else if(r==="int32"){if(u.dtype!=="uint8"&&u.dtype!=="uint16")throw new Error(`Unsupported quantization type ${u.dtype} for weight type int32.`);i=new Int32Array(l.length);for(let f=0;f<l.length;f++){let d=l[f];i[f]=Math.round(d*u.scale+u.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=s*c}else if(r==="string"){let u=te(t.shape);i=[];for(let c=0;c<u;c++){let l=new Uint32Array(e.slice(a,a+ho))[0];a+=ho;let f=new Uint8Array(e.slice(a,a+l));i.push(f),a+=l}}else{let u=Mr[r];if(r==="float32")i=new Float32Array(e);else if(r==="int32")i=new Int32Array(e);else if(r==="bool")i=new Uint8Array(e);else if(r==="complex64"){i=new Float32Array(e);let c=new Float32Array(i.length/2),l=new Float32Array(i.length/2);for(let b=0;b<c.length;b++)c[b]=i[b*2],l[b]=i[b*2+1];let f=bt(c,o,"float32"),d=bt(l,o,"float32"),g=Ct(f,d);return f.dispose(),d.dispose(),g}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=s*u}return bt(i,o,r)}function cS(t,e,n){return k(this,null,function*(){let r=new Uint8Array(e);for(;r.byteLength<n;){let{done:o,value:s}=yield t.read();if(o&&s==null){let a=n-r.byteLength;throw new Error(`Reader is done but ${a} bytes are still expected`)}let i=new Uint8Array(r.length+s.byteLength);i.set(r,0),i.set(new Uint8Array(s),r.length),r=i}return r.buffer})}function Tf(t,e){return k(this,null,function*(){let n={},r=t.getReader(),o=new ArrayBuffer(0);for(let s of e){let i=yield vj(s,(c,l)=>k(this,null,function*(){return o=yield cS(r,o,l),o.slice(c,l)}));o=yield cS(r,o,i);let a=o.slice(0,i);o=o.slice(i);let u=dS(s,a);if(n[s.name]=u,Aw()==="webgpu"){let c=Mw();"uploadToGPU"in c&&te(u.shape)>=B().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&c.uploadToGPU(u.dataId)}}return n})}function wj(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0,n=[];t.forEach(s=>{if(e+=s.byteLength,n.push(s.byteLength===s.buffer.byteLength?s:new s.constructor(s)),!(s instanceof Float32Array||s instanceof Int32Array||s instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${s.constructor.name}`)});let r=new Uint8Array(e),o=0;return n.forEach(s=>{r.set(new Uint8Array(s.buffer),o),o+=s.byteLength}),r.buffer}function lS(t){return kw?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function pS(t){if(kw)return Buffer.from(t).toString("base64");let e=new Uint8Array(t),n="";for(let r=0,o=e.length;r<o;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function hS(t){if(kw){let r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}let e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function mS(t){return dt.join(t)}function Ow(t){let e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);let n=t.split(e);return n[n.length-1]}function Nf(t,e){let n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function Rw(t,e,n){let r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(r.initializerSignature=t.initializerSignature),r}function Pi(t,e){return k(this,null,function*(){let n,r;return t.weightsManifest!=null&&([n,r]=yield e(t.weightsManifest)),Rw(t,n,r)})}function ar(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:lS(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:lS(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new dt(t.weightData).byteLength}}function gu(t){let e=[];for(let n of t)e.push(...n.weights);return e}function bj(){let t=n=>{let r=n<<13,o=0;for(;!(r&8388608);)o-=8388608,r<<=1;return r&=-8388609,o+=947912704,r|o},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function Ej(){let t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function xj(){let t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function Dj(){let t=bj(),e=Ej(),n=xj();return r=>{let o=new ArrayBuffer(4*r.length),s=new Uint32Array(o);for(let i=0;i<r.length;i++){let a=r[i],u=t[n[a>>10]+(a&1023)]+e[a>>10];s[i]=u}return new Float32Array(o)}}var ho,kw,mo=v(()=>{"use strict";fo();mu();A();_w();po();Gt();at();Gt();ho=4;kw=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u")});var Qe,gS,yS,vS,wS,us=v(()=>{"use strict";Qe=class t{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return t.instance==null&&(t.instance=new t),t.instance}static registerSaveRouter(e){t.getInstance().saveRouters.push(e)}static registerLoadRouter(e){t.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return t.getHandlers(e,"save")}static getLoadHandlers(e,n){return t.getHandlers(e,"load",n)}static getHandlers(e,n,r){let o=[];return(n==="load"?t.getInstance().loadRouters:t.getInstance().saveRouters).forEach(i=>{let a=i(e,r);a!==null&&o.push(a)}),o}},gS=t=>Qe.registerSaveRouter(t),yS=t=>Qe.registerLoadRouter(t),vS=t=>Qe.getSaveHandlers(t),wS=(t,e)=>Qe.getLoadHandlers(t,e)});function bS(){if(!B().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");let t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function $w(t){let e=t.result;e.createObjectStore(cs,{keyPath:"modelPath"}),e.createObjectStore(go,{keyPath:"modelPath"})}function Ij(t){return new ls(t)}function Tj(t){return t.startsWith(ls.URL_SCHEME)?t.slice(ls.URL_SCHEME.length):t}var Fw,Pw,cs,go,ls,ES,Sf,Lw=v(()=>{"use strict";Fi();at();mo();us();po();Fw="tensorflowjs",Pw=1,cs="models_store",go="model_info_store";ls=(()=>{class t{constructor(n){if(this.indexedDB=bS(),n==null||!n)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=n}save(n){return k(this,null,function*(){if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,n)})}load(){return k(this,null,function*(){return this.databaseAction(this.modelPath)})}databaseAction(n,r){return new Promise((o,s)=>{let i=this.indexedDB.open(Fw,Pw);i.onupgradeneeded=()=>$w(i),i.onsuccess=()=>{let a=i.result;if(r==null){let u=a.transaction(cs,"readonly"),l=u.objectStore(cs).get(this.modelPath);l.onsuccess=()=>{if(l.result==null)return a.close(),s(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));o(l.result.modelArtifacts)},l.onerror=f=>(a.close(),s(l.error)),u.oncomplete=()=>a.close()}else{r.weightData=dt.join(r.weightData);let u=ar(r),c=a.transaction(go,"readwrite"),l=c.objectStore(go),f;try{f=l.put({modelPath:this.modelPath,modelArtifactsInfo:u})}catch(g){return s(g)}let d;f.onsuccess=()=>{d=a.transaction(cs,"readwrite");let g=d.objectStore(cs),b;try{b=g.put({modelPath:this.modelPath,modelArtifacts:r,modelArtifactsInfo:u})}catch(E){return s(E)}b.onsuccess=()=>o({modelArtifactsInfo:u}),b.onerror=E=>{l=c.objectStore(go);let x=l.delete(this.modelPath);x.onsuccess=()=>(a.close(),s(b.error)),x.onerror=N=>(a.close(),s(b.error))}},f.onerror=g=>(a.close(),s(f.error)),c.oncomplete=()=>{d==null?a.close():d.oncomplete=()=>a.close()}}},i.onerror=a=>s(i.error)})}}return t.URL_SCHEME="indexeddb://",t})(),ES=t=>B().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(ls.URL_SCHEME)?Ij(t.slice(ls.URL_SCHEME.length)):null;Qe.registerSaveRouter(ES);Qe.registerLoadRouter(ES);Sf=class{constructor(){this.indexedDB=bS()}listModels(){return k(this,null,function*(){return new Promise((e,n)=>{let r=this.indexedDB.open(Fw,Pw);r.onupgradeneeded=()=>$w(r),r.onsuccess=()=>{let o=r.result,s=o.transaction(go,"readonly"),a=s.objectStore(go).getAll();a.onsuccess=()=>{let u={};for(let c of a.result)u[c.modelPath]=c.modelArtifactsInfo;e(u)},a.onerror=u=>(o.close(),n(a.error)),s.oncomplete=()=>o.close()},r.onerror=o=>n(r.error)})})}removeModel(e){return k(this,null,function*(){return e=Tj(e),new Promise((n,r)=>{let o=this.indexedDB.open(Fw,Pw);o.onupgradeneeded=()=>$w(o),o.onsuccess=()=>{let s=o.result,i=s.transaction(go,"readwrite"),a=i.objectStore(go),u=a.get(e),c;u.onsuccess=()=>{if(u.result==null)return s.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{let l=a.delete(e),f=()=>{c=s.transaction(cs,"readwrite");let g=c.objectStore(cs).delete(e);g.onsuccess=()=>n(u.result.modelArtifactsInfo),g.onerror=b=>r(u.error)};l.onsuccess=f,l.onerror=d=>(f(),s.close(),r(u.error))}},u.onerror=l=>(s.close(),r(u.error)),i.oncomplete=()=>{c==null?s.close():c.oncomplete=()=>s.close()}},o.onerror=s=>r(o.error)})})}}});function DS(t){return{info:[$i,t,xS].join(kr),topology:[$i,t,Nj].join(kr),weightSpecs:[$i,t,Sj].join(kr),weightData:[$i,t,Cj].join(kr),modelMetadata:[$i,t,_j].join(kr)}}function IS(t){for(let e of Object.values(t))window.localStorage.removeItem(e)}function Aj(t){let e=t.split(kr);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(kr)}function Mj(t){return t.startsWith(fs.URL_SCHEME)?t.slice(fs.URL_SCHEME.length):t}function kj(t){return new fs(t)}var kr,$i,xS,Nj,Sj,Cj,_j,fs,TS,Cf,Bw=v(()=>{"use strict";Fi();at();A();mo();po();us();kr="/",$i="tensorflowjs_models",xS="info",Nj="model_topology",Sj="weight_specs",Cj="weight_data",_j="model_metadata";fs=(()=>{class t{constructor(n){if(!B().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,n==null||!n)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=n,this.keys=DS(this.modelPath)}save(n){return k(this,null,function*(){if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{let r=JSON.stringify(n.modelTopology),o=JSON.stringify(n.weightSpecs),s=ar(n),i=dt.join(n.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,r),this.LS.setItem(this.keys.weightSpecs,o),this.LS.setItem(this.keys.weightData,pS(i));let a={format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,signature:n.signature!=null?n.signature:void 0,userDefinedMetadata:n.userDefinedMetadata!=null?n.userDefinedMetadata:void 0,modelInitializer:n.modelInitializer!=null?n.modelInitializer:void 0,initializerSignature:n.initializerSignature!=null?n.initializerSignature:void 0,trainingConfig:n.trainingConfig!=null?n.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),{modelArtifactsInfo:s}}catch{throw IS(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}})}load(){return k(this,null,function*(){let n=JSON.parse(this.LS.getItem(this.keys.info));if(n==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(n.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");let r={},o=JSON.parse(this.LS.getItem(this.keys.topology));if(o==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);r.modelTopology=o;let s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);r.weightSpecs=s;let i=this.LS.getItem(this.keys.modelMetadata);if(i!=null){let u=JSON.parse(i);r.format=u.format,r.generatedBy=u.generatedBy,r.convertedBy=u.convertedBy,u.signature!=null&&(r.signature=u.signature),u.userDefinedMetadata!=null&&(r.userDefinedMetadata=u.userDefinedMetadata),u.modelInitializer!=null&&(r.modelInitializer=u.modelInitializer),u.initializerSignature!=null&&(r.initializerSignature=u.initializerSignature),u.trainingConfig!=null&&(r.trainingConfig=u.trainingConfig)}let a=this.LS.getItem(this.keys.weightData);if(a==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return r.weightData=hS(a),r})}}return t.URL_SCHEME="localstorage://",t})(),TS=t=>B().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(fs.URL_SCHEME)?kj(t.slice(fs.URL_SCHEME.length)):null;Qe.registerSaveRouter(TS);Qe.registerLoadRouter(TS);Cf=class{constructor(){w(B().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),w(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}listModels(){return k(this,null,function*(){let e={},n=$i+kr,r=kr+xS;for(let o=0;o<this.LS.length;++o){let s=this.LS.key(o);if(s.startsWith(n)&&s.endsWith(r)){let i=Aj(s);e[i]=JSON.parse(this.LS.getItem(s))}}return e})}removeModel(e){return k(this,null,function*(){e=Mj(e);let n=DS(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);let r=JSON.parse(this.LS.getItem(n.info));return IS(n),r})}}});function _f(t){if(t.indexOf(Li)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${Rn.getSchemes().join(",")}`);return{scheme:t.split(Li)[0],path:t.split(Li)[1]}}function NS(t,e,n=!1){return k(this,null,function*(){w(t!==e,()=>`Old path and new path are the same: '${t}'`);let r=Qe.getLoadHandlers(t);w(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),w(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);let o=r[0],s=Qe.getSaveHandlers(e);w(s.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),w(s.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);let i=s[0],a=_f(t).scheme,u=_f(t).path,c=a===_f(t).scheme,l=yield o.load();n&&c&&(yield Rn.getManager(a).removeModel(u));let f=yield i.save(l);return n&&!c&&(yield Rn.getManager(a).removeModel(u)),f.modelArtifactsInfo})}function SS(){return k(this,null,function*(){let t=Rn.getSchemes(),e={};for(let n of t){let r=yield Rn.getManager(n).listModels();for(let o in r){let s=n+Li+o;e[s]=r[o]}}return e})}function CS(t){return k(this,null,function*(){let e=_f(t);return Rn.getManager(e.scheme).removeModel(e.path)})}function _S(t,e){return k(this,null,function*(){return NS(t,e,!1)})}function AS(t,e){return k(this,null,function*(){return NS(t,e,!0)})}var Li,Rn,Vw=v(()=>{"use strict";A();us();Li="://",Rn=class t{constructor(){this.managers={}}static getInstance(){return t.instance==null&&(t.instance=new t),t.instance}static registerManager(e,n){w(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Li)&&(e=e.slice(0,e.indexOf(Li))),w(e.length>0,()=>"scheme must not be an empty string.");let r=t.getInstance();w(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){let n=t.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(t.getInstance().managers)}}});var jw,MS=v(()=>{"use strict";Fi();at();Lw();Bw();Vw();pw();jw=class{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!B().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();let o=this.functionRefs[r.data.index];o(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return hf(e)}};if(B().get("IS_BROWSER")){B().setPlatform("browser",new jw);try{Rn.registerManager(fs.URL_SCHEME,new Cf)}catch{}try{Rn.registerManager(ls.URL_SCHEME,new Sf)}catch{}}});var OS=Xt((Bi,kS)=>{"use strict";var Oj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ds=Oj();kS.exports=Bi=ds.fetch;ds.fetch&&(Bi.default=ds.fetch.bind(ds));Bi.Headers=ds.Headers;Bi.Request=ds.Request;Bi.Response=ds.Response});var RS=Xt(()=>{"use strict"});var Rj,Uw,Hw,FS=v(()=>{"use strict";at();Rj={importFetch:()=>OS()},Hw=class{constructor(){this.util=RS(),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return B().global.fetch!=null?B().global.fetch(e,n):(Uw==null&&(Uw=Rj.importFetch()),Uw(e,n))}now(){let e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}};B().get("IS_NODE")&&!B().get("IS_BROWSER")&&B().setPlatform("node",new Hw)});function pt(t,e="float32",n){return e=e||"float32",Ae(t),new Cr(t,e,n)}var Or=v(()=>{"use strict";an();A();});function Fj(t,e){let n=h(t,"x","cast");if(!wg(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");let r={x:n},o={dtype:e};return y.runKernel(ou,r,o)}var ne,ht=v(()=>{"use strict";T();S();I();A();D();ne=m({cast_:Fj})});function Pj(t){let n={x:h(t,"x","clone","string_or_numeric")};return y.runKernel(su,n)}var $t,Vi=v(()=>{"use strict";T();S();I();D();$t=m({clone_:Pj})});function yu(t,e=!1){console.log(t.toString(e))}var zw=v(()=>{"use strict";});var $j,PS=v(()=>{"use strict";T();Fi();MS();FS();Or();ht();Vi();zw();an();Tw();$j={buffer:pt,cast:ne,clone:$t,print:yu};XN($j)});function Lj(t,e){let n=h(t,"a","add"),r=h(e,"b","add");[n,r]=Q(n,r);let o={a:n,b:r};return y.runKernel(ru,o)}var V,We=v(()=>{"use strict";T();S();ke();I();D();V=m({add_:Lj})});function Bj(t,e){let n=h(t,"a","floorDiv"),r=h(e,"b","floorDiv");[n,r]=Q(n,r);let o={a:n,b:r};return y.runKernel(Dy,o)}var vu,Gw=v(()=>{"use strict";T();S();ke();I();D();vu=m({floorDiv_:Bj})});function Vj(t,e){let n=h(t,"a","div"),r=h(e,"b","div");if([n,r]=Q(n,r),n.dtype==="int32"&&r.dtype==="int32")return vu(n,r);let o={a:n,b:r},s={};return y.runKernel(fy,o,s)}var ae,Lt=v(()=>{"use strict";T();S();ke();I();Gw();D();ae=m({div_:Vj})});function jj(t,e){let n=h(t,"a","mul"),r=h(e,"b","mul");[n,r]=Q(n,r);let o={a:n,b:r};return y.runKernel(tv,o)}var O,Oe=v(()=>{"use strict";T();S();ke();I();D();O=m({mul_:jj})});function Uj(t){let e=h(t,"x","abs");if(e.dtype==="complex64"){let n={x:e};return y.runKernel(qg,n)}else{let n={x:e};return y.runKernel(Dg,n)}}var Xe,ps=v(()=>{"use strict";T();S();I();D();Xe=m({abs_:Uj})});function Hj(t){let n={x:h(t,"x","acos")};return y.runKernel(Ig,n)}var qw,$S=v(()=>{"use strict";T();S();I();D();qw=m({acos_:Hj})});function zj(t){let n={x:h(t,"x","acosh")};return y.runKernel(Tg,n)}var Ww,LS=v(()=>{"use strict";T();S();I();D();Ww=m({acosh_:zj})});function Gj(t){w(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),w(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);let e=t.map((o,s)=>h(o,`tensors${s}`,"addN")),n=e[0];e.forEach(o=>{if(o.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(o=>{if(!Nt(o.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});let r=e;return y.runKernel(Ng,r)}var Kw,BS=v(()=>{"use strict";T();S();I();A();D();Kw=m({addN_:Gj})});function qj(t,e=null,n=!1){let o={x:h(t,"x","all","bool")},s={axis:e,keepDims:n};return y.runKernel(Sg,o,s)}var Zw,VS=v(()=>{"use strict";T();S();I();D();Zw=m({all_:qj})});function Wj(t,e=null,n=!1){let o={x:h(t,"x","any","bool")},s={axis:e,keepDims:n};return y.runKernel(Cg,o,s)}var Yw,jS=v(()=>{"use strict";T();S();I();D();Yw=m({any_:Wj})});function Kj(t,e=0){let r={x:h(t,"x","argMax")},o={axis:e};return y.runKernel(_g,r,o)}var Qw,US=v(()=>{"use strict";T();S();I();D();Qw=m({argMax_:Kj})});function Zj(t,e=0){let r={x:h(t,"x","argMin")},o={axis:e};return y.runKernel(Ag,r,o)}var Xw,HS=v(()=>{"use strict";T();S();I();D();Xw=m({argMin_:Zj})});function Yj(t){let n={x:h(t,"x","asin")};return y.runKernel(Mg,n)}var Jw,zS=v(()=>{"use strict";T();S();I();D();Jw=m({asin_:Yj})});function Qj(t){let n={x:h(t,"x","asinh")};return y.runKernel(kg,n)}var eb,GS=v(()=>{"use strict";T();S();I();D();eb=m({asinh_:Qj})});function Xj(t){let n={x:h(t,"x","atan")};return y.runKernel(Og,n)}var tb,qS=v(()=>{"use strict";T();S();I();D();tb=m({atan_:Xj})});function Jj(t,e){let n=h(t,"a","atan2"),r=h(e,"b","atan2");[n,r]=Q(n,r);let o={a:n,b:r};return y.runKernel(Fg,o)}var nb,WS=v(()=>{"use strict";T();S();ke();I();D();nb=m({atan2_:Jj})});function e6(t){let n={x:h(t,"x","atanh")};return y.runKernel(Rg,n)}var rb,KS=v(()=>{"use strict";T();S();I();D();rb=m({atanh_:e6})});function t6(t,e,n,r,o="NHWC",s){let i=t[3],a=[...e,i],u=YS(o);return ms(t,a,n,s,r,null,null,u)}function sb(t,e,n,r,o,s,i="channelsLast"){let[a,u]=wu(e),c;if(i==="channelsLast")c=[a,u,t[3],t[3]];else if(i==="channelsFirst")c=[a,u,t[1],t[1]];else throw new Error(`Unknown dataFormat ${i}`);return ms(t,c,n,r,o,s,!1,i)}function n6(t,e,n,r,o,s,i="NDHWC"){let[a,u,c]=ob(e),l,f;if(i==="NDHWC")f="channelsLast",l=[a,u,c,t[4],t[4]];else if(i==="NCDHW")f="channelsFirst",l=[a,u,c,t[1],t[1]];else throw new Error(`Unknown dataFormat ${i}`);return ZS(t,l,n,r,o,!1,f,s)}function ms(t,e,n,r,o,s,i=!1,a="channelsLast"){let[u,c,l,f]=[-1,-1,-1,-1];if(a==="channelsLast")[u,c,l,f]=t;else if(a==="channelsFirst")[u,f,c,l]=t;else throw new Error(`Unknown dataFormat ${a}`);let[d,g,,b]=e,[E,x]=wu(n),[N,P]=wu(r),_=ji(d,N),M=ji(g,P),{padInfo:L,outHeight:F,outWidth:j}=s6(o,c,l,E,x,_,M,s,a),W=i?b*f:b,q;return a==="channelsFirst"?q=[u,W,F,j]:a==="channelsLast"&&(q=[u,F,j,W]),{batchSize:u,dataFormat:a,inHeight:c,inWidth:l,inChannels:f,outHeight:F,outWidth:j,outChannels:W,padInfo:L,strideHeight:E,strideWidth:x,filterHeight:d,filterWidth:g,effectiveFilterHeight:_,effectiveFilterWidth:M,dilationHeight:N,dilationWidth:P,inShape:t,outShape:q,filterShape:e}}function ZS(t,e,n,r,o,s=!1,i="channelsLast",a){let[u,c,l,f,d]=[-1,-1,-1,-1,-1];if(i==="channelsLast")[u,c,l,f,d]=t;else if(i==="channelsFirst")[u,d,c,l,f]=t;else throw new Error(`Unknown dataFormat ${i}`);let[g,b,E,,x]=e,[N,P,_]=ob(n),[M,L,F]=ob(r),j=ji(g,M),W=ji(b,L),q=ji(E,F),{padInfo:Y,outDepth:re,outHeight:De,outWidth:Re}=i6(o,c,l,f,N,P,_,j,W,q,a),Ge=s?x*d:x,Ke;return i==="channelsFirst"?Ke=[u,Ge,re,De,Re]:i==="channelsLast"&&(Ke=[u,re,De,Re,Ge]),{batchSize:u,dataFormat:i,inDepth:c,inHeight:l,inWidth:f,inChannels:d,outDepth:re,outHeight:De,outWidth:Re,outChannels:Ge,padInfo:Y,strideDepth:N,strideHeight:P,strideWidth:_,filterDepth:g,filterHeight:b,filterWidth:E,effectiveFilterDepth:j,effectiveFilterHeight:W,effectiveFilterWidth:q,dilationDepth:M,dilationHeight:L,dilationWidth:F,inShape:t,outShape:Ke,filterShape:e}}function r6(t,e,n,r,o){r==null&&(r=ib(t,e,n));let s=t[0],i=t[1],a=bu((s-e+2*r)/n+1,o),u=bu((i-e+2*r)/n+1,o);return[a,u]}function o6(t,e,n,r,o,s){o==null&&(o=ib(t,e[0],r[0]));let i=[0,0,0,n];for(let a=0;a<3;a++)t[a]+2*o>=e[a]&&(i[a]=bu((t[a]-e[a]+2*o)/r[a]+1,s));return i}function ib(t,e,n,r=1){let o=ji(e,r);return Math.floor((t[0]*(n-1)-n+o)/2)}function wu(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function ob(t){return typeof t=="number"?[t,t,t]:t}function ji(t,e){return e<=1?t:t+(t-1)*(e-1)}function s6(t,e,n,r,o,s,i,a,u){let c,l,f;if(typeof t=="number"){c={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};let g=r6([e,n],s,r,t,a);l=g[0],f=g[1]}else if(t==="same"){l=Math.ceil(e/r),f=Math.ceil(n/o);let d=Math.max(0,(l-1)*r+s-e),g=Math.max(0,(f-1)*o+i-n),b=Math.floor(d/2),E=d-b,x=Math.floor(g/2),N=g-x;c={top:b,bottom:E,left:x,right:N,type:"SAME"}}else if(t==="valid")c={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((e-s+1)/r),f=Math.ceil((n-i+1)/o);else if(typeof t=="object"){let d=u==="channelsLast"?t[1][0]:t[2][0],g=u==="channelsLast"?t[1][1]:t[2][1],b=u==="channelsLast"?t[2][0]:t[3][0],E=u==="channelsLast"?t[2][1]:t[3][1];c={top:d,bottom:g,left:b,right:E,type:d===0&&g===0&&b===0&&E===0?"VALID":"EXPLICIT"},l=bu((e-s+d+g)/r+1,a),f=bu((n-i+b+E)/o+1,a)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:c,outHeight:l,outWidth:f}}function i6(t,e,n,r,o,s,i,a,u,c,l){let f,d,g,b;if(t==="valid"&&(t=0),typeof t=="number"){f={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};let x=o6([e,n,r,1],[a,u,c],1,[o,s,i],t,l);d=x[0],g=x[1],b=x[2]}else if(t==="same"){d=Math.ceil(e/o),g=Math.ceil(n/s),b=Math.ceil(r/i);let E=(d-1)*o+a-e,x=(g-1)*s+u-n,N=(b-1)*i+c-r,P=Math.floor(E/2),_=E-P,M=Math.floor(x/2),L=x-M,F=Math.floor(N/2),j=N-F;f={top:M,bottom:L,left:F,right:j,front:P,back:_,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:f,outDepth:d,outHeight:g,outWidth:b}}function bu(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function hs(t){let[e,n,r]=wu(t);return e===1&&n===1&&r===1}function Et(t,e){return hs(t)||hs(e)}function ur(t){return wu(t).every(e=>e>0)}function YS(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function Ue(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")w(Sr(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(o=>{w(Sr(o),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${o}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}var Bt=v(()=>{"use strict";A();});function a6(t,e){let r={x:h(t,"x","reshape","string_or_numeric")},o={shape:e};return y.runKernel(Ev,r,o)}var C,J=v(()=>{"use strict";T();S();I();D();C=m({reshape_:a6})});function u6(t,e,n,r,o){let s=h(t,"x","avgPool","float32"),i=1;w(Et(n,i),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);let a=s,u=!1;s.rank===3&&(u=!0,a=C(s,[1,s.shape[0],s.shape[1],s.shape[2]])),w(a.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`),Ue("avgPool",r,o);let c={x:a},l={filterSize:e,strides:n,pad:r,dimRoundingMode:o},f=y.runKernel(Pg,c,l);return f=ne(f,s.dtype),u?C(f,[f.shape[1],f.shape[2],f.shape[3]]):f}var Eu,ab=v(()=>{"use strict";T();S();I();A();ht();Bt();D();J();Eu=m({avgPool_:u6})});function c6(t,e,n,r,o,s="NDHWC"){let i=h(t,"x","avgPool3d","float32"),a=i,u=!1;i.rank===4&&(u=!0,a=C(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),w(a.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${a.rank}.`),w(s==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`),w(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),Ue("avgPool3d",r,o);let c={x:a},l={filterSize:e,strides:n,pad:r,dimRoundingMode:o,dataFormat:s},f=y.runKernel($g,c,l);return f=ne(f,a.dtype),u?C(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}var ub,QS=v(()=>{"use strict";T();S();I();A();ht();Bt();D();J();ub=m({avgPool3d_:c6})});function l6(t,e=0){w(t.length>=1,()=>"Pass at least one tensor to concat");let n=_r(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(s=>{if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${s.dtype}. `)}),n.length===1)return $t(n[0]);let r=n,o={axis:e};return y.runKernel(Wg,r,o)}var Ne,Fn=v(()=>{"use strict";T();S();I();A();Vi();D();Ne=m({concat_:l6})});function f6(t,e,n=!1,r=!1){let o=h(t,"a","matMul"),s=h(e,"b","matMul");[o,s]=Q(o,s);let i={a:o,b:s},a={transposeA:n,transposeB:r};return y.runKernel(Lg,i,a)}var ce,Rr=v(()=>{"use strict";T();S();ke();I();D();ce=m({matMul_:f6})});function d6(t){let n={x:h(t,"x","sigmoid","float32")};return y.runKernel($v,n)}var Pn,xu=v(()=>{"use strict";T();S();I();D();Pn=m({sigmoid_:d6})});function p6(t,e,n){let r=h(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");let o={x:r},s={begin:e,size:n};return y.runKernel(Ov,o,s)}var ue,vn=v(()=>{"use strict";T();S();I();D();ue=m({slice_:p6})});function h6(t){let n={x:h(t,"x","tanh","float32")};return y.runKernel(rw,n)}var Ui,cb=v(()=>{"use strict";T();S();I();D();Ui=m({tanh_:h6})});function m6(t,e,n,r,o,s){let i=h(t,"forgetBias","basicLSTMCell"),a=h(e,"lstmKernel","basicLSTMCell"),u=h(n,"lstmBias","basicLSTMCell"),c=h(r,"data","basicLSTMCell"),l=h(o,"c","basicLSTMCell"),f=h(s,"h","basicLSTMCell"),d=Ne([c,f],1),g=ce(d,a),b=V(g,u),E=b.shape[0],x=b.shape[1]/4,N=[E,x],P=ue(b,[0,0],N),_=ue(b,[0,x],N),M=ue(b,[0,x*2],N),L=ue(b,[0,x*3],N),F=V(O(Pn(P),Ui(_)),O(l,Pn(V(i,M)))),j=O(Ui(F),Pn(L));return[F,j]}var lb,XS=v(()=>{"use strict";I();We();Fn();Rr();Oe();D();xu();vn();cb();lb=m({basicLSTMCell_:m6})});function g6(t,e,n){let r=h(t,"x","batchToSpaceND"),o=e.reduce((a,u)=>a*u);w(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),w(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),w(r.shape[0]%o===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${o}`);let s={x:r},i={blockShape:e,crops:n};return y.runKernel(Bg,s,i)}var Du,fb=v(()=>{"use strict";T();S();I();A();D();Du=m({batchToSpaceND_:g6})});function JS(t){let e;return t.rank===0||t.rank===1?e=C(t,[1,1,1,t.size]):t.rank===2?e=C(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=C(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}var eC=v(()=>{"use strict";J()});function y6(t,e,n,r,o,s){s==null&&(s=.001);let i=h(t,"x","batchNorm"),a=h(e,"mean","batchNorm"),u=h(n,"variance","batchNorm"),c;o!=null&&(c=h(o,"scale","batchNorm"));let l;r!=null&&(l=h(r,"offset","batchNorm")),w(a.rank===u.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),w(l==null||a.rank===l.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),w(c==null||a.rank===c.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let d={x:JS(i),scale:c,offset:l,mean:a,variance:u},g={varianceEpsilon:s},b=y.runKernel(Iy,d,g);return C(b,i.shape)}var Fr,Iu=v(()=>{"use strict";T();S();I();A();eC();D();J();Fr=m({batchNorm_:y6})});function v6(t,e,n,r,o,s){let i=h(t,"x","batchNorm"),a=h(e,"mean","batchNorm"),u=h(n,"variance","batchNorm"),c;o!=null&&(c=h(o,"scale","batchNorm"));let l;return r!=null&&(l=h(r,"offset","batchNorm")),w(i.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`),w(a.rank===2||a.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${a.rank}.`),w(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&w(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${c.rank}.`),l!=null&&w(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${l.rank}.`),Fr(i,a,u,l,c,s)}var db,tC=v(()=>{"use strict";I();A();Iu();D();db=m({batchNorm2d_:v6})});function w6(t,e,n,r,o,s){let i=h(t,"x","batchNorm"),a=h(e,"mean","batchNorm"),u=h(n,"variance","batchNorm"),c;o!=null&&(c=h(o,"scale","batchNorm"));let l;return r!=null&&(l=h(r,"offset","batchNorm")),w(i.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`),w(a.rank===3||a.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${a.rank}.`),w(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&w(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${c.rank}.`),l!=null&&w(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${l.rank}.`),Fr(i,a,u,l,c,s)}var pb,nC=v(()=>{"use strict";I();A();Iu();D();pb=m({batchNorm3d_:w6})});function b6(t,e,n,r,o,s){let i=h(t,"x","batchNorm"),a=h(e,"mean","batchNorm"),u=h(n,"variance","batchNorm"),c;o!=null&&(c=h(o,"scale","batchNorm"));let l;return r!=null&&(l=h(r,"offset","batchNorm")),w(i.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`),w(a.rank===4||a.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${a.rank}.`),w(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&w(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${c.rank}.`),l!=null&&w(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${l.rank}.`),Fr(i,a,u,l,c,s)}var hb,rC=v(()=>{"use strict";I();A();Iu();D();hb=m({batchNorm4d_:b6})});function E6(t,e,n){let r=h(t,"x","bincount"),o=h(e,"weights","bincount");w(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),w(n>=0,()=>`size must be non-negative, but got ${n}.`),w(o.size===r.size||o.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${o.shape}.`);let s={x:r,weights:o},i={size:n};return y.runKernel(Vg,s,i)}var Tu,mb=v(()=>{"use strict";T();S();I();A();D();Tu=m({bincount_:E6})});function x6(t,e){let n=h(t,"x","bitwiseAnd"),r=h(e,"y","bitwiseAnd");if(!Nt(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);let o={a:n,b:r};return y.runKernel(jg,o)}var gb,oC=v(()=>{"use strict";T();S();I();Ye();D();gb=m({bitwiseAnd_:x6})});function D6(t,e){let n=h(t,"s0","broadcastArgs","int32"),r=h(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);let o={s0:n,s1:r};return y.runKernel(Ug,o)}var yb,sC=v(()=>{"use strict";T();S();I();D();yb=m({broadcastArgs_:D6})});function I6(t,e){let n=h(t,"broadcastTo","x"),r=n.shape;if(Ae(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){let c=n.shape.slice();for(;c.length<e.length;)c.unshift(1);n=C(n,c)}let o=n.shape,s=Array.from(e);for(let c=e.length-1;c>=0;c--)if(o[c]===e[c])s[c]=1;else if(n.shape[c]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(s.map((c,l)=>c>1?l:-1).filter(c=>c>=0).length===0)return $t(n);let a={x:n},u={reps:s};return y.runKernel(iu,a,u)}var gs,vb=v(()=>{"use strict";T();S();I();Ye();Vi();D();J();gs=m({broadcastTo_:I6})});function T6(t){let n={x:h(t,"x","ceil","float32")};return y.runKernel(Hg,n)}var wb,iC=v(()=>{"use strict";T();S();I();D();wb=m({ceil_:T6})});function $n(t,e,n){Ae(t),n=n||uo(e);let r={shape:t,value:e,dtype:n};return y.runKernel(by,{},r)}var Hi=v(()=>{"use strict";T();S();A();Ye();});function N6(t,e,n){let r=h(t,"x","clipByValue");if(w(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return $n(r.shape,e,r.dtype);let o={x:r},s={clipValueMin:e,clipValueMax:n};return y.runKernel(zg,o,s)}var bb,aC=v(()=>{"use strict";T();S();I();A();Hi();D();bb=m({clipByValue_:N6})});function S6(t){return Ne(t,0)}var Eb,uC=v(()=>{"use strict";Fn();D();Eb=m({concat1d_:S6})});function C6(t,e){return Ne(t,e)}var xb,cC=v(()=>{"use strict";Fn();D();xb=m({concat2d_:C6})});function _6(t,e){return Ne(t,e)}var Db,lC=v(()=>{"use strict";Fn();D();Db=m({concat3d_:_6})});function A6(t,e){return Ne(t,e)}var Ib,fC=v(()=>{"use strict";Fn();D();Ib=m({concat4d_:A6})});function M6(t,e,n,r,o="NHWC",s=[1,1],i){let a=h(t,"x","conv2d","float32"),u=h(e,"filter","conv2d","float32"),c=a,l=!1;a.rank===3&&(l=!0,c=C(a,[1,a.shape[0],a.shape[1],a.shape[2]])),w(c.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${c.rank}.`),w(u.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${u.rank}.`),Ue("conv2d",r,i);let f=o==="NHWC"?c.shape[3]:c.shape[1];w(f===u.shape[2],()=>`Error in conv2d: depth of input (${f}) must match input depth for filter ${u.shape[2]}.`),w(Et(n,s),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`),w(ur(s),()=>"Error in conv2D: Dilated rates should be larger than 0."),w(ur(n),()=>"Error in conv2D: Strides should be larger than 0.");let d={x:c,filter:u},g={strides:n,pad:r,dataFormat:o,dilations:s,dimRoundingMode:i},b=y.runKernel(Kg,d,g);return l?C(b,[b.shape[1],b.shape[2],b.shape[3]]):b}var Pr,Nu=v(()=>{"use strict";T();S();I();A();Bt();D();J();Pr=m({conv2d_:M6})});function k6(t,e,n,r,o="NWC",s=1,i){let a=h(t,"x","conv1d"),u=h(e,"filter","conv1d"),c=a,l=!1;a.rank===2&&(l=!0,c=C(a,[1,a.shape[0],a.shape[1]])),w(c.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${c.rank}.`),w(u.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${u.rank}.`),Ue("conv1d",r,i),w(c.shape[2]===u.shape[1],()=>`Error in conv1d: depth of input (${c.shape[2]}) must match input depth for filter ${u.shape[1]}.`),w(Et(n,s),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${s}'`),w(ur(s),()=>"Error in conv1D: Dilated rates should be larger than 0."),w(ur(n),()=>"Error in conv1D: Stride should be larger than 0."),w(o==="NWC",()=>`Error in conv1d: got dataFormat of ${o} but only NWC is currently supported.`);let f=C(u,[1,u.shape[0],u.shape[1],u.shape[2]]),d=C(c,[c.shape[0],1,c.shape[1],c.shape[2]]),x=Pr(d,f,[1,n],r,"NHWC",[1,s],i);return l?C(x,[x.shape[2],x.shape[3]]):C(x,[x.shape[0],x.shape[2],x.shape[3]])}var Tb,dC=v(()=>{"use strict";I();A();Nu();Bt();D();J();Tb=m({conv1d_:k6})});function O6(t,e,n,r,o,s="NHWC",i){w(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let a=t,u=e,c=!1;e.rank===3&&(c=!0,u=C(e,[1,e.shape[0],e.shape[1],e.shape[2]]),a=[1,t[0],t[1],t[2]]),w(a.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${a.length}.`),w(u.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${u.rank}`),w(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);let l=s==="NHWC"?a[3]:a[1],f=s==="NHWC"?u.shape[3]:u.shape[1];w(l===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[2]}.`),w(f===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${f}) must match output depth for filter ${n.shape[3]}.`),Ue("conv2dDerInput",o,i);let d={dy:u,filter:n},g={strides:r,pad:o,dataFormat:s,dimRoundingMode:i,inputShape:a},b=y.runKernel(Yg,d,g);return c?C(b,[b.shape[1],b.shape[2],b.shape[3]]):b}var Af,Nb=v(()=>{"use strict";T();S();A();Bt();D();J();Af=m({conv2DBackpropInput_:O6})});function R6(t,e,n,r,o,s){let i=h(t,"x","conv2dTranspose"),a=h(e,"filter","conv2dTranspose");return Af(n,i,a,r,o,"NHWC",s)}var Sb,pC=v(()=>{"use strict";I();Nb();D();Sb=m({conv2dTranspose_:R6})});function F6(t,e,n,r,o="NDHWC",s=[1,1,1]){let i=h(t,"x","conv3d"),a=h(e,"filter","conv3d"),u=i,c=!1;i.rank===4&&(c=!0,u=C(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),w(u.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${u.rank}.`),w(a.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${a.rank}.`),w(u.shape[4]===a.shape[3],()=>`Error in conv3d: depth of input (${u.shape[4]}) must match input depth for filter ${a.shape[3]}.`),w(Et(n,s),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`),w(o==="NDHWC",()=>`Error in conv3d: got dataFormat of ${o} but only NDHWC is currently supported.`),w(ur(s),()=>"Error in conv3D: Dilated rates should be larger than 0."),w(ur(n),()=>"Error in conv3D: Strides should be larger than 0.");let l={x:u,filter:a},f={strides:n,pad:r,dataFormat:o,dilations:s},d=y.runKernel(Qg,l,f);return c?C(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}var Cb,hC=v(()=>{"use strict";T();S();I();A();Bt();D();J();Cb=m({conv3d_:F6})});function P6(t,e,n,r,o){w(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let s=t,i=e,a=!1;e.rank===4&&(a=!0,i=C(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),s=[1,t[0],t[1],t[2],t[3]]);let u=s[4],c=i.shape[4];w(s.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${s.length}.`),w(i.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`),w(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),w(u===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[3]}.`),w(c===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${c}) must match output depth for filter ${n.shape[4]}.`);let l={dy:i,filter:n},f={pad:o,strides:r,inputShape:s},d=y.runKernel(Xg,l,f);return a?C(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}var mC,gC=v(()=>{"use strict";T();S();A();D();J();mC=m({conv3DBackpropInput_:P6})});function $6(t,e,n,r,o){let s=h(t,"x","conv3dTranspose"),i=h(e,"filter","conv3dTranspose");return mC(n,s,i,r,o)}var _b,yC=v(()=>{"use strict";I();gC();D();_b=m({conv3dTranspose_:$6})});function L6(t){let n={x:h(t,"x","cos","float32")};return y.runKernel(Jg,n)}var Ab,vC=v(()=>{"use strict";T();S();I();D();Ab=m({cos_:L6})});function B6(t){let n={x:h(t,"x","cosh","float32")};return y.runKernel(ey,n)}var Mb,wC=v(()=>{"use strict";T();S();I();D();Mb=m({cosh_:B6})});function V6(t,e=0,n=!1,r=!1){let s={x:h(t,"x","cumprod")},i={axis:e,exclusive:n,reverse:r};return y.runKernel(ty,s,i)}var kb,bC=v(()=>{"use strict";T();S();I();D();kb=m({cumprod_:V6})});function j6(t,e=0,n=!1,r=!1){let s={x:h(t,"x","cumsum")},i={axis:e,exclusive:n,reverse:r};return y.runKernel(ny,s,i)}var Ob,EC=v(()=>{"use strict";T();S();I();D();Ob=m({cumsum_:j6})});function U6(t,e,n,r=!1){let o=h(t,"x","denseBincount"),s=h(e,"weights","denseBincount");w(o.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${o.dtype}`),w(o.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${o.rank}.`),w(n>=0,()=>`size must be non-negative, but got ${n}.`),w(s.size===o.size||s.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${o.shape}, weights shape: ${s.shape}.`);let i={x:o,weights:s},a={size:n,binaryOutput:r};return y.runKernel(oy,i,a)}var Rb,xC=v(()=>{"use strict";T();S();I();A();D();Rb=m({denseBincount_:U6})});function H6(t,e,n="NHWC"){let r=h(t,"x","depthToSpace","float32"),o=n==="NHWC"?r.shape[1]:r.shape[2],s=n==="NHWC"?r.shape[2]:r.shape[3],i=n==="NHWC"?r.shape[3]:r.shape[1];w(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),w(o*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${o} and ${e}  for depthToSpace with input shape
    ${r.shape}`),w(s*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${e} for depthToSpace with input shape
        ${r.shape}`),w(i%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${i} for depthToSpace with input shape ${r.shape}`);let a={x:r},u={blockSize:e,dataFormat:n};return y.runKernel(sy,a,u)}var Fb,DC=v(()=>{"use strict";T();S();I();A();D();Fb=m({depthToSpace_:H6})});function z6(t,e,n,r,o="NHWC",s=[1,1],i){let a=h(t,"x","depthwiseConv2d","float32"),u=h(e,"filter","depthwiseConv2d","float32"),c=a,l=!1;a.rank===3&&(l=!0,c=C(a,[1,a.shape[0],a.shape[1],a.shape[2]])),w(c.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${c.rank}.`),w(u.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${u.rank}.`);let f=o==="NHWC"?c.shape[3]:c.shape[1];w(f===u.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${f}) must match the inChannels dimension in filter ${u.shape[2]}.`),Ue("depthwiseConv2d",r,i);let d={x:c,filter:u},g={strides:n,pad:r,dataFormat:o,dilations:s,dimRoundingMode:i},b=y.runKernel(iy,d,g);return l?C(b,[b.shape[1],b.shape[2],b.shape[3]]):b}var ys,Mf=v(()=>{"use strict";T();S();I();A();Bt();D();J();ys=m({depthwiseConv2d_:z6})});function G6(t){let n={x:h(t,"x","diag")};return y.runKernel(cy,n)}var Pb,IC=v(()=>{"use strict";T();S();I();D();Pb=m({diag_:G6})});function q6(t,e,n,r,o=[1,1],s="NHWC"){let i=h(t,"x","dilation2d"),a=h(e,"filter","dilation2d");w(i.rank===3||i.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`),w(a.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${a.rank}.`),w(s==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${s}`);let u=i,c=!1;i.rank===3&&(u=C(i,[1,i.shape[0],i.shape[1],i.shape[2]]),c=!0),w(u.shape[3]===a.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${u.shape[3]} vs ${a.shape[2]}`);let l={x:u,filter:a},f={strides:n,pad:r,dilations:o},d=y.runKernel(ly,l,f);return c?C(d,[d.shape[1],d.shape[2],d.shape[3]]):d}var $b,TC=v(()=>{"use strict";T();S();I();A();D();J();$b=m({dilation2d_:q6})});var vs={};le(vs,{assertAndGetBroadcastShape:()=>he,getBroadcastDims:()=>NC,getReductionAxes:()=>kf});function NC(t,e){let n=t.length,r=[];for(let o=0;o<n;o++){let s=n-1-o,i=t[s]||1;(e[e.length-1-o]||1)>1&&i===1&&r.unshift(s)}return r}function kf(t,e){let n=[];for(let r=0;r<e.length;r++){let o=t[t.length-r-1],s=e.length-r-1,i=e[s];(o==null||o===1&&i>1)&&n.unshift(s)}return n}function he(t,e){let n=Math.max(t.length,e.length),r=new Array(n);for(let o=0;o<n;o++){let s=t[t.length-o-1];s==null&&(s=1);let i=e[e.length-o-1];if(i==null&&(i=1),s===1)r[n-o-1]=i;else if(i===1)r[n-o-1]=s;else if(s!==i){let a=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(a)}else r[n-o-1]=s}return r}var Je=v(()=>{"use strict";});function W6(t,e){let n=h(t,"a","equal","string_or_numeric"),r=h(e,"b","equal","string_or_numeric");[n,r]=Q(n,r),he(n.shape,r.shape);let o={a:n,b:r};return y.runKernel(my,o)}var Su,Lb=v(()=>{"use strict";T();S();ke();I();Je();D();Su=m({equal_:W6})});function K6(t,e,n){let r=h(e,"a","where"),o=h(n,"b","where"),s=h(t,"condition","where","bool"),i=he(he(s.shape,r.shape),o.shape),a=gs(s,i),u=gs(r,i),c=gs(o,i),l={condition:a,t:u,e:c};return y.runKernel(Mv,l)}var qt,zi=v(()=>{"use strict";T();S();I();vb();Je();D();qt=m({where_:K6})});function Z6(t){let n={x:h(t,"x","zerosLike")};return y.runKernel(cw,n)}var ze,$r=v(()=>{"use strict";T();S();I();D();ze=m({zerosLike_:Z6})});function Y6(t,e){let n=h(t,"a","div"),r=h(e,"b","div");[n,r]=Q(n,r);let o=ae(n,r),s=ze(o),i=Su(r,s);return qt(i,s,o)}var Bb,SC=v(()=>{"use strict";ke();I();Lt();Lb();D();zi();$r();Bb=m({divNoNan_:Y6})});function Q6(t,e){let n=h(t,"t1","dot"),r=h(e,"t2","dot");w((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);let o=n.rank===1?n.size:n.shape[1],s=r.rank===1?r.size:r.shape[0];if(w(o===s,()=>`Error in dot: inner dimensions of inputs must match, but got ${o} and ${s}.`),n.rank===1&&r.rank===1){let i=C(n,[1,-1]),a=C(r,[-1,1]),u=ce(i,a);return C(u,[])}else if(n.rank===1&&r.rank===2){let i=C(n,[1,-1]),a=C(r,[r.shape[0],r.shape[1]]),u=ce(i,a);return C(u,[u.size])}else if(n.rank===2&&r.rank===1){let i=C(r,[-1,1]),a=ce(n,i);return C(a,[a.size])}else{let i=C(r,[r.shape[0],r.shape[1]]);return ce(n,i)}}var Vb,CC=v(()=>{"use strict";I();A();Rr();D();J();Vb=m({dot_:Q6})});function X6(t,...e){let n=e.map((o,s)=>h(o,`tensors${s}`,"einsum")),r={equation:t};return y.runKernel(dy,n,r)}var Lr,jb=v(()=>{"use strict";T();S();I();D();Lr=m({einsum_:X6})});function J6(t){let n={x:h(t,"x","elu","float32")};return y.runKernel(py,n)}var Cu,Ub=v(()=>{"use strict";T();S();I();D();Cu=m({elu_:J6})});function e8(t,e){let n=h(t,"x","ensureShape","string_or_numeric");if(!mg(n.shape,e))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${e}`);return t}var Hb,_C=v(()=>{"use strict";I();Ye();D();Hb=m({ensureShape_:e8})});function t8(t){let e=h(t,"x","erf");w(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=ne(e,"float32"));let n={x:e};return y.runKernel(hy,n)}var zb,AC=v(()=>{"use strict";T();S();I();A();ht();D();zb=m({erf_:t8})});function Gb(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function MC(t,e,n){let r=t.length+e.length,o=[],s=0,i=0;for(let a=0;a<r;a++)n.indexOf(a)===-1?o.push(t[s++]):o.push(e[i++]);return o}function n8(t,e){let n=[],r=t.length;for(let s=0;s<r;s++)e.indexOf(s)===-1&&n.push(t[s]);let o=e.map(s=>t[s]);return[n,o]}function Br(t,e){let n=e.map(r=>1);return MC(t,n,e)}function r8(t,e,n){w(Gb(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function o8(t,e){if(Gb(t,e))return null;let n=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(r=>n.push(r)),n}function s8(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function i8(t,e){let n=[];for(let r=e-t;r<e;++r)n.push(r);return n}var Gi=v(()=>{"use strict";A();});function u8(t,e=null,n=!1){let o={x:h(t,"x","max")},s={reductionIndices:e,keepDims:n};return y.runKernel(zy,o,s)}var Ln,_u=v(()=>{"use strict";T();S();I();D();Ln=m({max_:u8})});function c8(t,e=null,n=!1){let o={x:h(t,"x","min")},s={axis:e,keepDims:n};return y.runKernel(Yy,o,s)}var qi,qb=v(()=>{"use strict";T();S();I();D();qi=m({min_:c8})});function l8(t,e){let n=h(t,"base","pow"),r=h(e,"exp","pow");[n,r]=Q(n,r);let o={a:n,b:r};return y.runKernel(fv,o)}var lr,Au=v(()=>{"use strict";T();S();ke();I();D();lr=m({pow_:l8})});function z(t,e){if((Ve(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Ve(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return _t(t,[],[],e)}var xt=v(()=>{"use strict";A();Ar();});function f8(t){let n={x:h(t,"x","sqrt","float32")};return y.runKernel(Bv,n)}var Mt,Wi=v(()=>{"use strict";T();S();I();D();Mt=m({sqrt_:f8})});function d8(t){let e=h(t,"x","square"),n={};return y.runKernel("Square",{x:e},n)}var et,Vr=v(()=>{"use strict";T();I();D();et=m({square_:d8})});function p8(t,e=null,n=!1){let r=h(t,"x","sum");r.dtype==="bool"&&(r=ne(r,"int32"));let o={x:r},s={axis:e,keepDims:n};return y.runKernel(Vv,o,s)}var me,Bn=v(()=>{"use strict";T();S();I();ht();D();me=m({sum_:p8})});function h8(t,e="euclidean",n=null,r=!1){t=h(t,"x","norm");let o=kC(t,e,n),s=o.shape;if(r){let i=ao(n,t.shape);s=Br(o.shape,i)}return C(o,s)}function kC(t,e,n=null){if(t.rank===0)return Xe(t);if(t.rank!==1&&n===null)return kC(C(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return me(Xe(t),n);if(e===1/0)return Ln(Xe(t),n);if(e===-1/0)return qi(Xe(t),n);if(e==="euclidean"||e===2)return Mt(me(lr(Xe(t),z(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return Ln(me(Xe(t),n[0]),n[1]-1);if(e===1/0)return Ln(me(Xe(t),n[1]),n[0]);if(e===-1/0)return qi(me(Xe(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return Mt(me(et(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}var yo,Mu=v(()=>{"use strict";I();A();ps();Gi();_u();qb();D();Au();J();xt();Wi();Vr();Bn();yo=m({norm_:h8})});function m8(t,e=null,n=!1){return yo(t,"euclidean",e,n)}var Wb,OC=v(()=>{"use strict";Mu();D();Wb=m({euclideanNorm_:m8})});function g8(t){let n={x:h(t,"x","exp")};return y.runKernel(gy,n)}var un,Ki=v(()=>{"use strict";T();S();I();D();un=m({exp_:g8})});function y8(t,e=0){let n=h(t,"x","expandDims","string_or_numeric");w(e<=n.rank,()=>"Axis must be <= rank of the tensor");let r={input:n},o={dim:e};return y.runKernel(yy,r,o)}var wn,Of=v(()=>{"use strict";T();S();I();A();D();wn=m({expandDims_:y8})});function v8(t){let n={x:h(t,"x","expm1")};return y.runKernel(vy,n)}var Kb,RC=v(()=>{"use strict";T();S();I();D();Kb=m({expm1_:v8})});function w8(t,e){let n=h(t,"x","tile","string_or_numeric");w(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);let r={x:n},o={reps:e};return y.runKernel(iu,r,o)}var jr,Rf=v(()=>{"use strict";T();S();I();A();D();jr=m({tile_:w8})});function b8(t,e,n,r="float32"){e==null&&(e=t);let o=pt([t,e],r),s=t<=e?t:e;for(let a=0;a<s;++a)o.set(1,a,a);let i=C(o.toTensor(),[t,e]);if(n==null)return i;if(n.length===1)return jr(wn(i,0),[n[0],1,1]);if(n.length===2)return jr(wn(wn(i,0),0),[n[0],n[1],1,1]);if(n.length===3)return jr(wn(wn(wn(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}var ku,Zb=v(()=>{"use strict";Or();Of();D();J();Rf();ku=m({eye_:b8})});function E8(t){let n={x:h(t,"x","floor","float32")};return y.runKernel(xy,n)}var Ou,Yb=v(()=>{"use strict";T();S();I();D();Ou=m({floor_:E8})});function x8(t,e,n=0,r=0){let o=h(t,"x","gather"),s=h(e,"indices","gather","int32"),i={x:o,indices:s},a={axis:n,batchDims:r};return y.runKernel(Ty,i,a)}var Ru,Qb=v(()=>{"use strict";T();S();I();D();Ru=m({gather_:x8})});function D8(t,e){let n=h(t,"a","greater","string_or_numeric"),r=h(e,"b","greater","string_or_numeric");[n,r]=Q(n,r),he(n.shape,r.shape);let o={a:n,b:r};return y.runKernel(Sy,o)}var vo,Ff=v(()=>{"use strict";T();S();ke();I();Je();D();vo=m({greater_:D8})});function I8(t,e){let n=h(t,"a","greaterEqual","string_or_numeric"),r=h(e,"b","greaterEqual","string_or_numeric");[n,r]=Q(n,r),he(n.shape,r.shape);let o={a:n,b:r};return y.runKernel(Cy,o)}var Fu,Xb=v(()=>{"use strict";T();S();ke();I();Je();D();Fu=m({greaterEqual_:I8})});function T8(t){let n={input:h(t,"input","imag")};return y.runKernel(Ay,n)}var Ur,Pu=v(()=>{"use strict";T();S();I();D();Ur=m({imag_:T8})});function N8(t){let n={x:h(t,"x","isFinite")};return y.runKernel(My,n)}var Jb,FC=v(()=>{"use strict";T();S();I();D();Jb=m({isFinite_:N8})});function S8(t){let n={x:h(t,"x","isInf")};return y.runKernel(ky,n)}var e0,PC=v(()=>{"use strict";T();S();I();D();e0=m({isInf_:S8})});function C8(t){let n={x:h(t,"x","isNaN")};return y.runKernel(Oy,n)}var t0,$C=v(()=>{"use strict";T();S();I();D();t0=m({isNaN_:C8})});function _8(t,e=.2){let r={x:h(t,"x","leakyRelu")},o={alpha:e};return y.runKernel(Ry,r,o)}var $u,n0=v(()=>{"use strict";T();S();I();D();$u=m({leakyRelu_:_8})});function A8(t,e){let n=h(t,"a","less","string_or_numeric"),r=h(e,"b","less","string_or_numeric");[n,r]=Q(n,r),he(n.shape,r.shape);let o={a:n,b:r};return y.runKernel(Fy,o)}var Zi,r0=v(()=>{"use strict";T();S();ke();I();Je();D();Zi=m({less_:A8})});function M8(t,e){let n=h(t,"a","lessEqual","string_or_numeric"),r=h(e,"b","lessEqual","string_or_numeric");[n,r]=Q(n,r),he(n.shape,r.shape);let o={a:n,b:r};return y.runKernel(Py,o)}var ws,Pf=v(()=>{"use strict";T();S();ke();I();Je();D();ws=m({lessEqual_:M8})});function o0(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");let r={start:t,stop:e,num:n};return y.runKernel($y,{},r)}var LC=v(()=>{"use strict";T();S();});function k8(t,e=5,n=1,r=1,o=.5){let s=h(t,"x","localResponseNormalization");w(s.rank===4||s.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${s.rank}.`),w(Sr(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let i=s,a=!1;s.rank===3&&(a=!0,i=C(s,[1,s.shape[0],s.shape[1],s.shape[2]]));let u={x:i},c={depthRadius:e,bias:n,alpha:r,beta:o},l=y.runKernel(Hy,u,c);return a?C(l,[l.shape[1],l.shape[2],l.shape[3]]):l}var s0,BC=v(()=>{"use strict";T();S();I();A();D();J();s0=m({localResponseNormalization_:k8})});function O8(t){let n={x:h(t,"x","log","float32")};return y.runKernel(Ly,n)}var fr,Lu=v(()=>{"use strict";T();S();I();D();fr=m({log_:O8})});function R8(t){let n={x:h(t,"x","log1p")};return y.runKernel(By,n)}var Bu,i0=v(()=>{"use strict";T();S();I();D();Bu=m({log1p_:R8})});function VC(t){return w(rr(t),()=>"The f passed in grad(f) must be a function"),(e,n)=>{let r=h(e,"x","tf.grad","string_or_numeric"),o=n!=null?h(n,"dy","tf.grad"):null;return y.tidy(()=>{let{value:s,grads:i}=y.gradients(()=>t(r),[r],o);return o!=null&&Ce(s.shape,o.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),Lf(i),i[0]})}}function jC(t){return w(rr(t),()=>"The f passed in grads(f) must be a function"),(e,n)=>{w(Array.isArray(e),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");let r=_r(e,"args","tf.grads","string_or_numeric"),o=n!=null?h(n,"dy","tf.grads"):null;return y.tidy(()=>{let{value:s,grads:i}=y.gradients(()=>t(...r),r,o);return o!=null&&Ce(s.shape,o.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),Lf(i),i})}}function UC(t){return w(rr(t),()=>"The f passed in valueAndGrad(f) must be a function"),(e,n)=>{w(e instanceof xe,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),w(n==null||n instanceof xe,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");let{grads:r,value:o}=y.gradients(()=>t(e),[e],n);return Lf(r),{grad:r[0],value:o}}}function HC(t){return w(rr(t),()=>"The f passed in valueAndGrads(f) must be a function"),(e,n)=>{w(Array.isArray(e)&&e.every(o=>o instanceof xe),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),w(n==null||n instanceof xe,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");let r=y.gradients(()=>t(...e),e,n);return n!=null&&Ce(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),Lf(r.grads),r}}function $f(t,e){w(rr(t),()=>"The f passed in variableGrads(f) must be a function"),w(e==null||Array.isArray(e)&&e.every(c=>c instanceof ir),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");let n=e!=null;if(!n){e=[];for(let c in y.registeredVariables)e.push(y.registeredVariables[c])}let r=n?e.filter(c=>!c.trainable):null,o=e.length;e=e.filter(c=>c.trainable),w(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${o} variables is trainable.`);let s=!0,{value:i,grads:a}=y.gradients(t,e,null,s);w(a.some(c=>c!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),w(i.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`);let u={};return e.forEach((c,l)=>{a[l]!=null&&(u[c.name]=a[l])}),r?.forEach(c=>u[c.name]=null),{value:i,grads:u}}function Dt(t){return y.customGrad(t)}function Lf(t){if(t.filter(n=>n==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}var Hr=v(()=>{"use strict";T();an();I();A();});function F8(t){let n={x:h(t,"x","neg")};return y.runKernel(nv,n)}var ct,zr=v(()=>{"use strict";T();S();I();D();ct=m({neg_:F8})});function P8(t){let n={x:h(t,"x","softplus")};return y.runKernel(Lv,n)}var Vu,a0=v(()=>{"use strict";T();S();I();D();Vu=m({softplus_:P8})});function $8(t){let e=h(t,"x","logSigmoid");return Dt(r=>({value:ct(Vu(ct(r))),gradFunc:i=>O(i,Pn(ct(r)))}))(e)}var u0,zC=v(()=>{"use strict";Hr();I();Oe();zr();D();xu();a0();u0=m({logSigmoid_:$8})});function L8(t,e){let n=h(t,"a","sub"),r=h(e,"b","sub");[n,r]=Q(n,r);let o={a:n,b:r};return y.runKernel(tw,o)}var H,tt=v(()=>{"use strict";T();S();ke();I();D();H=m({sub_:L8})});function B8(t,e=-1){let n=h(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return Dt((o,s)=>{let a=Ln(o,e,!0),u=H(o,a),c=H(ne(u,"float32"),fr(me(un(u),e,!0)));return s([c]),{value:c,gradFunc:(f,d)=>{let[g]=d,b=!0,E=un(g);return H(f,O(me(f,e,b),E))}}})(n)}var c0,GC=v(()=>{"use strict";Hr();I();ht();Ki();Lu();_u();Oe();D();tt();Bn();c0=m({logSoftmax_:B8})});function V8(t,e=null,n=!1){let r=h(t,"x","logSumExp"),o=ao(e,r.shape),s=Ln(r,o,!0),i=H(r,s),a=un(i),u=me(a,o),c=fr(u),l=V(C(s,c.shape),c);if(n){let f=Br(l.shape,o);return C(l,f)}return l}var ju,l0=v(()=>{"use strict";I();A();We();Gi();Ki();Lu();_u();D();J();tt();Bn();ju=m({logSumExp_:V8})});function j8(t,e){let n=h(t,"a","logicalAnd","bool"),r=h(e,"b","logicalAnd","bool");he(n.shape,r.shape);let o={a:n,b:r};return y.runKernel(Vy,o)}var wo,Bf=v(()=>{"use strict";T();S();I();Je();D();wo=m({logicalAnd_:j8})});function U8(t){let n={x:h(t,"x","logicalNot","bool")};return y.runKernel(jy,n)}var Uu,f0=v(()=>{"use strict";T();S();I();D();Uu=m({logicalNot_:U8})});function H8(t,e){let n=h(t,"a","logicalOr","bool"),r=h(e,"b","logicalOr","bool");he(n.shape,r.shape);let o={a:n,b:r};return y.runKernel(Uy,o)}var Hu,d0=v(()=>{"use strict";T();S();I();Je();D();Hu=m({logicalOr_:H8})});function z8(t,e){let n=h(t,"a","logicalXor","bool"),r=h(e,"b","logicalXor","bool");return he(n.shape,r.shape),wo(Hu(t,e),Uu(wo(t,e)))}var p0,qC=v(()=>{"use strict";I();Je();Bf();f0();d0();D();p0=m({logicalXor_:z8})});function G8(t,e,n="left"){let r=h(t,"sortedSequence","searchSorted"),o=h(e,"values","searchSorted"),s=r.shape[r.shape.length-1],i=o.shape[o.shape.length-1],a=C(r,[-1,s]),u=C(o,[-1,i]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==u.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(te(u.shape)>=Vf)throw new Error(`values tensor size must less than ${Vf}`);if(a.shape[1]>=Vf)throw new Error(`trailing dim_size must less than ${Vf} for int32 output type, was ${a.shape[1]}`);let c={sortedSequence:a,values:u},l={side:n};return y.runKernel(Av,c,l)}var Vf,Yi,jf=v(()=>{"use strict";T();S();I();Ye();D();J();Vf=2147483648;Yi=m({searchSorted_:G8})});function h0(t,e){return Yi(t,e,"left")}var WC=v(()=>{"use strict";jf();});function q8(t,e,n,r,o){let s=h(t,"x","maxPool"),i=1,a=s,u=!1;s.rank===3&&(u=!0,a=C(s,[1,s.shape[0],s.shape[1],s.shape[2]])),w(a.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`),w(Et(n,i),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),Ue("maxPool",r,o);let c={x:a},l={filterSize:e,strides:n,pad:r,dimRoundingMode:o},f=y.runKernel(qy,c,l);return u?C(f,[f.shape[1],f.shape[2],f.shape[3]]):f}var zu,m0=v(()=>{"use strict";T();S();I();A();Bt();D();J();zu=m({maxPool_:q8})});function W8(t,e=[1,1,1],n,r,o,s="NDHWC"){let i=h(t,"x","maxPool3d"),a=i,u=!1;i.rank===4&&(u=!0,a=C(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),w(a.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${a.rank}.`),w(s==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`),Ue("maxPool3d",r,o);let c={x:a},l={filterSize:e,strides:n,pad:r,dimRoundingMode:o,dataFormat:s},f=y.runKernel(Wy,c,l);return u?C(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}var g0,KC=v(()=>{"use strict";T();S();I();A();Bt();D();J();g0=m({maxPool3d_:W8})});function K8(t,e,n,r,o=!1){let i={x:h(t,"x","maxPoolWithArgmax")},a={filterSize:e,strides:n,pad:r,includeBatchInIndex:o},u=y.runKernel(Ky,i,a);return{result:u[0],indexes:u[1]}}var y0,ZC=v(()=>{"use strict";T();S();I();D();y0=m({maxPoolWithArgmax_:K8})});function Z8(t,e){let n=h(t,"a","maximum"),r=h(e,"b","maximum");[n,r]=Q(n,r),n.dtype==="bool"&&(n=ne(n,"int32"),r=ne(r,"int32")),he(n.shape,r.shape);let o={a:n,b:r};return y.runKernel(Gy,o)}var Gu,v0=v(()=>{"use strict";T();S();ke();I();Je();ht();D();Gu=m({maximum_:Z8})});function Y8(t,e=null,n=!1){let o={x:h(t,"x","mean")},s={axis:e,keepDims:n};return y.runKernel(Zy,o,s)}var bo,Uf=v(()=>{"use strict";T();S();I();D();bo=m({mean_:Y8})});function Vn(t,e="float32"){if(Ae(t),e==="complex64"){let r=Vn(t,"float32"),o=Vn(t,"float32");return Ct(r,o)}let n=Ni(te(t),e);return y.makeTensor(n,t,e)}var qu=v(()=>{"use strict";T();A();fo();});function jn(t,e="float32"){if(Ae(t),e==="complex64"){let r=jn(t,"float32"),o=Vn(t,"float32");return Ct(r,o)}let n=tu(te(t),e);return y.makeTensor(n,t,e)}var Hf=v(()=>{"use strict";T();A();Ye();fo();qu();});function w0(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let r=h(t,"x","meshgrid",t instanceof xe?t.dtype:"float32");if(e===void 0)return[r];let o=h(e,"y","meshgrid",e instanceof xe?e.dtype:"float32"),s=te(r.shape),i=te(o.shape);return n==="xy"?(r=C(r,[1,-1]),o=C(o,[-1,1]),[ce(jn([i,1],r.dtype),r),ce(o,jn([1,s],o.dtype))]):(r=C(r,[-1,1]),o=C(o,[1,-1]),[ce(r,jn([1,i],r.dtype)),ce(jn([s,1],o.dtype),o)])}var YC=v(()=>{"use strict";Rr();Hf();J();an();I();Ye();});function Q8(t,e){let n=h(t,"a","minimum"),r=h(e,"b","minimum");[n,r]=Q(n,r),n.dtype==="bool"&&(n=ne(n,"int32"),r=ne(r,"int32")),he(n.shape,r.shape);let o={a:n,b:r};return y.runKernel(Qy,o)}var Eo,zf=v(()=>{"use strict";T();S();ke();I();Je();ht();D();Eo=m({minimum_:Q8})});function X8(t,e,n){w(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);let r=h(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");w(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);let o=n==="reflect"?1:0;for(let a=0;a<r.rank;a++)w(e[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),w(e[a][0]>=0&&e[a][0]<=r.shape[a]-o&&e[a][1]>=0&&e[a][1]<=r.shape[a]-o,()=>`Padding in dimension ${a} cannot be greater than or equal to ${r.shape[a]-o} or less than 0 for input of shape ${r.shape}`);let s={paddings:e,mode:n},i={x:r};return y.runKernel(Xy,i,s)}var b0,QC=v(()=>{"use strict";T();S();I();A();D();b0=m({mirrorPad_:X8})});function J8(t,e){let n=h(t,"a","mod"),r=h(e,"b","mod");[n,r]=Q(n,r);let o={a:n,b:r};return y.runKernel(Jy,o)}var E0,XC=v(()=>{"use strict";T();S();ke();I();D();E0=m({mod_:J8})});function e5(t,e=null,n=!1){t=h(t,"x","moments");let r=ao(e,t.shape),o=bo(t,r,n),s=o.shape;n||(s=Br(o.shape,r));let i=et(H(ne(t,"float32"),C(o,s))),a=bo(i,r,n);return{mean:o,variance:a}}var x0,JC=v(()=>{"use strict";I();A();Gi();ht();Uf();D();J();Vr();tt();x0=m({moments_:e5})});function t5(t,e,n,r){let o=h(e,"data","multiRNNCell"),s=_r(n,"c","multiRNNCell"),i=_r(r,"h","multiRNNCell"),a=o,u=[];for(let f=0;f<t.length;f++){let d=t[f](a,s[f],i[f]);u.push(d[0]),u.push(d[1]),a=d[1]}let c=[],l=[];for(let f=0;f<u.length;f+=2)c.push(u[f]),l.push(u[f+1]);return[c,l]}var D0,e_=v(()=>{"use strict";I();D();D0=m({multiRNNCell_:t5})});function n5(t,e,n,r=!1){let o=h(t,"logits","multinomial"),s=o.size,i=o.rank;if(s<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${s}.`);if(i>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${i}`);n=n||Math.random();let u={logits:i===1?C(o,[1,-1]):o},c={numSamples:e,seed:n,normalized:r},l=y.runKernel(ev,u,c);return i===1?C(l,[l.size]):l}var I0,t_=v(()=>{"use strict";T();S();I();D();J();I0=m({multinomial_:n5})});function r5(t,e){let n=h(t,"a","notEqual","string_or_numeric"),r=h(e,"b","notEqual","string_or_numeric");[n,r]=Q(n,r),he(n.shape,r.shape);let o={a:n,b:r};return y.runKernel(rv,o)}var Wu,T0=v(()=>{"use strict";T();S();ke();I();Je();D();Wu=m({notEqual_:r5})});function o5(t,e,n=1,r=0,o="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);let i={indices:h(t,"indices","oneHot","int32")},a={dtype:o,depth:e,onValue:n,offValue:r};return y.runKernel(uv,i,a)}var Qi,N0=v(()=>{"use strict";T();S();I();D();Qi=m({oneHot_:o5})});function s5(t){let n={x:h(t,"x","onesLike")};return y.runKernel(av,n)}var S0,n_=v(()=>{"use strict";T();S();I();D();S0=m({onesLike_:s5})});function i5(t,e){let n=h(t,"v1","outerProduct"),r=h(e,"v2","outerProduct");w(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);let o=C(n,[-1,1]),s=C(r,[1,-1]);return ce(o,s)}var C0,r_=v(()=>{"use strict";I();A();Rr();D();J();C0=m({outerProduct_:i5})});function a5(t,e,n=0){let r=h(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");let o={paddings:e,constantValue:n},s={x:r};return y.runKernel(lv,s,o)}var Un,Xi=v(()=>{"use strict";T();S();I();D();Un=m({pad_:a5})});function u5(t,e,n=0){return w(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),Un(t,[e],n)}var _0,o_=v(()=>{"use strict";A();D();Xi();_0=m({pad1d_:u5})});function c5(t,e,n=0){return w(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Un(t,e,n)}var A0,s_=v(()=>{"use strict";A();D();Xi();A0=m({pad2d_:c5})});function l5(t,e,n=0){return w(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Un(t,e,n)}var M0,i_=v(()=>{"use strict";A();D();Xi();M0=m({pad3d_:l5})});function f5(t,e,n=0){return w(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Un(t,e,n)}var k0,a_=v(()=>{"use strict";A();D();Xi();k0=m({pad4d_:f5})});function d5(t,e,n){let r=h(t,"x","spaceToBatchND");w(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),w(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),w(r.shape.reduce((i,a,u)=>u>0&&u<=e.length?i&&(a+n[u-1][0]+n[u-1][1])%e[u-1]===0:i,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);let o={x:r},s={blockShape:e,paddings:n};return y.runKernel(jv,o,s)}var Ku,O0=v(()=>{"use strict";T();S();I();A();D();Ku=m({spaceToBatchND_:d5})});function p5(t,e,n,r,o,s,i){o==null&&(o=[1,1]),s==null&&(s=1),r===0&&(r="valid");let a=h(t,"x","maxPool"),u=a,c=!1;a.rank===3&&(c=!0,u=C(a,[1,a.shape[0],a.shape[1],a.shape[2]])),w(Et(s,o),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${s} and dilations '${o}'`);let l=sb(u.shape,e,s,o,r),f=[l.dilationHeight,l.dilationWidth],d;r==="same"?d=m5([l.filterHeight,l.filterWidth],f):d=[[0,0],[0,0]];let g=f[0]===1&&f[1]===1,[b,E]=h5([l.inHeight,l.inWidth],f,d),x=g?r:"valid",N=g?u:Ku(u,f,b),_=(n==="avg"?()=>Eu(N,e,s,x,i):()=>zu(N,e,s,x,i))(),M=g?_:Du(_,f,E);return c?C(M,[M.shape[1],M.shape[2],M.shape[3]]):M}function h5(t,e,n){let r=n.map(l=>l[0]),o=n.map(l=>l[1]),s=t.concat(r,o),i=e.map((l,f)=>(l-s[f]%l)%l),a=o.map((l,f)=>l+i[f]),u=e.map((l,f)=>[r[f],a[f]]),c=e.map((l,f)=>[0,i[f]]);return[u,c]}function m5(t,e){let r=t.map((i,a)=>i+(i-1)*(e[a]-1)).map(i=>i-1),o=r.map(i=>Math.floor(i/2)),s=r.map((i,a)=>i-o[a]);return r.map((i,a)=>[o[a],s[a]])}var R0,u_=v(()=>{"use strict";I();A();ab();fb();Bt();m0();D();J();O0();R0=m({pool_:p5})});function g5(t,e){let n=h(t,"x","prelu"),r=h(e,"alpha","prelu"),o={x:n,alpha:r};return y.runKernel(dv,o)}var Zu,F0=v(()=>{"use strict";T();S();I();D();Zu=m({prelu_:g5})});function y5(t,e=null,n=!1){let r=h(t,"x","prod");r.dtype==="bool"&&(r=ne(r,"int32"));let o={x:r},s={axis:e,keepDims:n};return y.runKernel(pv,o,s)}var P0,c_=v(()=>{"use strict";T();S();I();ht();D();P0=m({prod_:y5})});function v5(t,e,n,r){let o=t.map((l,f)=>h(l,`tensors${f}`,"raggedGather","int32")),s=h(e,"paramsDenseValues","raggedGather"),i=h(n,"indices","raggedGather","int32"),a={paramsNestedSplits:o,paramsDenseValues:s,indices:i},u={outputRaggedRank:r},c=y.runKernel(hv,a,u);return{outputNestedSplits:c.slice(0,c.length-1),outputDenseValues:c[c.length-1]}}var $0,l_=v(()=>{"use strict";T();S();I();D();$0=m({raggedGather_:v5})});function w5(t,e,n){let r=h(t,"starts","raggedRange"),o=h(e,"limits","raggedRange",r.dtype),s=h(n,"deltas","raggedRange",r.dtype),i={starts:r,limits:o,deltas:s},a=y.runKernel(mv,i);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}var L0,f_=v(()=>{"use strict";T();S();I();D();L0=m({raggedRange_:w5})});function b5(t,e,n,r,o){let s=h(t,"shape","raggedTensorToTensor","int32"),i=h(e,"values","raggedTensorToTensor"),a=h(n,"defaultValue","raggedTensorToTensor",i.dtype),u=r.map((f,d)=>h(f,`tensors${d}`,"raggedTensorToTensor","int32")),c={shape:s,values:i,defaultValue:a,rowPartitionTensors:u},l={rowPartitionTypes:o};return y.runKernel(gv,c,l)}var B0,d_=v(()=>{"use strict";T();S();I();D();B0=m({raggedTensorToTensor_:b5})});function E5(t,e,n){Ae(t);let r=te(t),o=null;if(n==null||n==="float32")o=new Float32Array(r);else if(n==="int32")o=new Int32Array(r);else if(n==="bool")o=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let s=0;s<r;s++)o[s]=e();return y.makeTensor(o,t,n)}var V0,p_=v(()=>{"use strict";T();A();Ye();D();V0=m({rand_:E5})});var m_=Xt((h_,j0)=>{"use strict";(function(t,e,n){function r(a){var u=this,c=i();u.next=function(){var l=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=l-(u.c=l|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(a),u.s0<0&&(u.s0+=1),u.s1-=c(a),u.s1<0&&(u.s1+=1),u.s2-=c(a),u.s2<0&&(u.s2+=1),c=null}function o(a,u){return u.c=a.c,u.s0=a.s0,u.s1=a.s1,u.s2=a.s2,u}function s(a,u){var c=new r(a),l=u&&u.state,f=c.next;return f.int32=function(){return c.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,l&&(typeof l=="object"&&o(l,c),f.state=function(){return o(c,{})}),f}function i(){var a=4022871197,u=function(c){c=String(c);for(var l=0;l<c.length;l++){a+=c.charCodeAt(l);var f=.02519603282416938*a;a=f>>>0,f-=a,f*=a,a=f>>>0,f-=a,a+=f*4294967296}return(a>>>0)*23283064365386963e-26};return u}e&&e.exports?e.exports=s:n&&n.amd?n(function(){return s}):this.alea=s})(h_,typeof j0=="object"&&j0,typeof define=="function"&&define)});var y_=Xt((g_,U0)=>{"use strict";(function(t,e,n){function r(i){var a=this,u="";a.x=0,a.y=0,a.z=0,a.w=0,a.next=function(){var l=a.x^a.x<<11;return a.x=a.y,a.y=a.z,a.z=a.w,a.w^=a.w>>>19^l^l>>>8},i===(i|0)?a.x=i:u+=i;for(var c=0;c<u.length+64;c++)a.x^=u.charCodeAt(c)|0,a.next()}function o(i,a){return a.x=i.x,a.y=i.y,a.z=i.z,a.w=i.w,a}function s(i,a){var u=new r(i),c=a&&a.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,d=(u.next()>>>0)/4294967296,g=(f+d)/(1<<21);while(g===0);return g},l.int32=u.next,l.quick=l,c&&(typeof c=="object"&&o(c,u),l.state=function(){return o(u,{})}),l}e&&e.exports?e.exports=s:n&&n.amd?n(function(){return s}):this.xor128=s})(g_,typeof U0=="object"&&U0,typeof define=="function"&&define)});var w_=Xt((v_,H0)=>{"use strict";(function(t,e,n){function r(i){var a=this,u="";a.next=function(){var l=a.x^a.x>>>2;return a.x=a.y,a.y=a.z,a.z=a.w,a.w=a.v,(a.d=a.d+362437|0)+(a.v=a.v^a.v<<4^(l^l<<1))|0},a.x=0,a.y=0,a.z=0,a.w=0,a.v=0,i===(i|0)?a.x=i:u+=i;for(var c=0;c<u.length+64;c++)a.x^=u.charCodeAt(c)|0,c==u.length&&(a.d=a.x<<10^a.x>>>4),a.next()}function o(i,a){return a.x=i.x,a.y=i.y,a.z=i.z,a.w=i.w,a.v=i.v,a.d=i.d,a}function s(i,a){var u=new r(i),c=a&&a.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,d=(u.next()>>>0)/4294967296,g=(f+d)/(1<<21);while(g===0);return g},l.int32=u.next,l.quick=l,c&&(typeof c=="object"&&o(c,u),l.state=function(){return o(u,{})}),l}e&&e.exports?e.exports=s:n&&n.amd?n(function(){return s}):this.xorwow=s})(v_,typeof H0=="object"&&H0,typeof define=="function"&&define)});var E_=Xt((b_,z0)=>{"use strict";(function(t,e,n){function r(i){var a=this;a.next=function(){var c=a.x,l=a.i,f,d,g;return f=c[l],f^=f>>>7,d=f^f<<24,f=c[l+1&7],d^=f^f>>>10,f=c[l+3&7],d^=f^f>>>3,f=c[l+4&7],d^=f^f<<7,f=c[l+7&7],f=f^f<<13,d^=f^f<<9,c[l]=d,a.i=l+1&7,d};function u(c,l){var f,d,g=[];if(l===(l|0))d=g[0]=l;else for(l=""+l,f=0;f<l.length;++f)g[f&7]=g[f&7]<<15^l.charCodeAt(f)+g[f+1&7]<<13;for(;g.length<8;)g.push(0);for(f=0;f<8&&g[f]===0;++f);for(f==8?d=g[7]=-1:d=g[f],c.x=g,c.i=0,f=256;f>0;--f)c.next()}u(a,i)}function o(i,a){return a.x=i.x.slice(),a.i=i.i,a}function s(i,a){i==null&&(i=+new Date);var u=new r(i),c=a&&a.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,d=(u.next()>>>0)/4294967296,g=(f+d)/(1<<21);while(g===0);return g},l.int32=u.next,l.quick=l,c&&(c.x&&o(c,u),l.state=function(){return o(u,{})}),l}e&&e.exports?e.exports=s:n&&n.amd?n(function(){return s}):this.xorshift7=s})(b_,typeof z0=="object"&&z0,typeof define=="function"&&define)});var D_=Xt((x_,G0)=>{"use strict";(function(t,e,n){function r(i){var a=this;a.next=function(){var c=a.w,l=a.X,f=a.i,d,g;return a.w=c=c+1640531527|0,g=l[f+34&127],d=l[f=f+1&127],g^=g<<13,d^=d<<17,g^=g>>>15,d^=d>>>12,g=l[f]=g^d,a.i=f,g+(c^c>>>16)|0};function u(c,l){var f,d,g,b,E,x=[],N=128;for(l===(l|0)?(d=l,l=null):(l=l+"\0",d=0,N=Math.max(N,l.length)),g=0,b=-32;b<N;++b)l&&(d^=l.charCodeAt((b+32)%l.length)),b===0&&(E=d),d^=d<<10,d^=d>>>15,d^=d<<4,d^=d>>>13,b>=0&&(E=E+1640531527|0,f=x[b&127]^=d+E,g=f==0?g+1:0);for(g>=128&&(x[(l&&l.length||0)&127]=-1),g=127,b=4*128;b>0;--b)d=x[g+34&127],f=x[g=g+1&127],d^=d<<13,f^=f<<17,d^=d>>>15,f^=f>>>12,x[g]=d^f;c.w=E,c.X=x,c.i=g}u(a,i)}function o(i,a){return a.i=i.i,a.w=i.w,a.X=i.X.slice(),a}function s(i,a){i==null&&(i=+new Date);var u=new r(i),c=a&&a.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,d=(u.next()>>>0)/4294967296,g=(f+d)/(1<<21);while(g===0);return g},l.int32=u.next,l.quick=l,c&&(c.X&&o(c,u),l.state=function(){return o(u,{})}),l}e&&e.exports?e.exports=s:n&&n.amd?n(function(){return s}):this.xor4096=s})(x_,typeof G0=="object"&&G0,typeof define=="function"&&define)});var T_=Xt((I_,q0)=>{"use strict";(function(t,e,n){function r(i){var a=this,u="";a.next=function(){var l=a.b,f=a.c,d=a.d,g=a.a;return l=l<<25^l>>>7^f,f=f-d|0,d=d<<24^d>>>8^g,g=g-l|0,a.b=l=l<<20^l>>>12^f,a.c=f=f-d|0,a.d=d<<16^f>>>16^g,a.a=g-l|0},a.a=0,a.b=0,a.c=-1640531527,a.d=1367130551,i===Math.floor(i)?(a.a=i/4294967296|0,a.b=i|0):u+=i;for(var c=0;c<u.length+20;c++)a.b^=u.charCodeAt(c)|0,a.next()}function o(i,a){return a.a=i.a,a.b=i.b,a.c=i.c,a.d=i.d,a}function s(i,a){var u=new r(i),c=a&&a.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,d=(u.next()>>>0)/4294967296,g=(f+d)/(1<<21);while(g===0);return g},l.int32=u.next,l.quick=l,c&&(typeof c=="object"&&o(c,u),l.state=function(){return o(u,{})}),l}e&&e.exports?e.exports=s:n&&n.amd?n(function(){return s}):this.tychei=s})(I_,typeof q0=="object"&&q0,typeof define=="function"&&define)});var N_=Xt(()=>{"use strict"});var C_=Xt((S_,Gf)=>{"use strict";(function(t,e,n){var r=256,o=6,s=52,i="random",a=n.pow(r,o),u=n.pow(2,s),c=u*2,l=r-1,f;function d(_,M,L){var F=[];M=M==!0?{entropy:!0}:M||{};var j=x(E(M.entropy?[_,P(e)]:_??N(),3),F),W=new g(F),q=function(){for(var Y=W.g(o),re=a,De=0;Y<u;)Y=(Y+De)*r,re*=r,De=W.g(1);for(;Y>=c;)Y/=2,re/=2,De>>>=1;return(Y+De)/re};return q.int32=function(){return W.g(4)|0},q.quick=function(){return W.g(4)/4294967296},q.double=q,x(P(W.S),e),(M.pass||L||function(Y,re,De,Re){return Re&&(Re.S&&b(Re,W),Y.state=function(){return b(W,{})}),De?(n[i]=Y,re):Y})(q,j,"global"in M?M.global:this==n,M.state)}function g(_){var M,L=_.length,F=this,j=0,W=F.i=F.j=0,q=F.S=[];for(L||(_=[L++]);j<r;)q[j]=j++;for(j=0;j<r;j++)q[j]=q[W=l&W+_[j%L]+(M=q[j])],q[W]=M;(F.g=function(Y){for(var re,De=0,Re=F.i,Ge=F.j,Ke=F.S;Y--;)re=Ke[Re=l&Re+1],De=De*r+Ke[l&(Ke[Re]=Ke[Ge=l&Ge+re])+(Ke[Ge]=re)];return F.i=Re,F.j=Ge,De})(r)}function b(_,M){return M.i=_.i,M.j=_.j,M.S=_.S.slice(),M}function E(_,M){var L=[],F=typeof _,j;if(M&&F=="object")for(j in _)try{L.push(E(_[j],M-1))}catch{}return L.length?L:F=="string"?_:_+"\0"}function x(_,M){for(var L=_+"",F,j=0;j<L.length;)M[l&j]=l&(F^=M[l&j]*19)+L.charCodeAt(j++);return P(M)}function N(){try{var _;return f&&(_=f.randomBytes)?_=_(r):(_=new Uint8Array(r),(t.crypto||t.msCrypto).getRandomValues(_)),P(_)}catch{var M=t.navigator,L=M&&M.plugins;return[+new Date,t,L,t.screen,P(e)]}}function P(_){return String.fromCharCode.apply(0,_)}if(x(n.random(),e),typeof Gf=="object"&&Gf.exports){Gf.exports=d;try{f=N_()}catch{}}else typeof define=="function"&&define.amd?define(function(){return d}):n["seed"+i]=d})(typeof self<"u"?self:S_,[],Math)});var A_=Xt((Rhe,__)=>{"use strict";var x5=m_(),D5=y_(),I5=w_(),T5=E_(),N5=D_(),S5=T_(),bs=C_();bs.alea=x5;bs.xor128=D5;bs.xorwow=I5;bs.xorshift7=T5;bs.xor4096=N5;bs.tychei=S5;__.exports=bs});var Y0={};le(Y0,{TEST_EPSILON_FLOAT16:()=>M_,createVideoElement:()=>F5,encodeStrings:()=>k_,expectArrayBuffersEqual:()=>R5,expectArraysClose:()=>_5,expectArraysEqual:()=>M5,expectNumbersClose:()=>k5,expectPromiseToFail:()=>A5,expectValuesInRange:()=>O5,play:()=>P5,testEpsilon:()=>K0});function _5(t,e,n){return n==null&&(n=K0()),W0(t,e,(r,o)=>Z0(r,o,n))}function K0(){return y.backend.floatPrecision()===32?C5:M_}function W0(t,e,n){let r=!0;if((Ve(t)||Ve(e))&&(r=!1),Ve(t)&&Ve(e)&&(r=!0),r){let i=t.constructor.name,a=e.constructor.name;if(i!==a)throw new Error(`Arrays are of different type. Actual: ${i}. Expected: ${a}`)}if(Array.isArray(t)&&Array.isArray(e)){let i=ft(t),a=ft(e);if(!Nt(i,a))throw new Error(`Arrays have different shapes. Actual: [${i}]. Expected: [${a}]`)}let o=Ve(t)?t:kn(t),s=Ve(e)?e:kn(e);if(o.length!==s.length)throw new Error(`Arrays have different lengths actual: ${o.length} vs expected: ${s.length}.
Actual:   ${o}.
Expected: ${s}.`);for(let i=0;i<s.length;++i){let a=o[i],u=s[i];if(!n(a,u))throw new Error(`Arrays differ: actual[${i}] = ${a}, expected[${i}] = ${u}.
Actual:   ${o}.
Expected: ${s}.`)}typeof expect<"u"&&expect().nothing()}function A5(t,e){t().then(()=>e.fail(),()=>e()),typeof expect<"u"&&expect().nothing()}function M5(t,e){let n=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return An(t)||An(t[0])||An(e)||An(e[0])?W0(t,n,(r,o)=>r==o):W0(t,e,(r,o)=>Z0(r,o,0))}function k5(t,e,n){if(n==null&&(n=K0()),!Z0(t,e,n))throw new Error(`Numbers differ: actual === ${t}, expected === ${e}`);typeof expect<"u"&&expect().nothing()}function Z0(t,e,n){return!isFinite(t)&&!isFinite(e)?!0:!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}function O5(t,e,n){for(let r=0;r<t.length;r++)if(t[r]<e||t[r]>n)throw new Error(`Value out of range:${t[r]} low: ${e}, high: ${n}`)}function R5(t,e){let n=new Float32Array(t),r=new Float32Array(e);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(let o=0;o<r.length;o++)if(n[o]!==r[o])throw new Error(`Expected ArrayBuffer value at ${o} to be ${r[o]} but got ${n[o]} instead`)}function k_(t){for(let e=0;e<t.length;e++){let n=t[e];Array.isArray(n)?k_(n):t[e]=lo(n)}return t}function F5(t){let e=document.createElement("video");return"playsInline"in e&&(e.playsInline=!0),e.muted=!0,e.loop=!0,e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.preload="auto",e.appendChild(t),new Promise(n=>{e.addEventListener("loadeddata",r=>n(e)),e.load()})}function P5(t){return k(this,null,function*(){yield t.play(),"requestVideoFrameCallback"in t&&(yield new Promise(e=>{t.requestVideoFrameCallback(e)}))})}var C5,M_,O_=v(()=>{"use strict";T();I();A();C5=.001,M_=.1});var Kf,Es,qf,Wf,Yu=v(()=>{"use strict";Kf=Hd(A_());Es=class{constructor(e,n,r,o,s){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);let i=s||Math.random();this.random=Kf.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){let o=this.nextVal;return this.nextVal=NaN,o}let e,n,r=!1;for(;!r;){let o,s,i;do o=2*this.random()-1,s=2*this.random()-1,i=o*o+s*s;while(i>=1||i===0);let a=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*o*a,n=this.mean+this.stdDev*s*a,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}},qf=class{constructor(e,n,r,o){this.alpha=e,this.beta=1/n,this.dtype=r;let s=o||Math.random();this.randu=Kf.alea(s.toString()),this.randn=new Es(0,1,r,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,r,o,s,i;for(;;){do o=this.randn.nextValue(),i=1+this.c*o;while(i<=0);if(i*=i*i,e=o*o,n=1-.331*e*e,r=.5*e+this.d*(1-i+Math.log(i)),s=this.randu(),s<n||Math.log(s)<r)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}},Wf=class{constructor(e=0,n=1,r,o){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=r,o==null&&(o=Math.random()),typeof o=="number"&&(o=o.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=Kf.alea(o)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}});function $5(t,e,n=1,r="float32",o){if(Ae(t),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);let s=new qf(e,n,r,o),i=pt(t,r);for(let a=0;a<i.values.length;a++)i.values[a]=s.nextValue();return i.toTensor()}var Q0,R_=v(()=>{"use strict";Ye();Or();D();Yu();Q0=m({randomGamma_:$5})});function L5(t,e=0,n=1,r,o){if(Ae(t),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);let s=new Es(e,n,r,!1,o),i=pt(t,r);for(let a=0;a<i.values.length;a++)i.values[a]=s.nextValue();return i.toTensor()}var Qu,X0=v(()=>{"use strict";Ye();Or();D();Yu();Qu=m({randomNormal_:L5})});function B5(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return Qu(t,0,1,e,n)}var J0,F_=v(()=>{"use strict";D();X0();J0=m({randomStandardNormal_:B5})});function V5(t,e=0,n=1,r="float32",o){Ae(t);let s=pt(t,r),i=new Wf(e,n,null,o);for(let a=0;a<s.values.length;a++)s.values[a]=i.nextValue();return s.toTensor()}var xs,Zf=v(()=>{"use strict";Ye();Or();D();Yu();xs=m({randomUniform_:V5})});function j5(t,e,n,r){return xs(t,e,n,"int32",r)}var eE,P_=v(()=>{"use strict";D();Zf();eE=m({randomUniformInt_:j5})});function Gr(t,e,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");let o={start:t,stop:e,step:n,dtype:r};return y.runKernel(yv,{},o)}var Yf=v(()=>{"use strict";T();S();});function U5(t){let n={input:h(t,"input","real")};return y.runKernel(vv,n)}var dr,Xu=v(()=>{"use strict";T();S();I();D();dr=m({real_:U5})});function H5(t){let n={x:h(t,"x","reciprocal")};return y.runKernel(wv,n)}var tE,$_=v(()=>{"use strict";T();S();I();D();tE=m({reciprocal_:H5})});function z5(t){let n={x:h(t,"x","relu")};return y.runKernel(bv,n)}var qr,Ju=v(()=>{"use strict";T();S();I();D();qr=m({relu_:z5})});function G5(t){let n={x:h(t,"x","relu6")};return y.runKernel(Iv,n)}var ec,nE=v(()=>{"use strict";T();S();I();D();ec=m({relu6_:G5})});function q5(t,e){let r={x:h(t,"x","reverse")},o={dims:e};return y.runKernel(Tv,r,o)}var Wt,Ds=v(()=>{"use strict";T();S();I();D();Wt=m({reverse_:q5})});function W5(t){let e=h(t,"x","reverse");return w(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),Wt(e,0)}var rE,L_=v(()=>{"use strict";I();A();D();Ds();rE=m({reverse1d_:W5})});function K5(t,e){let n=h(t,"x","reverse");return w(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Wt(n,e)}var oE,B_=v(()=>{"use strict";I();A();D();Ds();oE=m({reverse2d_:K5})});function Z5(t,e){let n=h(t,"x","reverse");return w(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Wt(n,e)}var sE,V_=v(()=>{"use strict";I();A();D();Ds();sE=m({reverse3d_:Z5})});function Y5(t,e){let n=h(t,"x","reverse");return w(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Wt(n,e)}var iE,j_=v(()=>{"use strict";I();A();D();Ds();iE=m({reverse4d_:Y5})});function Q5(t){let n={x:h(t,"x","round")};return y.runKernel(Nv,n)}var tc,aE=v(()=>{"use strict";T();S();I();D();tc=m({round_:Q5})});function X5(t){let n={x:h(t,"x","rsqrt","float32")};return y.runKernel(Sv,n)}var uE,U_=v(()=>{"use strict";T();S();I();D();uE=m({rsqrt_:X5})});function J5(t){let n={x:h(t,"x","selu")};return y.runKernel(kv,n)}var cE,H_=v(()=>{"use strict";T();S();I();D();cE=m({selu_:J5})});function eU(t,e,n,r,o,s=[1,1],i="NHWC"){let a=h(t,"x","separableConv2d"),u=h(e,"depthwiseFilter","separableConv2d"),c=h(n,"pointwiseFilter","separableConv2d"),l=a,f=!1;if(a.rank===3&&(f=!0,l=C(a,[1,a.shape[0],a.shape[1],a.shape[2]])),i==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");w(l.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${l.rank}.`),w(u.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${u.rank}.`),w(c.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${u.rank}.`),w(c.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${c.shape[0]}.`),w(c.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${c.shape[1]}.`);let d=u.shape[2],g=u.shape[3];w(c.shape[2]===d*g,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*g}, but got ${c.shape[2]}.`);let b=ys(l,u,r,o,i,s),x=Pr(b,c,1,"valid",i);return f?C(x,[x.shape[1],x.shape[2],x.shape[3]]):x}var lE,z_=v(()=>{"use strict";I();A();Nu();Mf();D();J();lE=m({separableConv2d_:eU})});function tU(t,e){return k(this,null,function*(){let n=h(t,"x","setdiff1d"),r=h(e,"y","setdiff1d");w(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),w(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),w(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);let o=yield n.data(),s=yield r.data(),i=new Set(s),a=0;for(let l=0;l<o.length;l++)i.has(o[l])||a++;let u=new Cr([a],n.dtype),c=new Cr([a],"int32");for(let l=0,f=0;l<o.length;l++)i.has(o[l])||(u.values[f]=o[l],c.values[f]=l,f++);return[u.toTensor(),c.toTensor()]})}var fE,G_=v(()=>{"use strict";an();I();A();fE=tU});function nU(t){let n={x:h(t,"x","sign")};return y.runKernel(Pv,n)}var dE,q_=v(()=>{"use strict";T();S();I();D();dE=m({sign_:nU})});function rU(t){let n={x:h(t,"x","sin","float32")};return y.runKernel(Rv,n)}var pE,W_=v(()=>{"use strict";T();S();I();D();pE=m({sin_:rU})});function oU(t){let n={x:h(t,"x","sinh")};return y.runKernel(Fv,n)}var hE,K_=v(()=>{"use strict";T();S();I();D();hE=m({sinh_:oU})});function sU(t,e,n){let r=h(t,"x","slice1d");return w(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),ue(r,[e],[n])}var mE,Z_=v(()=>{"use strict";I();A();D();vn();mE=m({slice1d_:sU})});function iU(t,e,n){let r=h(t,"x","slice2d");return w(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),ue(r,e,n)}var gE,Y_=v(()=>{"use strict";I();A();D();vn();gE=m({slice2d_:iU})});function aU(t,e,n){let r=h(t,"x","slice3d");return w(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),ue(r,e,n)}var yE,Q_=v(()=>{"use strict";I();A();D();vn();yE=m({slice3d_:aU})});function uU(t,e,n){let r=h(t,"x","slice4d");return w(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),ue(r,e,n)}var vE,X_=v(()=>{"use strict";I();A();D();vn();vE=m({slice4d_:uU})});function cU(t,e=-1){let n=h(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);let r={logits:n},o={dim:e};return y.runKernel(Hv,r,o)}var wE,J_=v(()=>{"use strict";T();S();I();D();wE=m({softmax_:cU})});function lU(t){w(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);let e={input:t};return y.runKernel(wy,e)}var Is,Qf=v(()=>{"use strict";T();S();A();D();Is=m({fft_:lU})});function fU(t){w(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);let e={input:t};return y.runKernel(_y,e)}var xo,Xf=v(()=>{"use strict";T();S();A();D();xo=m({ifft_:fU})});function dU(t){let e=t.shape[t.shape.length-1],n=t.size/e,r;if(e<=2){let o=C(t,[n,e]);r=xo(o)}else{let o=[n,2*(e-1)],s=C(dr(t),[n,e]),i=C(Ur(t),[n,e]),a=Wt(ue(s,[0,1],[n,e-2]),1),u=O(Wt(ue(i,[0,1],[n,e-2]),1),z(-1)),c=Ne([s,a],1),l=Ne([i,u],1),f=C(Ct(c,l),[o[0],o[1]]);r=xo(f)}if(r=dr(r),t.rank===3&&t.shape[0]!==0){let o=r,s=t.shape[0];r=C(r,[s,r.shape[0]/s,r.shape[1]]),o.dispose()}return r}var nc,bE=v(()=>{"use strict";fo();Fn();Pu();Oe();D();Xu();J();Ds();xt();vn();Xf();nc=m({irfft_:dU})});function pU(t,e,n=0){let o={x:h(t,"x","split")},s={numOrSizeSplits:e,axis:n};return y.runKernel(Uv,o,s)}var pr,rc=v(()=>{"use strict";T();S();I();D();pr=m({split_:pU})});function hU(t,e){w(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1],r=t.size/n,o;if(e!=null&&e<n){let b=t.shape.map(x=>0),E=t.shape.map(x=>x);E[t.shape.length-1]=e,o=ue(t,b,E),n=e}else if(e!=null&&e>n){let b=t.shape.map(E=>E);b[t.shape.length-1]=e-n,o=Ne([t,Vn(b)],t.shape.length-1),n=e}else o=t;let s=ze(o),i=C(Ct(o,s),[r,n]),a=Is(i),u=Math.floor(n/2)+1,c=dr(a),l=Ur(a),f=pr(c,[u,n-u],c.shape.length-1),d=pr(l,[u,n-u],l.shape.length-1),g=o.shape.slice();return g[o.shape.length-1]=u,C(Ct(f[0],d[0]),g)}var Ts,Jf=v(()=>{"use strict";A();fo();Fn();Pu();D();Xu();J();vn();rc();qu();$r();Qf();Ts=m({rfft_:hU})});function mU(t,e){let n=h(t,"a","squaredDifference"),r=h(e,"b","squaredDifference");[n,r]=Q(n,r),he(n.shape,r.shape);let o={a:n,b:r},s={};return y.runKernel(Zv,o,s)}var oc,EE=v(()=>{"use strict";T();S();ke();I();Je();D();oc=m({squaredDifference_:mU})});function gU(t,e){let n=h(t,"x","squeeze","string_or_numeric");return C(n,gg(n.shape,e).newShape)}var Ns,ed=v(()=>{"use strict";I();A();D();J();Ns=m({squeeze_:gU})});function yU(t,e=0){let n=_r(t,"tensors","stack","string_or_numeric");w(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&w(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");let r=n,o={axis:e};return y.runKernel(cv,r,o)}var It,sc=v(()=>{"use strict";T();S();I();A();D();It=m({stack_:yU})});function vU(t,e=0){let r={x:h(t,"x","step")},o={alpha:e};return y.runKernel(lw,r,o)}var ic,xE=v(()=>{"use strict";T();S();I();D();ic=m({step_:vU})});function wU(t,e,n,r,o=0,s=0,i=0,a=0,u=0){let l={x:h(t,"x","stridedSlice","string_or_numeric")},f={begin:e,end:n,strides:r,beginMask:o,endMask:s,ellipsisMask:i,newAxisMask:a,shrinkAxisMask:u};return y.runKernel(Qv,l,f)}var DE,eA=v(()=>{"use strict";T();S();I();D();DE=m({stridedSlice_:wU})});function bU(t){let n={x:h(t,"x","tan","float32")};return y.runKernel(nw,n)}var IE,tA=v(()=>{"use strict";T();S();I();D();IE=m({tan_:bU})});function nt(t,e){sn(t);let n=ft(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return _t(t,null,n,e)}var Do=v(()=>{"use strict";I();A();Ar();});function Wr(t,e,n){if(sn(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");let r=ft(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return _t(t,e,r,n)}var td=v(()=>{"use strict";I();A();Ar();});function ac(t,e,n){if(sn(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");let r=ft(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return _t(t,e,r,n)}var TE=v(()=>{"use strict";I();A();Ar();});function NE(t,e,n){if(sn(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");let r=ft(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return _t(t,e,r,n)}var nA=v(()=>{"use strict";I();A();Ar();});function SE(t,e,n){if(sn(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");let r=ft(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return _t(t,e,r,n)}var rA=v(()=>{"use strict";I();A();Ar();});function CE(t,e,n){if(sn(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");let r=ft(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,_t(t,e,r,n)}var oA=v(()=>{"use strict";I();A();Ar();});var uc={};le(uc,{calculateShapes:()=>sA,validateInput:()=>Ji,validateUpdateShape:()=>_E});function _E(t,e,n){let r=e.rank>1?e.shape[e.rank-1]:1,o=e.rank>1?e.rank-1:1,s=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${o}.`;if(n.rank<o)throw new Error(s+` update.rank < ${o}. `);if(t.length<r+(n.rank-o))throw new Error(s+` Output shape length < ${r+(n.rank-o)}`);if(n.rank!==o+t.length-r)throw new Error(s+` update.rank != ${o+t.length-r}`);for(let i=0;i<o;++i)if(n.shape[i]!==e.shape[i])throw new Error(s+` updates.shape[${i}] (${n.shape[i]}) != indices.shape[${i}] (${e.shape[i]}).`);for(let i=0;i<n.rank-o;++i)if(n.shape[i+o]!==t[i+r])throw new Error(s+` updates.shape[${i+o}] (${n.shape[i+o]}) != shape[${i+o}] (${t[i+o]})`)}function Ji(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}_E(n,e,t)}function sA(t,e,n){let r=e.shape.length,o=r>1?e.shape[r-1]:1,s=n.length,i=1;for(let f=o;f<s;++f)i*=n[f];let a=o<1?1:o,u=te(e.shape)/a,c=[...or(n.slice(0,o)),1],l=te(n);return{sliceRank:o,numUpdates:u,sliceSize:i,strides:c,outputSize:l}}var cc=v(()=>{"use strict";A()});function EU(t,e,n){let r=h(t,"tensor","tensorScatterupdate"),o=h(e,"indices","tensorScatterupdate","int32"),s=h(n,"updates","tensorScatterupdate");if(Ji(s,o,r.shape),r.dtype!==s.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${s.dtype}.`);let i={tensor:r,indices:o,updates:s},a={};return y.runKernel(_v,i,a)}var AE,iA=v(()=>{"use strict";T();S();I();D();cc();AE=m({tensorScatterUpdate_:EU})});function xU(t,e=1,n=!0){let r=h(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");let o=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>o)throw new Error(`'k' passed to topk() must be <= the last dimension (${o}) but got ${e}`);let s={x:r},i={k:e,sorted:n},[a,u]=y.runKernel(ow,s,i);return{values:a,indices:u}}var ME,aA=v(()=>{"use strict";T();S();I();D();ME=m({topk_:xU})});function DU(t,e=0,n=1,r,o){if(Ae(t),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");let s=new Es(e,n,r,!0,o),i=pt(t,r);for(let a=0;a<i.values.length;a++)i.values[a]=s.nextValue();return i.toTensor()}var kE,uA=v(()=>{"use strict";Ye();Or();D();Yu();kE=m({truncatedNormal_:DU})});function IU(t,e=0){let n=h(t,"x","unique","string_or_numeric");w(n.rank>0,()=>"The input tensor must be at least 1D");let r={x:n},o={axis:e},[s,i]=y.runKernel(iw,r,o);return{values:s,indices:i}}var OE,cA=v(()=>{"use strict";T();S();I();A();D();OE=m({unique_:IU})});function TU(t,e,n){let r=h(t,"x","unsortedSegmentSum"),o=h(e,"segmentIds","unsortedSegmentSum","int32");w(Sr(n),()=>"numSegments must be of dtype int");let s={x:r,segmentIds:o},i={numSegments:n};return y.runKernel(uw,s,i)}var RE,lA=v(()=>{"use strict";T();S();I();A();D();RE=m({unsortedSegmentSum_:TU})});function NU(t,e=0){let n=h(t,"x","unstack","string_or_numeric");w(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);let r={value:n},o={axis:e};return y.runKernel(aw,r,o)}var Kt,nd=v(()=>{"use strict";T();S();I();A();D();Kt=m({unstack_:NU})});function FE(t,e){return Yi(t,e,"right")}var fA=v(()=>{"use strict";jf();});function PE(t,e=!0,n,r){return y.makeVariable(t,e,n,r)}var dA=v(()=>{"use strict";T();});function rd(t,e){let n=[];for(let s=0;s<e.length;s++)e[s]&&n.push(s);let r=pt(t,"int32"),o=pt([n.length,t.length],"int32");for(let s=0;s<n.length;s++){let i=r.indexToLoc(n[s]),a=s*t.length;o.values.set(i,a)}return o.toTensor()}var $E=v(()=>{"use strict";Or();});function SU(t){return k(this,null,function*(){let e=h(t,"condition","whereAsync","bool"),n=yield e.data(),r=rd(e.shape,n);return t!==e&&e.dispose(),r})}var lc,LE=v(()=>{"use strict";$E();I();lc=SU});function CU(t,e,n){return k(this,null,function*(){let r=h(t,"tensor","boolMask"),o=h(e,"mask","boolMask","bool"),s=n??0,i=o.rank,a=r.shape;w(i>0,()=>"mask cannot be scalar"),Ce(a.slice(s,s+i),o.shape,"mask's shape must match the first K dimensions of tensor's shape,");let u=1;for(let E=s;E<s+i;E++)u*=a[E];let c=a.slice(0,s).concat([u],a.slice(s+i)),l=C(r,c),f=C(o,[-1]),d=yield lc(f),g=Ns(d,[1]),b=Ru(l,g,s);return t!==r&&r.dispose(),e!==o&&o.dispose(),g.dispose(),l.dispose(),f.dispose(),d.dispose(),b})}var pA,hA=v(()=>{"use strict";I();A();Qb();J();ed();LE();pA=CU});function _U(t,e,n){let r=h(t,"x","transpose");if(e==null&&(e=r.shape.map((i,a)=>a).reverse()),w(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(i=>{w(i>=0&&i<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();let o={x:r},s={perm:e};return r.dtype==="complex64"?X(()=>{let i=dr(r),a=Ur(r);return i=y.runKernel(au,{x:i},s),a=y.runKernel(au,{x:a},s),n&&(a=ct(a)),Ct(i,a)}):y.runKernel(au,o,s)}var Ss,od=v(()=>{"use strict";T();Gt();S();I();A();fo();Pu();zr();D();Xu();Ss=m({transpose_:_U})});function AU(t,e,n,r,o=!0){let s=h(t,"v","movingAverage"),i=h(e,"x","movingAverage"),a=h(n,"decay","movingAverage");xw(s,i),w(Nt(s.shape,i.shape),()=>"Shape mismatch in v and x");let u=z(1),c=H(u,a),l=O(H(i,s),c);if(o){w(r!=null,()=>"When using zeroDebias: true, step is required.");let f=h(r,"step","movingAverage");l=ae(l,H(u,lr(a,f)))}return V(s,l)}var mA,gA=v(()=>{"use strict";ke();I();A();We();Lt();Oe();D();Au();xt();tt();mA=m({movingAverage_:AU})});function MU(t,e,n){Ae(n);let r=h(t,"indices","scatterND","int32"),o=h(e,"updates","scatterND");Ji(o,r,n);let s={indices:r,updates:o},i={shape:n};return y.runKernel(Cv,s,i)}var yA,vA=v(()=>{"use strict";T();S();I();Ye();D();cc();yA=m({scatterND_:MU})});function wA(t,e,n,r){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);let o=t.rank>0?t.shape[0]:1,s=t.rank>1?t.shape[1]:1;if(n.length!==s)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${s}.`);let i=e.size;if(!(e.rank===0||e.rank===1&&i===o))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${o}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}var bA=v(()=>{"use strict"});function OU(t,e,n,r=0){Ae(n);let o=h(t,"sparseIndices","sparseToDense","int32"),s=h(e,"sparseValues","sparseToDense","string_or_numeric"),i=h(r,"defaultValue","sparseToDense",s.dtype);wA(o,s,n,i);let a={sparseIndices:o,sparseValues:s,defaultValue:i},u={outputShape:n};return y.runKernel(Kv,a,u)}var EA,xA=v(()=>{"use strict";T();S();bA();I();Ye();D();EA=m({sparseToDense_:OU})});function RU(t,e){let n=h(e,"indices","gatherND","int32"),o={params:h(t,"x","gatherND","string_or_numeric"),indices:n};return y.runKernel(Ny,o)}var DA,IA=v(()=>{"use strict";T();S();I();D();DA=m({gatherND_:RU})});function TA(t,e){if(e==null)return t.shape.slice();if(Nt(t.shape,e))return e;if(t.shape.length===e.length){let n=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?n.push(t.shape[r]):n.push(e[r]);return n}return e}var NA=v(()=>{"use strict";A();});function FU(t,e,n,r){let o=h(t,"x","dropout");if(w(o.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${o.dtype} tensor instead.`),w(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof xe?o.clone():o;let s=TA(o,n),i=1-e,a=ae(Ou(V(xs(s,0,1,"float32",r),i)),i);return O(o,a)}var SA,CA=v(()=>{"use strict";an();I();A();We();Lt();NA();Yb();Oe();D();Zf();SA=m({dropout_:FU})});function sd(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function ea(t,e,n){let r=1-t%2,o=new Float32Array(t);for(let s=0;s<t;++s){let i=2*Math.PI*s/(t+r-1);o[s]=e-n*Math.cos(i)}return nt(o,"float32")}var fc=v(()=>{"use strict";Do();});function PU(t,e,n=1){return k(this,null,function*(){let r=h(t,"predictions","inTopK"),o=h(e,"targets","inTopK");w(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),w(r.rank-1===o.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${o.rank}`),Ce(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");let s=r.shape[r.shape.length-1];w(n>0&&n<=s,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${s}), but got ${n}`);let i=yield r.data(),a=yield o.data(),[u,c]=[i.length/s,s],l=yg("bool",u);for(let f=0;f<u;f++){let d=f*c,g=i.subarray(d,d+c),b=[];for(let E=0;E<g.length;E++)b.push({value:g[E],index:E});b.sort((E,x)=>x.value-E.value),l[f]=0;for(let E=0;E<n;E++)if(b[E].index===a[f]){l[f]=1;break}}return t!==r&&r.dispose(),e!==o&&o.dispose(),bt(l,o.shape,"bool")})}var _A,AA=v(()=>{"use strict";I();A();mu();_A=PU});function $U(t,e,n,r,o,s="NHWC",i){let a=t;t.rank===3&&(a=C(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let u=e;u.rank===3&&(u=C(e,[1,e.shape[0],e.shape[1],e.shape[2]])),w(a.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${a.shape}.`),w(u.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${u.shape}.`),w(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);let c=s==="NHWC"?a.shape[3]:a.shape[1],l=s==="NHWC"?u.shape[3]:u.shape[1];w(c===n[2],()=>`Error in conv2dDerFilter: depth of input ${c}) must match input depth in filter (${n[2]}.`),w(l===n[3],()=>`Error in conv2dDerFilter: depth of dy (${l}) must match output depth for filter (${n[3]}).`),Ue("conv2dDerFilter",o,i);let f={x:a,dy:u},d={strides:r,pad:o,dataFormat:s,dimRoundingMode:i,filterShape:n};return y.runKernel(Zg,f,d)}var MA,kA=v(()=>{"use strict";T();S();A();Bt();D();J();MA=m({conv2DBackpropFilter_:$U})});function Cs(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return O(t,ic(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function _s(t,e){let n=e,r=kf(t.shape,e.shape);return r.length>0&&(n=me(n,r)),C(n,t.shape)}function As(t,e,n,r){if(e==="linear")return t;if(e==="relu")return qr(t);if(e==="elu")return Cu(t);if(e==="relu6")return ec(t);if(e==="prelu")return Zu(t,n);if(e==="leakyrelu")return $u(t,r);if(e==="sigmoid")return Pn(t);throw new Error(`Unknown fused activation ${e}.`)}var Ms,ta=v(()=>{"use strict";Je();Ub();n0();Oe();F0();Ju();nE();J();xu();xE();Bn();Ms=(t,e)=>!(t>0)||e==="linear"});function LU({x:t,filter:e,strides:n,pad:r,dataFormat:o="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:a,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:l}){if(u=u||"linear",Ms(y.state.gradientDepth,u)===!1){w(o==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${o} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let F=Pr(t,e,n,r,o,s,i);return a!=null&&(F=V(F,a)),As(F,u,c,l)}let f=h(t,"x","conv2d","float32"),d=h(e,"filter","conv2d","float32"),g=f,b=!1;f.rank===3&&(b=!0,g=C(f,[1,f.shape[0],f.shape[1],f.shape[2]])),w(g.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${g.rank}.`),w(d.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`),Ue("fused conv2d",r,i);let E=o==="NHWC"?g.shape[3]:g.shape[1];w(d.shape[2]===E,()=>`Error in conv2d: depth of input (${E}) must match input depth for filter ${d.shape[2]}.`),w(Et(n,s),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`);let x=ms(g.shape,d.shape,n,s,r,i),N;a!=null&&(N=h(a,"bias","fused conv2d"),[N]=Q(N,f),o==="NHWC"?he(x.outShape,N.shape):(w(N.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${N.shape.length}.`),w(N.shape.length===0||N.shape[0]===x.outChannels||N.shape[0]===1,()=>`Error in fused conv2d: bias shape (${N.shape}) is not compatible with the number of output channels (${x.outChannels})`)));let P;if(c!=null){let F=c.shape;if(w(F.length<=1||F.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${F.length}.`),F.length===1)w(F[0]===1||F[0]===x.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${F}) is not compatible with the number of output channels (${x.outChannels}).`);else if(F.length===3)try{he(F,x.outShape)}catch{let W=`Error in fused conv2d: PReLU activation weights (${F}) is not compatible with the output shape of the conv2d (${x.outShape}).`;throw Error(W)}P=h(c,"prelu weights","fused conv2d")}let _=(F,j)=>{w(o==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${o} but only NHWC is currently supported.`);let[W,q,Y,re]=j,De=Cs(F,Y,u);w(hs(s),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`);let Re=Af(q.shape,De,W,n,r),Ge=MA(q,De,W.shape,n,r),Ke=[Re,Ge];if(re!=null){let Rs=_s(re,De);Ke.push(Rs)}return Ke},M={x:g,filter:d,bias:N,preluActivationWeights:P},L={strides:n,pad:r,dataFormat:o,dilations:s,dimRoundingMode:i,activation:u,leakyreluAlpha:l};return a==null?Dt((j,W,q)=>{let Y=y.runKernel(cf,M,L);return q([W,j,Y]),b&&(Y=C(Y,[Y.shape[1],Y.shape[2],Y.shape[3]])),{value:Y,gradFunc:_}})(g,d):Dt((j,W,q,Y)=>{let re=y.runKernel(cf,M,L);return Y([W,j,re,q]),b&&(re=C(re,[re.shape[1],re.shape[2],re.shape[3]])),{value:re,gradFunc:_}})(g,d,N)}var OA,RA=v(()=>{"use strict";T();Hr();S();ke();I();A();We();Je();Nu();kA();Nb();Bt();ta();D();J();OA=m({fusedConv2d_:LU})});function BU(t,e,n,r,o,s=[1,1],i){let a=t;t.rank===3&&(a=C(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let u=e;u.rank===3&&(u=C(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let c={x:a,dy:u},l={strides:r,pad:o,dimRoundingMode:i,dilations:s,filterShape:n};return y.runKernel(ay,c,l)}var FA,PA=v(()=>{"use strict";T();S();D();J();FA=m({depthwiseConv2dNativeBackpropFilter_:BU})});function VU(t,e,n,r,o,s=[1,1],i){let a=e,u=!1;e.rank===3&&(u=!0,a=C(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let c={dy:a,filter:n},l={strides:r,pad:o,dimRoundingMode:i,dilations:s,inputShape:t},f=y.runKernel(uy,c,l);return u?C(f,[f.shape[1],f.shape[2],f.shape[3]]):f}var $A,LA=v(()=>{"use strict";T();S();D();J();$A=m({depthwiseConv2dNativeBackpropInput_:VU})});function jU({x:t,filter:e,strides:n,pad:r,dataFormat:o="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:a,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:l}){if(Ms(y.state.gradientDepth,u)===!1){let L=ys(t,e,n,r,o,s,i);return a!=null&&(L=V(L,a)),As(L,u,c,l)}let f=h(t,"x","depthwiseConv2d","float32"),d=h(e,"filter","depthwiseConv2d","float32"),g=f,b=!1;f.rank===3&&(b=!0,g=C(f,[1,f.shape[0],f.shape[1],f.shape[2]])),w(g.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${g.rank}.`),w(d.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`),w(g.shape[3]===d.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${g.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`),s==null&&(s=[1,1]),w(Et(n,s),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`),Ue("fused depthwiseConv2d",r,i);let E=ms(g.shape,d.shape,n,s,r,i,!0),x;a!=null&&(x=h(a,"bias","fused conv2d"),[x]=Q(x,f),he(E.outShape,x.shape));let N;c!=null&&(N=h(c,"prelu weights","fused depthwiseConv2d"));let P=(L,F)=>{w(hs(s),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`);let[j,W,q,Y]=F,re=Cs(L,q,u),De=$A(W.shape,re,j,n,r,s,i),Re=FA(W,re,j.shape,n,r,s,i);if(Y!=null){let Ge=_s(x,re);return[De,Re,Ge]}return[De,Re]},_={x:g,filter:d,bias:x,preluActivationWeights:N},M={strides:n,pad:r,dataFormat:o,dilations:s,dimRoundingMode:i,activation:u,leakyreluAlpha:l};return a==null?Dt((F,j,W)=>{let q=y.runKernel(lf,_,M);return W([j,F,q]),b&&(q=C(q,[q.shape[1],q.shape[2],q.shape[3]])),{value:q,gradFunc:P}})(g,d):Dt((F,j,W,q)=>{let Y=y.runKernel(lf,_,M);return q([j,F,Y,W]),b&&(Y=C(Y,[Y.shape[1],Y.shape[2],Y.shape[3]])),{value:Y,gradFunc:P}})(g,d,x)}var BA,VA=v(()=>{"use strict";T();Hr();S();ke();I();A();We();Je();Bt();Mf();PA();LA();ta();D();J();BA=m({fusedDepthwiseConv2d_:jU})});function UU({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:o,activation:s="linear",preluActivationWeights:i,leakyreluAlpha:a=.2}){if(Ms(y.state.gradientDepth,s)===!1){let re=ce(t,e,n,r);return o!=null&&(re=V(re,o)),As(re,s,i,a)}let u=h(t,"a","fused matMul"),c=h(e,"b","fused matMul");[u,c]=Q(u,c);let l=n?u.shape[u.rank-2]:u.shape[u.rank-1],f=r?c.shape[c.rank-1]:c.shape[c.rank-2],d=n?u.shape[u.rank-1]:u.shape[u.rank-2],g=r?c.shape[c.rank-2]:c.shape[c.rank-1],b=u.shape.slice(0,-2),E=c.shape.slice(0,-2),x=te(b),N=te(E);w(l===f,()=>`Error in fused matMul: inner shapes (${l}) and (${f}) of Tensors with shapes ${u.shape} and ${c.shape} and transposeA=${n} and transposeB=${r} must match.`);let _=he(u.shape.slice(0,-2),c.shape.slice(0,-2)).concat([d,g]),M=n?C(u,[x,l,d]):C(u,[x,d,l]),L=r?C(c,[N,g,f]):C(c,[N,f,g]),F;o!=null&&(F=h(o,"bias","fused matMul"),[F]=Q(F,u),he(_,F.shape));let j;i!=null&&(j=h(i,"prelu weights","fused matMul"));let W=(re,De)=>{let[Re,Ge,Ke,Rs]=De,yr=Cs(C(re,Ke.shape),Ke,s),Fs,Ps;if(!n&&!r?(Fs=ce(yr,Ge,!1,!0),Ps=ce(Re,yr,!0,!1)):!n&&r?(Fs=ce(yr,Ge,!1,!1),Ps=ce(yr,Re,!0,!1)):n&&!r?(Fs=ce(Ge,yr,!1,!0),Ps=ce(Re,yr,!1,!1)):(Fs=ce(Ge,yr,!0,!0),Ps=ce(yr,Re,!0,!0)),o!=null){let lR=_s(Rs,yr);return[Fs,Ps,lR]}else return[Fs,Ps]},q={a:M,b:L,bias:F,preluActivationWeights:j},Y={transposeA:n,transposeB:r,activation:s,leakyreluAlpha:a};return o==null?Dt((De,Re,Ge)=>{let Ke=y.runKernel(uf,q,Y);return Ge([De,Re,Ke]),{value:C(Ke,_),gradFunc:W}})(M,L):Dt((De,Re,Ge,Ke)=>{let Rs=y.runKernel(uf,q,Y);return Ke([De,Re,Rs,Ge]),{value:C(Rs,_),gradFunc:W}})(M,L,F)}var jA,UA=v(()=>{"use strict";T();Hr();S();ke();I();A();We();Je();ta();Rr();D();J();jA=m({fusedMatMul_:UU})});var id={};le(id,{conv2d:()=>OA,depthwiseConv2d:()=>BA,matMul:()=>jA});var HA=v(()=>{"use strict";RA();VA();UA();});function HU(t){return ea(t,.54,.46)}var zA,GA=v(()=>{"use strict";D();fc();zA=m({hammingWindow_:HU})});function zU(t){return ea(t,.5,.5)}var ad,BE=v(()=>{"use strict";D();fc();ad=m({hannWindow_:zU})});function GU(t,e,n,r=!1,o=0){let s=0,i=[];for(;s+e<=t.size;)i.push(ue(t,s,e)),s+=n;if(r)for(;s<t.size;){let a=s+e-t.size,u=Ne([ue(t,s,e-a),$n([a],o)]);i.push(u),s+=n}return i.length===0?Wr([],[0,e]):C(Ne(i),[i.length,e])}var ud,VE=v(()=>{"use strict";Fn();Hi();D();J();vn();td();ud=m({frame_:GU})});function qU(t,e,n,r,o=ad){r==null&&(r=sd(e));let s=ud(t,e,n),i=O(s,o(e));return Ts(i,r)}var qA,WA=v(()=>{"use strict";Oe();D();fc();Jf();VE();BE();qA=m({stft_:qU})});function WU(t,e,n,r,o="bilinear",s=0){let i=h(t,"image","cropAndResize"),a=h(e,"boxes","cropAndResize","float32"),u=h(n,"boxInd","cropAndResize","int32"),c=a.shape[0];w(i.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`),w(a.rank===2&&a.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${a.shape}.`),w(u.rank===1&&u.shape[0]===c,()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${a.shape}.`),w(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),w(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),w(o==="bilinear"||o==="nearest",()=>`method must be bilinear or nearest, but was ${o}`);let l={image:i,boxes:a,boxInd:u},f={method:o,extrapolationValue:s,cropSize:r};return y.runKernel(ry,l,f)}var KA,ZA=v(()=>{"use strict";T();S();I();A();D();KA=m({cropAndResize_:WU})});function KU(t){let e=h(t,"image","flipLeftRight","float32");w(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);let n={image:e};return y.runKernel(Ey,n,{})}var YA,QA=v(()=>{"use strict";T();S();I();A();D();YA=m({flipLeftRight_:KU})});function ZU(t){let e=h(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];w(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),w(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);let o=new Array(e.rank);return o.fill(1,0,n),o[n]=3,jr(e,o)}var XA,JA=v(()=>{"use strict";I();A();D();Rf();XA=m({grayscaleToRGB_:ZU})});function YU(t){let e=h(t,"image","RGBToGrayscale"),n=e.rank-1,r=e.shape[n];w(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),w(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);let o=e.dtype,s=ne(e,"float32"),i=nt([.2989,.587,.114]),a;switch(e.rank){case 2:a=Lr("ij,j->i",s,i);break;case 3:a=Lr("ijk,k->ij",s,i);break;case 4:a=Lr("ijkl,l->ijk",s,i);break;case 5:a=Lr("ijklm,m->ijkl",s,i);break;case 6:a=Lr("ijklmn,n->ijklm",s,i);break;default:throw new Error("Not a valid tensor rank.")}return a=wn(a,-1),ne(a,o)}var eM,tM=v(()=>{"use strict";I();A();ht();jb();Of();D();Do();eM=m({rgbToGrayscale_:YU})});function QU(t,e,n=0,r=.5){let o=h(t,"image","rotateWithOffset","float32");w(o.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${o.rank}.`);let s={image:o},i={radians:e,fillValue:n,center:r};return y.runKernel(fw,s,i)}var nM,rM=v(()=>{"use strict";T();S();I();A();D();nM=m({rotateWithOffset_:QU})});function bn(t,e,n,r,o,s){r==null&&(r=.5),o==null&&(o=Number.NEGATIVE_INFINITY),s==null&&(s=0);let i=t.shape[0];return n=Math.min(n,i),w(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),w(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),w(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),w(e.rank===1,()=>"scores must be a 1D tensor"),w(e.shape[0]===i,()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${e.shape[0]}`),w(0<=s&&s<=1,()=>`softNmsSigma must be in [0, 1], but was '${s}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:s}}var ks=v(()=>{"use strict";A();});function XU(t,e,n,r=.5,o=Number.NEGATIVE_INFINITY){let s=h(t,"boxes","nonMaxSuppression","float32"),i=h(e,"scores","nonMaxSuppression","float32"),a=bn(s,i,n,r,o);n=a.maxOutputSize,r=a.iouThreshold,o=a.scoreThreshold;let u={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return y.runKernel(ov,{boxes:s,scores:i},u)}var oM,sM=v(()=>{"use strict";T();S();I();ks();D();oM=m({nonMaxSuppression_:XU})});function iM(t,e,n){let r=JU(t,e,n),o=r<0?-(r+1):r;t.splice(o,0,e)}function JU(t,e,n){return tH(t,e,n||eH)}function eH(t,e){return t>e?1:t<e?-1:0}function tH(t,e,n){let r=0,o=t.length,s=0,i=!1;for(;r<o;){s=r+(o-r>>>1);let a=n(e,t[s]);a>0?r=s+1:(o=s,i=!a)}return i?r:-r-1}var aM=v(()=>{"use strict";});function cd(t,e,n,r,o){return jE(t,e,n,r,o,0)}function ld(t,e,n,r,o,s){return jE(t,e,n,r,o,0,!1,s,!0)}function fd(t,e,n,r,o,s){return jE(t,e,n,r,o,s,!0)}function jE(t,e,n,r,o,s,i=!1,a=!1,u=!1){let c=[];for(let x=0;x<e.length;x++)e[x]>o&&c.push({score:e[x],boxIndex:x,suppressBeginIndex:0});c.sort(uM);let l=s>0?-.5/s:0,f=[],d=[];for(;f.length<n&&c.length>0;){let x=c.pop(),{score:N,boxIndex:P,suppressBeginIndex:_}=x;if(N<o)break;let M=!1;for(let L=f.length-1;L>=_;--L){let F=nH(t,P,f[L]);if(F>=r){M=!0;break}if(x.score=x.score*rH(r,l,F),x.score<=o)break}x.suppressBeginIndex=f.length,M||(x.score===N?(f.push(P),d.push(x.score)):x.score>o&&iM(c,x,uM))}let g=f.length,b=n-g;a&&b>0&&(f.push(...new Array(b).fill(0)),d.push(...new Array(b).fill(0)));let E={selectedIndices:f};return i&&(E.selectedScores=d),u&&(E.validOutputs=g),E}function nH(t,e,n){let r=t.subarray(e*4,e*4+4),o=t.subarray(n*4,n*4+4),s=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(o[0],o[2]),l=Math.min(o[1],o[3]),f=Math.max(o[0],o[2]),d=Math.max(o[1],o[3]),g=(a-s)*(u-i),b=(f-c)*(d-l);if(g<=0||b<=0)return 0;let E=Math.max(s,c),x=Math.max(i,l),N=Math.min(a,f),P=Math.min(u,d),_=Math.max(N-E,0)*Math.max(P-x,0);return _/(g+b-_)}function rH(t,e,n){let r=Math.exp(e*n*n);return n<=t?r:0}function uM(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}var dc=v(()=>{"use strict";aM();});function oH(s,i,a){return k(this,arguments,function*(t,e,n,r=.5,o=Number.NEGATIVE_INFINITY){let u=h(t,"boxes","nonMaxSuppressionAsync"),c=h(e,"scores","nonMaxSuppressionAsync"),l=bn(u,c,n,r,o);n=l.maxOutputSize,r=l.iouThreshold,o=l.scoreThreshold;let f=yield Promise.all([u.data(),c.data()]),d=f[0],g=f[1],{selectedIndices:b}=cd(d,g,n,r,o);return u!==t&&u.dispose(),c!==e&&c.dispose(),nt(b,"int32")})}var cM,lM=v(()=>{"use strict";dc();I();ks();Do();cM=oH});function sH(t,e,n,r=.5,o=Number.NEGATIVE_INFINITY,s=0){let i=h(t,"boxes","nonMaxSuppression"),a=h(e,"scores","nonMaxSuppression"),u=bn(i,a,n,r,o,s);n=u.maxOutputSize,r=u.iouThreshold,o=u.scoreThreshold,s=u.softNmsSigma;let c={boxes:i,scores:a},l={maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:s},f=y.runKernel(iv,c,l);return{selectedIndices:f[0],selectedScores:f[1]}}var fM,dM=v(()=>{"use strict";T();S();I();ks();D();fM=m({nonMaxSuppressionWithScore_:sH})});function iH(i,a,u){return k(this,arguments,function*(t,e,n,r=.5,o=Number.NEGATIVE_INFINITY,s=0){let c=h(t,"boxes","nonMaxSuppressionAsync"),l=h(e,"scores","nonMaxSuppressionAsync"),f=bn(c,l,n,r,o,s);n=f.maxOutputSize,r=f.iouThreshold,o=f.scoreThreshold,s=f.softNmsSigma;let d=yield Promise.all([c.data(),l.data()]),g=d[0],b=d[1],{selectedIndices:E,selectedScores:x}=fd(g,b,n,r,o,s);return c!==t&&c.dispose(),l!==e&&l.dispose(),{selectedIndices:nt(E,"int32"),selectedScores:nt(x)}})}var pM,hM=v(()=>{"use strict";dc();I();ks();Do();pM=iH});function aH(t,e,n,r=.5,o=Number.NEGATIVE_INFINITY,s=!1){let i=h(t,"boxes","nonMaxSuppression"),a=h(e,"scores","nonMaxSuppression"),u=bn(i,a,n,r,o,null),c=u.maxOutputSize,l=u.iouThreshold,f=u.scoreThreshold,d={boxes:i,scores:a},g={maxOutputSize:c,iouThreshold:l,scoreThreshold:f,padToMaxOutputSize:s},b=y.runKernel(sv,d,g);return{selectedIndices:b[0],validOutputs:b[1]}}var mM,gM=v(()=>{"use strict";T();S();I();ks();D();mM=m({nonMaxSuppressionPadded_:aH})});function uH(i,a,u){return k(this,arguments,function*(t,e,n,r=.5,o=Number.NEGATIVE_INFINITY,s=!1){let c=h(t,"boxes","nonMaxSuppressionAsync"),l=h(e,"scores","nonMaxSuppressionAsync"),f=bn(c,l,n,r,o,null),d=f.maxOutputSize,g=f.iouThreshold,b=f.scoreThreshold,[E,x]=yield Promise.all([c.data(),l.data()]),{selectedIndices:N,validOutputs:P}=ld(E,x,d,g,b,s);return c!==t&&c.dispose(),l!==e&&l.dispose(),{selectedIndices:nt(N,"int32"),validOutputs:z(P,"int32")}})}var yM,vM=v(()=>{"use strict";dc();I();ks();xt();Do();yM=uH});function cH(t,e,n=!1,r=!1){let o=h(t,"images","resizeBilinear");w(o.rank===3||o.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${o.rank}.`),w(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),w(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let s=o,i=!1;o.rank===3&&(i=!0,s=C(o,[1,o.shape[0],o.shape[1],o.shape[2]]));let[]=e,a={images:s},u={alignCorners:n,halfPixelCenters:r,size:e},c=y.runKernel(Dv,a,u);return i?C(c,[c.shape[1],c.shape[2],c.shape[3]]):c}var wM,bM=v(()=>{"use strict";T();S();I();A();D();J();wM=m({resizeBilinear_:cH})});function lH(t,e,n=!1,r=!1){let o=h(t,"images","resizeNearestNeighbor");w(o.rank===3||o.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${o.rank}.`),w(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),w(o.dtype==="float32"||o.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),w(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let s=o,i=!1;o.rank===3&&(i=!0,s=C(o,[1,o.shape[0],o.shape[1],o.shape[2]]));let[]=e,a={images:s},u={alignCorners:n,halfPixelCenters:r,size:e},c=y.runKernel(xv,a,u);return i?C(c,[c.shape[1],c.shape[2],c.shape[3]]):c}var EM,xM=v(()=>{"use strict";T();S();I();A();D();J();EM=m({resizeNearestNeighbor_:lH})});function fH(t,e="binary",n=!1,r=.5){let o=h(t,"image","threshold"),s=.2989,i=.587,a=.114,u=o.shape[0]*o.shape[1],c=O(nt([r]),255),l,f,d,g;if(w(o.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${o.rank}.`),w(o.shape[2]===3||o.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${o.shape[2]}.`),w(o.dtype==="int32"||o.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${o.dtype}.`),w(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),o.shape[2]===3){[l,f,d]=pr(o,[1,1,1],-1);let x=O(l,s),N=O(f,i),P=O(d,a);g=V(V(x,N),P)}else g=t;if(e==="otsu"){let x=Tu(ne(tc(g),"int32"),bt([]),256);c=dH(x,u)}let b=n?ws(g,c):vo(g,c);return ne(O(b,255),"int32")}function dH(t,e){let n=nt([-1]),r=nt([0]),o=nt([0]),s,i,a,u,c,l;for(let f=0;f<t.size-1;f++){s=ue(t,0,f+1),i=ue(t,f+1),c=ae(me(s),e),l=ae(me(i),e);let d=me(O(s,Gr(0,s.size)));a=ae(d,me(s));let g=$n(i.shape,s.size),b=V(Gr(0,i.size),g),E=O(i,b);u=ae(me(E),me(i));let x=H(a,u),N=H(a,u),P=O(c,l);o=O(O(P,x),N);let _=vo(o,r);r=qt(_,o,r),n=qt(_,nt([f]),n)}return n}var DM,IM=v(()=>{"use strict";Do();D();ht();rc();mb();Pf();Ff();Bn();We();Oe();Lt();tt();aE();zi();Hi();vn();Yf();mu();A();I();DM=m({threshold_:fH})});function pH(t,e,n="nearest",r="constant",o=0,s){let i=h(t,"image","transform","float32"),a=h(e,"transforms","transform","float32");w(i.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${i.rank}.`),w(a.rank===2&&(a.shape[0]===i.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),w(s==null||s.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${s}.`);let u={image:i,transforms:a},c={interpolation:n,fillMode:r,fillValue:o,outputShape:s};return y.runKernel(sw,u,c)}var TM,NM=v(()=>{"use strict";T();S();I();A();D();TM=m({transform_:pH})});function hH(t,e,n){let r=h(t,"a","bandPart");w(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);let o=r.shape,[s,i]=r.shape.slice(-2),a,u;typeof e=="number"?(w(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),w(e<=s,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${s}).`),a=h(e<0?s:e,"numLower","bandPart")):(w(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),a=qt(Zi(e,0),s,Eo(e,s))),typeof n=="number"?(w(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),w(n<=i,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${i}).`),u=h(n<0?i:n,"numUpper","bandPart")):(w(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),u=qt(Zi(n,0),i,Eo(n,i)));let c=C(Gr(0,s,1,"int32"),[-1,1]),l=Gr(0,i,1,"int32"),f=H(c,l),d=wo(ws(f,a),Fu(f,ct(u))),g=Vn([s,i],r.dtype);return C(It(Kt(C(r,[-1,s,i])).map(b=>qt(d,b,g))),o)}var SM,CM=v(()=>{"use strict";I();A();Xb();r0();Pf();Bf();zf();zr();D();Yf();J();sc();tt();nd();zi();qu();SM=m({bandPart_:hH})});function mH(t){let e;if(Array.isArray(t)){e=!1,w(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");let o=t[0].shape[0];for(let s=1;s<t.length;++s)w(t[s].shape[0]===o,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[s].shape[0]} vs. ${o})`)}else e=!0,t=pr(t,t.shape[0],0).map(o=>Ns(o,[0]));w(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);let n=[],r=t;for(let o=0;o<t.length;++o)n.push(y.tidy(()=>{let s=r[o];if(o>0)for(let i=0;i<o;++i){let a=O(me(O(n[i],s)),n[i]);s=H(s,a)}return ae(s,yo(s,"euclidean"))}));return e?It(n,0):n}var _M,AM=v(()=>{"use strict";T();A();Lt();Oe();Mu();D();rc();ed();sc();tt();Bn();_M=m({gramSchmidt_:mH})});function gH(t,e=!1){if(w(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return MM(t,e);{let n=t.shape.slice(0,t.shape.length-2).reduce((u,c)=>u*c),r=Kt(C(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),o=[],s=[];r.forEach(u=>{let[c,l]=MM(u,e);o.push(c),s.push(l)});let i=C(It(o,0),t.shape),a=C(It(s,0),t.shape);return[i,a]}}function MM(t,e=!1){return y.tidy(()=>{w(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);let n=t.shape[0],r=t.shape[1],o=ku(n),s=$t(t),i=Wr([[1]],[1,1]),a=$t(i),u=n>=r?r:n;for(let c=0;c<u;++c){let l=s,f=a,d=o;[a,s,o]=y.tidy(()=>{let g=ue(s,[c,c],[n-c,1]),b=yo(g),E=ue(s,[c,c],[1,1]),x=qt(vo(E,0),Wr([[-1]]),Wr([[1]])),N=H(E,O(x,b)),P=ae(g,N);P.shape[0]===1?a=$t(i):a=Ne([i,ue(P,[1,0],[P.shape[0]-1,P.shape[1]])],0);let _=ct(ae(ce(x,N),b)),M=ue(s,[c,0],[n-c,r]),L=O(_,a),F=Ss(a);if(c===0)s=H(M,ce(L,ce(F,M)));else{let q=H(M,ce(L,ce(F,M)));s=Ne([ue(s,[0,0],[c,r]),q],0)}let j=Ss(L),W=ue(o,[0,c],[n,o.shape[1]-c]);if(c===0)o=H(W,ce(ce(W,a),j));else{let q=H(W,ce(ce(W,a),j));o=Ne([ue(o,[0,0],[n,c]),q],1)}return[a,s,o]}),$e([l,f,d])}return!e&&n>r&&(o=ue(o,[0,0],[n,r]),s=ue(s,[0,0],[r,r])),[o,s]})}var kM,OM=v(()=>{"use strict";T();Gt();A();Vi();Fn();Lt();Zb();Ff();Rr();Oe();zr();Mu();D();J();vn();sc();tt();td();od();nd();zi();kM=m({qr_:gH})});var Le,Hn=v(()=>{"use strict";Le=function(t){return t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS",t}(Le||{})});function yH(t,e,n=Le.SUM_BY_NONZERO_WEIGHTS){let r=h(t,"losses","computeWeightedLoss"),o=null;e!=null&&(o=h(e,"weights","computeWeightedLoss"));let s=o==null?r:O(r,o);if(n===Le.NONE)return s;if(n===Le.SUM)return me(s);if(n===Le.MEAN){if(o==null)return bo(s);{let i=r.size/o.size,a=ae(me(s),me(o));return i>1?ae(a,z(i)):a}}if(n===Le.SUM_BY_NONZERO_WEIGHTS){if(o==null)return ae(me(s),z(r.size));{let i=O(o,jn(r.shape)),a=ne(me(Wu(i,z(0))),"float32");return ae(me(s),a)}}throw Error(`Unknown reduction: ${n}`)}var mt,hr=v(()=>{"use strict";I();ht();Lt();Hn();Uf();Oe();T0();Hf();D();xt();Bn();mt=m({computeWeightedLoss_:yH})});function vH(t,e,n,r=Le.SUM_BY_NONZERO_WEIGHTS){let o=h(t,"labels","absoluteDifference"),s=h(e,"predictions","absoluteDifference"),i=null;n!=null&&(i=h(n,"weights","absoluteDifference")),Ce(o.shape,s.shape,"Error in absoluteDifference: ");let a=Xe(H(o,s));return mt(a,i,r)}var RM,FM=v(()=>{"use strict";I();A();ps();Hn();D();tt();hr();RM=m({absoluteDifference_:vH})});function wH(t,e,n,r,o=Le.SUM_BY_NONZERO_WEIGHTS){let s=h(t,"labels","cosineDistance"),i=h(e,"predictions","cosineDistance"),a=null;r!=null&&(a=h(r,"weights","cosineDistance")),Ce(s.shape,i.shape,"Error in cosineDistance: ");let u=z(1),c=H(u,me(O(s,i),n,!0));return mt(c,a,o)}var PM,$M=v(()=>{"use strict";I();A();Hn();Oe();D();xt();tt();Bn();hr();PM=m({cosineDistance_:wH})});function bH(t,e,n,r=Le.SUM_BY_NONZERO_WEIGHTS){let o=h(t,"labels","hingeLoss"),s=h(e,"predictions","hingeLoss"),i=null;n!=null&&(i=h(n,"weights","hingeLoss")),Ce(o.shape,s.shape,"Error in hingeLoss: ");let a=z(1);o=H(O(z(2),o),a);let u=qr(H(a,O(o,s)));return mt(u,i,r)}var LM,BM=v(()=>{"use strict";I();A();Hn();Oe();D();Ju();xt();tt();hr();LM=m({hingeLoss_:bH})});function EH(t,e,n,r=1,o=Le.SUM_BY_NONZERO_WEIGHTS){let s=h(t,"labels","huberLoss"),i=h(e,"predictions","huberLoss"),a=null;n!=null&&(a=h(n,"weights","huberLoss")),Ce(s.shape,i.shape,"Error in huberLoss: ");let u=z(r),c=Xe(H(i,s)),l=Eo(c,u),f=H(c,l),d=V(O(z(.5),et(l)),O(u,f));return mt(d,a,o)}var VM,jM=v(()=>{"use strict";I();A();ps();We();Hn();zf();Oe();D();xt();Vr();tt();hr();VM=m({huberLoss_:EH})});function xH(t,e,n,r=1e-7,o=Le.SUM_BY_NONZERO_WEIGHTS){let s=h(t,"labels","logLoss"),i=h(e,"predictions","logLoss"),a=null;n!=null&&(a=h(n,"weights","logLoss")),Ce(s.shape,i.shape,"Error in logLoss: ");let u=z(1),c=z(r),l=ct(O(s,fr(V(i,c)))),f=O(H(u,s),fr(V(H(u,i),c))),d=H(l,f);return mt(d,a,o)}var UM,HM=v(()=>{"use strict";I();A();We();Lu();Hn();Oe();zr();D();xt();tt();hr();UM=m({logLoss_:xH})});function DH(t,e,n,r=Le.SUM_BY_NONZERO_WEIGHTS){let o=h(t,"labels","meanSquaredError"),s=h(e,"predictions","meanSquaredError"),i=null;n!=null&&(i=h(n,"weights","meanSquaredError")),Ce(o.shape,s.shape,"Error in meanSquaredError: ");let a=oc(o,s);return mt(a,i,r)}var zM,GM=v(()=>{"use strict";I();A();Hn();D();EE();hr();zM=m({meanSquaredError_:DH})});function IH(t,e){let n=h(t,"labels","sigmoidCrossEntropyWithLogits"),r=h(e,"logits","sigmoidCrossEntropyWithLogits");Ce(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");let o=qr(r),s=O(r,n),i=Bu(un(ct(Xe(r))));return V(H(o,s),i)}function TH(t,e,n,r=0,o=Le.SUM_BY_NONZERO_WEIGHTS){let s=h(t,"multiClassLabels","sigmoidCrossEntropy"),i=h(e,"logits","sigmoidCrossEntropy"),a=null;if(n!=null&&(a=h(n,"weights","sigmoidCrossEntropy")),Ce(s.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){let c=z(r),l=z(1),f=z(.5);s=V(O(s,H(l,c)),O(f,c))}let u=IH(s,i);return mt(u,a,o)}var qM,WM=v(()=>{"use strict";I();A();ps();We();Ki();i0();Hn();Oe();zr();D();Ju();xt();tt();hr();qM=m({sigmoidCrossEntropy_:TH})});function NH(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return Dt((o,s,i)=>{let u=ju(s,[n],!0),c=H(ne(s,"float32"),u);i([o,c]);let l=ct(O(c,o));return{value:me(l,[n]),gradFunc:(g,b)=>{let[E,x]=b,N=Br(g.shape,[n]);return[O(C(g,N),H(ne(E,"float32"),un(x))),O(C(g,N),H(un(x),ne(E,"float32")))]}}})(t,e)}function SH(t,e,n,r=0,o=Le.SUM_BY_NONZERO_WEIGHTS){let s=h(t,"onehotLabels","softmaxCrossEntropy"),i=h(e,"logits","softmaxCrossEntropy"),a=null;if(n!=null&&(a=h(n,"weights","softmaxCrossEntropy")),Ce(s.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){let c=z(r),l=z(1),f=z(s.shape[1]);s=V(O(s,H(l,c)),ae(c,f))}let u=NH(s,i);return mt(u,a,o)}var KM,ZM=v(()=>{"use strict";Hr();I();A();We();Gi();ht();Lt();Ki();l0();Hn();Oe();zr();D();J();xt();tt();Bn();hr();KM=m({softmaxCrossEntropy_:SH})});function CH(t,e,n,r){let o=h(t,"indices","sparseFillEmptyRows","int32"),s=h(e,"values","sparseFillEmptyRows"),i=h(n,"denseShape","sparseFillEmptyRows","int32"),a=h(r,"defaultValue","sparseFillEmptyRows",s.dtype);if(o.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${o.shape}`);if(s.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${s.shape}`);if(i.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${i.shape}`);if(a.rank!==0)throw new Error(`Default value should be a scalar but received shape ${a.shape}`);let u={indices:o,values:s,denseShape:i,defaultValue:a},c=y.runKernel(zv,u);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}var YM,QM=v(()=>{"use strict";T();S();I();D();YM=m({sparseFillEmptyRows_:CH})});function _H(t,e,n){let r=h(t,"inputIndices","sparseReshape","int32"),o=h(e,"inputShape","sparseReshape","int32"),s=h(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(o.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${o.shape}`);if(s.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${s.shape}`);let i={inputIndices:r,inputShape:o,newShape:s},a=y.runKernel(Gv,i);return{outputIndices:a[0],outputShape:a[1]}}var XM,JM=v(()=>{"use strict";T();S();I();D();XM=m({sparseReshape_:_H})});function AH(t,e,n){let r=h(t,"data","sparseSegmentMean"),o=h(e,"indices","sparseSegmentMean","int32"),s=h(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${o.shape}`);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${s.shape}`);let i={data:r,indices:o,segmentIds:s};return y.runKernel(qv,i)}var e2,t2=v(()=>{"use strict";T();S();I();D();e2=m({sparseSegmentMean_:AH})});function MH(t,e,n){let r=h(t,"data","sparseSegmentSum"),o=h(e,"indices","sparseSegmentSum","int32"),s=h(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${o.shape}`);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${s.shape}`);let i={data:r,indices:o,segmentIds:s};return y.runKernel(Wv,i)}var n2,r2=v(()=>{"use strict";T();S();I();D();n2=m({sparseSegmentSum_:MH})});function kH(t,e,n,r,o,s,i,a){let u=h(t,"data","stringNGrams","string");if(u.dtype!=="string")throw new Error("Data must be of datatype string");if(u.shape.length!==1)throw new Error(`Data must be a vector, saw: ${u.shape}`);let c=h(e,"dataSplits","stringNGrams");if(c.dtype!=="int32")throw new Error("Data splits must be of datatype int32");let l={separator:n,nGramWidths:r,leftPad:o,rightPad:s,padWidth:i,preserveShortSequences:a},f={data:u,dataSplits:c},d=y.runKernel(Xv,f,l);return{nGrams:d[0],nGramsSplits:d[1]}}var o2,s2=v(()=>{"use strict";T();S();I();D();o2=m({stringNGrams_:kH})});function OH(t,e,n=!0){let r=h(t,"input","stringSplit","string"),o=h(e,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(o.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${o.shape}`);let s={skipEmpty:n},i={input:r,delimiter:o},a=y.runKernel(Jv,i,s);return{indices:a[0],values:a[1],shape:a[2]}}var i2,a2=v(()=>{"use strict";T();S();I();D();i2=m({stringSplit_:OH})});function RH(t,e){let n=h(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");let o={input:n};return y.runKernel(ew,o,r)}var u2,c2=v(()=>{"use strict";T();S();I();D();u2=m({stringToHashBucketFast_:RH})});function FH(t,e,n,r=!0){let o=h(t,"input","staticRegexReplace","string"),s={pattern:e,rewrite:n,replaceGlobal:r};return y.runKernel(Yv,{x:o},s)}var l2,f2=v(()=>{"use strict";T();S();I();D();l2=m({staticRegexReplace_:FH})});var d2,p2,h2,m2,g2,y2,v2,pc=v(()=>{"use strict";ps();$S();LS();We();BS();VS();jS();US();HS();zS();GS();qS();WS();KS();ab();QS();XS();fb();Iu();tC();nC();rC();mb();oC();sC();vb();Or();ht();iC();aC();Vi();fo();Fn();uC();cC();lC();fC();dC();Nu();pC();hC();yC();vC();wC();bC();EC();xC();DC();Mf();IC();TC();Lt();SC();CC();jb();Ub();_C();Lb();AC();OC();Ki();Of();RC();Zb();Hi();Yb();Gw();Qb();Ff();Xb();Pu();FC();PC();$C();n0();r0();Pf();LC();BC();Lu();i0();zC();GC();l0();Bf();f0();d0();qC();WC();Rr();_u();m0();KC();ZC();v0();Uf();YC();qb();zf();QC();XC();JC();Oe();e_();t_();zr();T0();N0();Hf();n_();r_();Xi();o_();s_();i_();a_();u_();Au();F0();zw();c_();l_();f_();d_();p_();R_();X0();F_();Zf();P_();Yf();Xu();$_();Ju();nE();J();Ds();L_();B_();V_();j_();aE();U_();xt();H_();z_();G_();xu();q_();W_();K_();vn();Z_();Y_();Q_();X_();J_();a0();O0();Qf();Xf();bE();Jf();rc();Wi();Vr();EE();ed();sc();xE();eA();tt();Bn();tA();cb();mu();Do();td();TE();nA();rA();oA();iA();Rf();aA();uA();cA();lA();nd();fA();dA();zi();LE();qu();$r();hA();od();Mu();gA();vA();jf();xA();IA();CA();fc();AA();D();Jf();Qf();Xf();bE();HA();GA();BE();VE();WA();ZA();QA();JA();tM();rM();sM();lM();dM();hM();gM();vM();bM();xM();IM();NM();CM();AM();OM();FM();hr();$M();BM();jM();HM();GM();WM();ZM();QM();JM();t2();r2();s2();a2();c2();f2();d2={fft:Is,ifft:xo,rfft:Ts,irfft:nc},p2={hammingWindow:zA,hannWindow:ad,frame:ud,stft:qA},h2={flipLeftRight:YA,grayscaleToRGB:XA,resizeNearestNeighbor:EM,resizeBilinear:wM,rgbToGrayscale:eM,rotateWithOffset:nM,cropAndResize:KA,nonMaxSuppression:oM,nonMaxSuppressionAsync:cM,nonMaxSuppressionWithScore:fM,nonMaxSuppressionWithScoreAsync:pM,nonMaxSuppressionPadded:mM,nonMaxSuppressionPaddedAsync:yM,threshold:DM,transform:TM},m2={bandPart:SM,gramSchmidt:_M,qr:kM},g2={absoluteDifference:RM,computeWeightedLoss:mt,cosineDistance:PM,hingeLoss:LM,huberLoss:VM,logLoss:UM,meanSquaredError:zM,sigmoidCrossEntropy:qM,softmaxCrossEntropy:KM},y2={sparseFillEmptyRows:YM,sparseReshape:XM,sparseSegmentMean:e2,sparseSegmentSum:n2},v2={stringNGrams:o2,stringSplit:i2,stringToHashBucketFast:u2,staticRegexReplace:l2}});var zE={};le(zE,{Serializable:()=>hc,SerializationMap:()=>dd,getRegisteredName:()=>$H,registerClass:()=>HE});function HE(t,e,n){w(t.className!=null,()=>"Class being registered does not have the static className property defined."),w(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),w(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);let r=n,o=e+">"+r;return dd.register(t),PH.set(o,t),UE.set(t,o),t}function $H(t){return UE.has(t)?UE.get(t):t.className}var PH,UE,hc,dd,pd=v(()=>{"use strict";A();PH=new Map,UE=new Map,hc=class{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}},dd=class t{constructor(){this.classNameMap={}}static getMap(){return t.instance==null&&(t.instance=new t),t.instance}static register(e){t.getMap().classNameMap[e.className]=[e,e.fromConfig]}}});var Tt,Io=v(()=>{"use strict";Gt();Hr();pc();pd();Tt=class extends hc{minimize(e,n=!1,r){let{value:o,grads:s}=this.computeGradients(e,r);if(r!=null){let i=r.map(a=>({name:a.name,tensor:s[a.name]}));this.applyGradients(i)}else this.applyGradients(s);return $e(s),n?o:(o.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return $f(e,n)}dispose(){this.iterations_!=null&&$e(this.iterations_)}saveIterations(){return k(this,null,function*(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:z(this.iterations_,"int32")}})}getWeights(){return k(this,null,function*(){throw new Error("getWeights() is not implemented for this optimizer yet.")})}setWeights(e){return k(this,null,function*(){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)})}extractIterations(e){return k(this,null,function*(){return this.iterations_=(yield e[0].tensor.data())[0],e.slice(1)})}};Object.defineProperty(Tt,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null})});var To,hd=v(()=>{"use strict";T();Gt();We();Lt();Oe();pc();Vr();$r();Io();To=class extends Tt{static get className(){return"Adadelta"}constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=y.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,o)=>{let s=y.registeredVariables[r],i=!1;this.accumulatedGrads[o]==null&&(this.accumulatedGrads[o]={originalName:`${r}/accum_grad`,variable:X(()=>ze(s).variable(i))}),this.accumulatedUpdates[o]==null&&(this.accumulatedUpdates[o]={originalName:`${r}/accum_var`,variable:X(()=>ze(s).variable(i))});let a=Array.isArray(e)?e[o].tensor:e[r];if(a==null)return;let u=this.accumulatedGrads[o].variable,c=this.accumulatedUpdates[o].variable;X(()=>{let l=V(O(u,this.rho),O(et(a),1-this.rho)),f=O(ae(Mt(V(c,this.epsilon)),Mt(V(u,this.epsilon))),a),d=V(O(c,this.rho),O(et(f),1-this.rho));u.assign(l),c.assign(d);let g=V(O(f,-this.learningRate),s);s.assign(g)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&($e(this.accumulatedGrads.map(e=>e.variable)),$e(this.accumulatedUpdates.map(e=>e.variable)))}getWeights(){return k(this,null,function*(){let e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[yield this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))})}setWeights(e){return k(this,null,function*(){e=yield this.extractIterations(e);let n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(o=>({originalName:o.name,variable:o.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(o=>({originalName:o.name,variable:o.tensor.variable(r)}))})}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}});var No,md=v(()=>{"use strict";T();Gt();We();Lt();Hi();Oe();Wi();Vr();Io();No=class extends Tt{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,o)=>{let s=y.registeredVariables[r];this.accumulatedGrads[o]==null&&(this.accumulatedGrads[o]={originalName:`${r}/accumulator`,variable:X(()=>$n(s.shape,this.initialAccumulatorValue).variable(!1))});let i=Array.isArray(e)?e[o].tensor:e[r];if(i==null)return;let a=this.accumulatedGrads[o].variable;X(()=>{let u=V(a,et(i));a.assign(u);let c=V(O(ae(i,Mt(V(u,y.backend.epsilon()))),-this.learningRate),s);s.assign(c)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&$e(this.accumulatedGrads.map(e=>e.variable))}getWeights(){return k(this,null,function*(){return[yield this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))})}setWeights(e){return k(this,null,function*(){e=yield this.extractIterations(e);let n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))})}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}});var So,gd=v(()=>{"use strict";T();Gt();We();Lt();Oe();Au();xt();Wi();Vr();tt();$r();Io();So=class extends Tt{static get className(){return"Adam"}constructor(e,n,r,o=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=o,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],X(()=>{this.accBeta1=z(n).variable(),this.accBeta2=z(r).variable()}),o==null&&(this.epsilon=y.backend.epsilon())}applyGradients(e){let n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);X(()=>{let r=H(1,this.accBeta1),o=H(1,this.accBeta2);n.forEach((s,i)=>{let a=y.registeredVariables[s],u=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${s}/m`,variable:X(()=>ze(a).variable(u))}),this.accumulatedSecondMoment[i]==null&&(this.accumulatedSecondMoment[i]={originalName:`${s}/v`,variable:X(()=>ze(a).variable(u))});let c=Array.isArray(e)?e[i].tensor:e[s];if(c==null)return;let l=this.accumulatedFirstMoment[i].variable,f=this.accumulatedSecondMoment[i].variable,d=V(O(l,this.beta1),O(c,1-this.beta1)),g=V(O(f,this.beta2),O(et(c),1-this.beta2)),b=ae(d,r),E=ae(g,o);l.assign(d),f.assign(g);let x=V(O(ae(b,V(Mt(E),this.epsilon)),-this.learningRate),a);a.assign(x)}),this.accBeta1.assign(O(this.accBeta1,this.beta1)),this.accBeta2.assign(O(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&$e(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&$e(this.accumulatedSecondMoment.map(e=>e.variable))}getWeights(){return k(this,null,function*(){let e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[yield this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))})}setWeights(e){return k(this,null,function*(){e=yield this.extractIterations(e),X(()=>{this.accBeta1.assign(lr(this.beta1,this.iterations_+1)),this.accBeta2.assign(lr(this.beta2,this.iterations_+1))});let n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(o=>({originalName:o.name,variable:o.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(o=>({originalName:o.name,variable:o.tensor.variable(r)}))})}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}});var Co,yd=v(()=>{"use strict";T();Gt();ps();We();Lt();v0();Oe();xt();tt();$r();Io();Co=class extends Tt{static get className(){return"Adamax"}constructor(e,n,r,o=null,s=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=o,this.decay=s,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],X(()=>{this.iteration=z(0).variable(),this.accBeta1=z(n).variable()}),o==null&&(this.epsilon=y.backend.epsilon())}applyGradients(e){let n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);X(()=>{let r=H(1,this.accBeta1),o=ae(-this.learningRate,V(O(this.iteration,this.decay),1));n.forEach((s,i)=>{let a=y.registeredVariables[s],u=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${s}/m`,variable:ze(a).variable(u)}),this.accumulatedWeightedInfNorm[i]==null&&(this.accumulatedWeightedInfNorm[i]={originalName:`${s}/v`,variable:ze(a).variable(u)});let c=Array.isArray(e)?e[i].tensor:e[s];if(c==null)return;let l=this.accumulatedFirstMoment[i].variable,f=this.accumulatedWeightedInfNorm[i].variable,d=V(O(l,this.beta1),O(c,1-this.beta1)),g=O(f,this.beta2),b=Xe(c),E=Gu(g,b);l.assign(d),f.assign(E);let x=V(O(ae(o,r),ae(d,V(E,this.epsilon))),a);a.assign(x)}),this.iteration.assign(V(this.iteration,1)),this.accBeta1.assign(O(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&$e(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&$e(this.accumulatedWeightedInfNorm.map(e=>e.variable))}getWeights(){return k(this,null,function*(){throw new Error("getWeights() is not implemented for Adamax yet.")})}setWeights(e){return k(this,null,function*(){throw new Error("setWeights() is not implemented for Adamax yet.")})}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}});var mr,mc=v(()=>{"use strict";T();Gt();We();Oe();xt();Io();mr=class extends Tt{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,o)=>{let s=Array.isArray(e)?e[o].tensor:e[r];if(s==null)return;let i=y.registeredVariables[r];X(()=>{let a=V(O(this.c,s),i);i.assign(a)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=At(z(-e))}dispose(){this.c.dispose()}getWeights(){return k(this,null,function*(){return[yield this.saveIterations()]})}setWeights(e){return k(this,null,function*(){if(e=yield this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")})}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}});var _o,vd=v(()=>{"use strict";T();Gt();We();Oe();xt();$r();mc();_o=class extends mr{static get className(){return"Momentum"}constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=z(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,o)=>{let s=y.registeredVariables[r];this.accumulations[o]==null&&(this.accumulations[o]={originalName:`${r}/momentum`,variable:X(()=>ze(s).variable(!1))});let i=this.accumulations[o].variable,a=Array.isArray(e)?e[o].tensor:e[r];a!=null&&X(()=>{let u,c=V(O(this.m,i),a);this.useNesterov?u=V(O(this.c,V(a,O(c,this.m))),s):u=V(O(this.c,c),s),i.assign(c),s.assign(u)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&$e(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}getWeights(){return k(this,null,function*(){return[yield this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))})}setWeights(e){return k(this,null,function*(){e=yield this.extractIterations(e);let n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))})}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}});var Ao,wd=v(()=>{"use strict";T();Gt();We();Lt();Oe();Wi();Vr();tt();$r();Io();Ao=class extends Tt{static get className(){return"RMSProp"}constructor(e,n=.9,r=0,o=null,s=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=o,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=s,o==null&&(this.epsilon=y.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,o)=>{let s=y.registeredVariables[r],i=!1;this.accumulatedMeanSquares[o]==null&&(this.accumulatedMeanSquares[o]={originalName:`${r}/rms`,variable:X(()=>ze(s).variable(i))}),this.accumulatedMoments[o]==null&&(this.accumulatedMoments[o]={originalName:`${r}/momentum`,variable:X(()=>ze(s).variable(i))}),this.accumulatedMeanGrads[o]==null&&this.centered&&(this.accumulatedMeanGrads[o]={originalName:`${r}/mg`,variable:X(()=>ze(s).variable(i))});let a=Array.isArray(e)?e[o].tensor:e[r];if(a==null)return;let u=this.accumulatedMeanSquares[o].variable,c=this.accumulatedMoments[o].variable;X(()=>{let l=V(O(u,this.decay),O(et(a),1-this.decay));if(this.centered){let f=this.accumulatedMeanGrads[o].variable,d=V(O(f,this.decay),O(a,1-this.decay)),g=ae(O(a,this.learningRate),Mt(H(l,V(et(d),this.epsilon)))),b=V(O(c,this.momentum),g);u.assign(l),f.assign(d),c.assign(b);let E=H(s,b);s.assign(E)}else{let f=V(O(u,this.decay),O(et(a),1-this.decay)),d=V(O(c,this.momentum),ae(O(a,this.learningRate),Mt(V(f,this.epsilon))));u.assign(f),c.assign(d);let g=H(s,d);s.assign(g)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&$e(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&$e(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&$e(this.accumulatedMoments.map(e=>e.variable))}getWeights(){return k(this,null,function*(){let e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[yield this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))})}setWeights(e){return k(this,null,function*(){e=yield this.extractIterations(e);let n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(o=>({originalName:o.name,variable:o.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(o=>({originalName:o.name,variable:o.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(o=>({originalName:o.name,variable:o.tensor.variable(r)})))})}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}});function w2(){for(let t of LH)HE(t)}var LH,b2=v(()=>{"use strict";hd();md();gd();yd();vd();wd();mc();pd();LH=[To,No,So,Co,_o,Ao,mr]});function E2(t){return new Promise(e=>setTimeout(e)).then(t)}function HH(t="model"){return new GE(t)}function x2(t){return new qE(t)}var BH,VH,jH,GE,qE,UH,D2=v(()=>{"use strict";Fi();at();mo();us();po();BH="model",VH=".json",jH=".weights.bin";GE=(()=>{class t{constructor(n){if(!B().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");n.startsWith(t.URL_SCHEME)&&(n=n.slice(t.URL_SCHEME.length)),(n==null||n.length===0)&&(n=BH),this.modelJsonFileName=n+VH,this.weightDataFileName=n+jH}save(n){return k(this,null,function*(){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");let r=dt.join(n.weightData),o=window.URL.createObjectURL(new Blob([r],{type:"application/octet-stream"}));if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{let s=[{paths:["./"+this.weightDataFileName],weights:n.weightSpecs}],i=Nf(n,s),a=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),u=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(u.download=this.modelJsonFileName,u.href=a,yield E2(()=>u.dispatchEvent(new MouseEvent("click"))),n.weightData!=null){let c=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;c.download=this.weightDataFileName,c.href=o,yield E2(()=>c.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:ar(n)}}})}}return t.URL_SCHEME="downloads://",t})(),qE=class{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}load(){return k(this,null,function*(){return new Promise((e,n)=>{let r=new FileReader;r.onload=o=>{let s=JSON.parse(o.target.result),i=s.modelTopology;if(i==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(s.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:i});return}let u=Pi(s,c=>this.loadWeights(c));e(u)},r.onerror=o=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})})}loadWeights(e){let n=[],r=[];for(let i of e)n.push(...i.weights),r.push(...i.paths);let o=this.checkManifestAndWeightFiles(e),s=r.map(i=>this.loadWeightsFile(i,o[i]));return Promise.all(s).then(i=>[n,i])}loadWeightsFile(e,n){return new Promise((r,o)=>{let s=new FileReader;s.onload=i=>{let a=i.target.result;r(a)},s.onerror=i=>o(`Failed to weights data from file of path '${e}'.`),s.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){let n=[],r=this.weightsFiles.map(s=>Ow(s.name)),o={};for(let s of e)s.paths.forEach(i=>{let a=Ow(i);if(n.indexOf(a)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(n.push(a),r.indexOf(a)===-1)throw new Error(`Weight file with basename '${a}' is not provided.`);o[i]=this.weightsFiles[r.indexOf(a)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return o}},UH=t=>B().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(GE.URL_SCHEME)?HH(t.slice(GE.URL_SCHEME.length)):null;Qe.registerSaveRouter(UH)});function WE(t,e,n,r){i(t),n=n??0,r=r??1,a(n,r);let o=0,s=u=>(u.then(c=>{let l=n+ ++o/t.length*(r-n);return e(l),c}),u);function i(u){w(u!=null&&Array.isArray(u)&&u.length>0,()=>"promises must be a none empty array")}function a(u,c){w(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${u}`),w(c>=0&&c<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${c}`),w(c>=u,()=>`startFraction must be no more than endFraction, but got startFraction ${u} and endFraction ${c}`)}return Promise.all(t.map(s))}var I2=v(()=>{"use strict";A();});function KE(t,e){return k(this,null,function*(){e==null&&(e={});let n=e.fetchFunc==null?B().platform.fetch:e.fetchFunc,r=t.map(f=>n(f,e.requestInit,{isBinary:!0})),a=(e.onProgress==null?yield Promise.all(r):yield WE(r,e.onProgress,0,.5)).map(f=>f.arrayBuffer());return e.onProgress==null?yield Promise.all(a):yield WE(a,e.onProgress,.5,1)})}function T2(t,e){var n;let r=e.fetchFunc==null?B().platform.fetch:e.fetchFunc,o=0,s;return(n=e.onProgress)===null||n===void 0||n.call(e,0),new ReadableStream({pull:i=>k(this,null,function*(){for(var a;o<t.length;){s||(s=(yield r(t[o],e.requestInit,{isBinary:!0})).body.getReader());let{done:u,value:c}=yield s.read();if(u){o++,s=void 0,(a=e.onProgress)===null||a===void 0||a.call(e,o/t.length);continue}i.enqueue(c);return}i.close()})})}function N2(t,e="",n,r){return k(this,null,function*(){return ZE(i=>KE(i,{requestInit:r}))(t,e,n)})}function ZE(t){return(e,n="",r)=>k(this,null,function*(){let o=e.map(()=>!1),s={},i=r!=null?r.map(()=>!1):[],a=[];if(e.forEach((g,b)=>{let E=0;g.weights.forEach(x=>{let N="quantization"in x?x.quantization.dtype:x.dtype,P=Mr[N]*te(x.shape),_=()=>{o[b]=!0,s[b]==null&&(s[b]=[]),s[b].push({manifestEntry:x,groupOffset:E,sizeBytes:P})};r!=null?r.forEach((M,L)=>{M===x.name&&(_(),i[L]=!0)}):_(),a.push(x.name),E+=P})}),!i.every(g=>g)){let g=r.filter((b,E)=>!i[E]);throw new Error(`Could not find weights in manifest with names: ${g.join(", ")}. 
Manifest JSON has weights with names: ${a.join(", ")}.`)}let u=o.reduce((g,b,E)=>(b&&g.push(E),g),[]),c=[];u.forEach(g=>{e[g].paths.forEach(b=>{let E=n+(n.endsWith("/")?"":"/")+b;c.push(E)})});let l=yield t(c),f={},d=0;return u.forEach(g=>{let b=e[g].paths.length,E=new dt(l.slice(d,d+b));s[g].forEach(N=>{let P=E.slice(N.groupOffset,N.groupOffset+N.sizeBytes),_=If(P,[N.manifestEntry]);for(let M in _)f[M]=_[M]}),d+=b}),f})}var YE=v(()=>{"use strict";at();A();po();mo();I2();_w();});function qH(t){let e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),o=n>e?t.substring(n):"";return[r+"/",o]}function bd(t){return t.match(S2.URL_SCHEME_REGEX)!=null}function Ed(t,e){return new S2(t,e)}function _2(t,e){return Ed(t,e)}var zH,GH,S2,C2,A2=v(()=>{"use strict";at();A();mo();po();us();YE();zH="application/octet-stream",GH="application/json",S2=(()=>{class t{constructor(n,r){if(this.DEFAULT_METHOD="POST",r==null&&(r={}),this.weightPathPrefix=r.weightPathPrefix,this.weightUrlConverter=r.weightUrlConverter,r.fetchFunc!=null?(w(typeof r.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=r.fetchFunc):this.fetch=B().platform.fetch,w(n!=null&&n.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(n)&&w(n.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${n.length}).`),this.path=n,r.requestInit!=null&&r.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=r.requestInit||{},this.loadOptions=r}save(n){return k(this,null,function*(){if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");let r=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);r.body=new FormData;let o=[{paths:["./model.weights.bin"],weights:n.weightSpecs}],s=Nf(n,o);if(r.body.append("model.json",new Blob([JSON.stringify(s)],{type:GH}),"model.json"),n.weightData!=null){let a=dt.join(n.weightData);r.body.append("model.weights.bin",new Blob([a],{type:zH}),"model.weights.bin")}let i=yield this.fetch(this.path,r);if(i.ok)return{modelArtifactsInfo:ar(n),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)})}loadModelJSON(){return k(this,null,function*(){let n=yield this.fetch(this.path,this.requestInit);if(!n.ok)throw new Error(`Request to ${this.path} failed with status code ${n.status}. Please verify this URL points to the model JSON of the model to load.`);let r;try{r=yield n.json()}catch{let a=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?a+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":a+=" Please make sure the server is serving valid JSON for this request.",new Error(a)}let o=r.modelTopology,s=r.weightsManifest;if(o==null&&s==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return r})}load(){return k(this,null,function*(){if(this.loadOptions.streamWeights)return this.loadStream();let n=yield this.loadModelJSON();return Pi(n,r=>this.loadWeights(r))})}loadStream(){return k(this,null,function*(){let n=yield this.loadModelJSON(),r=yield this.getWeightUrls(n.weightsManifest),o=gu(n.weightsManifest),s=()=>T2(r,this.loadOptions);return Object.assign(Object.assign({},n),{weightSpecs:o,getWeightStream:s})})}getWeightUrls(n){return k(this,null,function*(){let r=Array.isArray(this.path)?this.path[1]:this.path,[o,s]=qH(r),i=this.weightPathPrefix||o,a=[],u=[];for(let c of n)for(let l of c.paths)this.weightUrlConverter!=null?u.push(this.weightUrlConverter(l)):a.push(i+l+s);return this.weightUrlConverter&&a.push(...yield Promise.all(u)),a})}loadWeights(n){return k(this,null,function*(){let r=yield this.getWeightUrls(n),o=gu(n),s=yield KE(r,this.loadOptions);return[o,s]})}}return t.URL_SCHEME_REGEX=/^https?:\/\//,t})();C2=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(r=>bd(r)):n=bd(t),n)return Ed(t,e)}return null};Qe.registerSaveRouter(C2);Qe.registerLoadRouter(C2)});function M2(t,e,n,r){let o=arguments;return new QE(XE(...o))}function XE(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new gc(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new gc({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new gc({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))}function k2(t){return new xd(t)}function O2(t){return new xd(t)}var gc,xd,QE,R2=v(()=>{"use strict";gc=class{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}},xd=class{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}},QE=class{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}});var gr={};le(gr,{CompositeArrayBuffer:()=>dt,browserFiles:()=>x2,browserHTTPRequest:()=>_2,concatenateArrayBuffers:()=>mS,copyModel:()=>_S,decodeWeights:()=>If,decodeWeightsStream:()=>Tf,encodeWeights:()=>fS,fromMemory:()=>M2,fromMemorySync:()=>XE,getLoadHandlers:()=>wS,getModelArtifactsForJSON:()=>Pi,getModelArtifactsForJSONSync:()=>Rw,getModelArtifactsInfoForJSON:()=>ar,getSaveHandlers:()=>vS,getWeightSpecs:()=>gu,http:()=>Ed,isHTTPScheme:()=>bd,listModels:()=>SS,loadWeights:()=>N2,moveModel:()=>AS,registerLoadRouter:()=>yS,registerSaveRouter:()=>gS,removeModel:()=>CS,weightsLoaderFactory:()=>ZE,withSaveHandler:()=>k2,withSaveHandlerSync:()=>O2});var F2=v(()=>{"use strict";Lw();Bw();D2();A2();mo();R2();us();YE();po();Vw();});function WH(t,e,n){let r=h(t,"labels","confusionMatrix"),o=h(e,"predictions","confusionMatrix");w(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),w(r.rank===1,()=>`Expected the rank of labels to be 1, but got ${r.rank}`),w(o.rank===1,()=>`Expected the rank of predictions to be 1, but got ${o.rank}`),w(r.shape[0]===o.shape[0],()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${o.shape[0]}. Labels and predictions should have the same number of elements.`),w(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);let s=Qi(ne(r,"int32"),n),i=Qi(ne(o,"int32"),n),a=Ss(s),u=ce(a,i);return ne(u,"int32")}var P2,$2=v(()=>{"use strict";I();A();ht();Rr();N0();D();od();P2=m({confusionMatrix_:WH})});var JE={};le(JE,{confusionMatrix:()=>P2});var L2=v(()=>{"use strict";$2();});var ex={};le(ex,{draw:()=>t7,fromPixels:()=>n7,fromPixelsAsync:()=>XH,toPixels:()=>e7});function V2(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,o=!1,s=!1,i=!1,a=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)o=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)s=!0;else if(t.getContext!=null)i=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)a=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(ts(af,y.backendName)!=null){let b={pixels:t},E={numChannels:e};return y.runKernel(af,b,E)}let[c,l]=o?[t.videoWidth,t.videoHeight]:[t.width,t.height],f;if(i)f=t.getContext("2d").getImageData(0,0,c,l).data;else if(r||n)f=t.data;else if(s||o||a){if(Os==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Os=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Os=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Os.canvas.width=c,Os.canvas.height=l,Os.drawImage(t,0,0,c,l),f=Os.getImageData(0,0,c,l).data}let d;if(e===4)d=new Int32Array(f);else{let b=c*l;d=new Int32Array(b*e);for(let E=0;E<b;E++)for(let x=0;x<e;++x)d[E*e+x]=f[E*4+x]}return ac(d,[l,c,e],"int32")}function KH(t){return t!=null&&t.data instanceof Uint8Array}function ZH(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function YH(t){return t!=null&&t.width!==0&&t.height!==0}function QH(t){return ZH()&&!(t instanceof ImageBitmap)&&YH(t)&&!KH(t)}function XH(t,e=3){return k(this,null,function*(){let n=null;if(B().getBool("WRAP_TO_IMAGEBITMAP")&&QH(t)){let r;try{r=yield createImageBitmap(t,{premultiplyAlpha:"none"})}catch{r=null}r!=null&&r.width===t.width&&r.height===t.height?n=r:n=t}else n=t;return V2(n,e)})}function j2(t){if(t.rank!==2&&t.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${t.rank}.`);let e=t.rank===2?1:t.shape[2];if(e>4||e===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${e}`);if(t.dtype!=="float32"&&t.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${t.dtype}. Please use float32 or int32 tensors.`)}function JH(t){let e=t?.alpha||1;if(e>1||e<0)throw new Error(`Alpha value ${e} is suppoed to be in range [0 - 1].`)}function e7(t,e){return k(this,null,function*(){let n=h(t,"img","toPixels");if(!(t instanceof xe)){let c=n;n=ne(c,"int32"),c.dispose()}j2(n);let[r,o]=n.shape.slice(0,2),s=n.rank===2?1:n.shape[2],i=yield n.data(),a=n.dtype==="float32"?255:1,u=new Uint8ClampedArray(o*r*4);for(let c=0;c<r*o;++c){let l=[0,0,0,255];for(let d=0;d<s;d++){let g=i[c*s+d];if(n.dtype==="float32"){if(g<0||g>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${g}.`)}else if(n.dtype==="int32"&&(g<0||g>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${g}.`);s===1?(l[0]=g*a,l[1]=g*a,l[2]=g*a):l[d]=g*a}let f=c*4;u[f+0]=Math.round(l[0]),u[f+1]=Math.round(l[1]),u[f+2]=Math.round(l[2]),u[f+3]=Math.round(l[3])}if(e!=null){B2||ts(sf,y.backendName)!=null&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),B2=!0),e.width=o,e.height=r;let c=e.getContext("2d"),l=new ImageData(u,o,r);c.putImageData(l,0,0)}return n!==t&&n.dispose(),u})}function t7(t,e,n){let r=h(t,"img","draw");if(!(t instanceof xe)){let i=r;r=ne(i,"int32"),i.dispose()}j2(r),JH(n?.imageOptions);let o={image:r},s={canvas:e,options:n};y.runKernel(sf,o,s)}var Os,B2,n7,U2=v(()=>{"use strict";T();at();S();pf();an();I();ht();D();TE();B2=!1;n7=m({fromPixels_:V2})});var tx={};le(tx,{prepareAndValidate:()=>H2});function H2(t,e){let n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(te(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);let o=e.shape,s=o[o.length-1],i=1;for(let f=0;f<o.length-1;++f)i*=o[f];let a=t.shape,u=o.slice();u.pop();let c=1;for(let f=s;f<n;++f)c*=a[f],u.push(a[f]);let l=[...or(t.shape).map(f=>f/c),1].slice(0,s);return[u,i,c,l]}var nx=v(()=>{"use strict";A()});var yc={};le(yc,{assertParamsValid:()=>o7,computeFlatOffset:()=>c7,computeOutShape:()=>i7,getNormalizedAxes:()=>a7,isSliceContinous:()=>u7,maskToAxes:()=>s7,parseSliceParams:()=>l7,sliceInfo:()=>f7,startForAxis:()=>Q2,startIndicesWithElidedDims:()=>K2,stopForAxis:()=>X2,stopIndicesWithElidedDims:()=>Z2,stridesForAxis:()=>Y2,stridesWithElidedDims:()=>G2});function o7(t,e,n){let r=t.shape.length;w(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),w(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let o=0;o<r;++o)w(e[o]+n[o]<=t.shape[o],()=>`Error in slice${r}D: begin[${o}] + size[${o}] (${e[o]+n[o]}) would overflow input.shape[${o}] (${t.shape[o]})`)}function s7(t){let e=[],n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function i7(t,e,n){let r=[];for(let o=0;o<t.length;o++)r[o]=Math.ceil((e[o]-t[o])/n[o]);return r}function G2(t,e,n,r){let o=[...t];for(let s=o.length;s<r.length;s++)o.push(1);for(let s=0;s<n;s++)s===0?o[e]=1:(o.splice(e,0,1),o.pop());return o}function q2(t,e,n){return n<=t?n:n-(e-1)}function W2(t,e){let n=[];for(let r=0;r<t;r++)n.push(e+r);return n}function a7(t,e,n,r,o,s,i,a,u){let c=t.length,l=new Array(c),f=new Array(c),d=new Array(c);if(e.length&&n>0){let g=e[0],b=n+1;l=K2(i,g,b,r,t),f=Z2(a,g,b,o,t),d=G2(s,g,b,t)}else for(let g=0;g<c;g++)l[g]=Q2(i,r,s,t,g,u),f[g]=X2(a,o,s,t,g,u),d[g]=Y2(s,g,u);return{begin:l,end:f,strides:d}}function K2(t,e,n,r,o){let s=[...o],i=W2(n,e);for(let a=0;a<s.length;a++)if(i.indexOf(a)>-1)s[a]=0;else{let u=q2(e,n,a),c=r[u];t&1<<u&&(c=0),s[a]=c}return s}function Z2(t,e,n,r,o){let s=[...o],i=W2(n,e);for(let a=0;a<s.length;a++)if(i.indexOf(a)>-1)s[a]=Number.MAX_SAFE_INTEGER;else{let u=q2(e,n,a),c=r[u];t&1<<u&&(c=Number.MAX_SAFE_INTEGER),s[a]=c}for(let a=0;a<s.length;a++){let u=o[a];s[a]<0&&(s[a]+=u),s[a]=Di(0,s[a],o[a])}return s}function Y2(t,e,n){let r=t[e];return(n&1<<e||r==null)&&(r=1),r}function Q2(t,e,n,r,o,s){let i=e[o],a=n[o]||1;(t&1<<o||s&1<<o||i==null)&&(a>0?i=Number.MIN_SAFE_INTEGER:i=Number.MAX_SAFE_INTEGER);let u=r[o];return i<0&&(i+=u),i=Di(0,i,u-1),i}function X2(t,e,n,r,o,s){let i=e[o],a=n[o]||1;(t&1<<o||s&1<<o||i==null)&&(a>0?i=Number.MAX_SAFE_INTEGER:i=Number.MIN_SAFE_INTEGER);let u=r[o];return i<0&&(i+=u),a>0?i=Di(0,i,u):i=Di(-1,i,u-1),i}function u7(t,e,n){let r=n.length;for(let o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(let o=r+1;o<n.length;o++)if(e[o]>0||n[o]!==t[o])return!1;return!0}function c7(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function l7(t,e,n){let r,o=t.shape.length;typeof e=="number"?r=[e,...new Array(o-1).fill(0)]:e.length<o?r=e.concat(new Array(o-e.length).fill(0)):r=e.slice(),r.forEach(i=>{w(i!==-1,()=>"slice() does not support negative begin indexing.")});let s;return n==null?s=new Array(o).fill(-1):typeof n=="number"?s=[n,...new Array(o-1).fill(-1)]:n.length<o?s=n.concat(new Array(o-n.length).fill(-1)):s=n,s=s.map((i,a)=>i>=0?i:(w(i===-1,()=>`Negative size values should be exactly -1 but got ${i} for the slice() size at index ${a}.`),t.shape[a]-r[a])),[r,s]}function f7(t,e,n,r,o,s,i,a,u){let c;if(r==null?(c=new Array(e.length),c.fill(1)):c=r,i!=null&&i&i-1)throw new Error("Multiple ellipses in slice is not allowed.");let l=!1,f={dims:c.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:c.slice(),beginMask:o,endMask:s,ellipsisMask:i,newAxisMask:a,shrinkAxisMask:u};for(let _=0;_<f.dims;_++)l&&1<<_&a&&f.numAddAxisAfterEllipsis++,1<<_&i&&(l=!0);l||(f.ellipsisMask|=1<<f.dims,f.dims++);let d={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};d7(f,d);let g=!0,b=!0,E=!0,x=[],N=[];for(let _=0;_<t.length;++_){if(d.strides[_]===0)throw Error(`strides[${_}] must be non-zero`);let M=!!(d.shrinkAxisMask&1<<_),L=t[_];if(L===-1){x.push(M?1:-1);continue}let F=[d.beginMask&1<<_,d.endMask&1<<_],j=[d.strides[_]>0?0:-1,d.strides[_]>0?L:L-1];if(M&&d.strides[_]<=0)throw Error("only stride 1 allowed on non-range indexing.");E=E&&d.strides[_]===1;let W=!!(d.beginMask&1<<_&&d.endMask&1<<_);if(d.beginValid&&d.endValid){if(M){let De=d.begin[_]<0?L+d.begin[_]:d.begin[_];if(d.begin[_]=De,d.end[_]=d.begin[_]+1,De<0||De>=L)throw Error(`slice index ${d.begin[_]} of dimension ${_} out of bounds.`)}else d.begin[_]=z2(d.begin[_],0,d.strides[_],L,F,j),d.end[_]=z2(d.end[_],1,d.strides[_],L,F,j);let re=d.strides[_]===1&&d.begin[_]===0&&d.end[_]===L;g=g&&re,b=b&&(_===0&&d.strides[_]===1||re)}else g=g&&d.strides[_]===1&&W,b=b&&(_===0&&d.strides[_]===1||W);let q,Y=!1;if(d.beginValid&&d.endValid?(q=d.end[_]-d.begin[_],Y=!0):M?(q=1,Y=!0):W&&L>=0&&(d.strides[_]<0?q=-L:q=L,Y=!0),Y){let re;q===0||q<0!=d.strides[_]<0?re=0:re=Math.trunc(q/d.strides[_])+(q%d.strides[_]!==0?1:0),x.push(re)}else x.push(-1)}for(let _=0;_<d.finalShapeGatherIndices.length;++_){let M=d.finalShapeGatherIndices[_];M>=0?N.push(x[M]):M===rx&&N.push(1)}return{finalShapeSparse:N.filter((_,M)=>d.finalShapeGatherIndices[M]!==rx),finalShape:N,isIdentity:g,sliceDim0:b,isSimpleSlice:E,begin:d.begin,end:d.end,strides:d.strides}}function d7(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){let o=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<o;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(rx),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[r]),t.end!=null&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(r7),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function z2(t,e,n,r,o,s){if(o[e])return n>0?s[e]:s[e+1&1];{let i=t<0?r+t:t;return i<s[0]?s[0]:i>s[1]?s[1]:i}}var rx,r7,ox=v(()=>{"use strict";A();rx=-2,r7=-1});var J2,ek=v(()=>{"use strict";J2="4.17.0"});var na,sx=v(()=>{"use strict";hd();md();gd();yd();vd();wd();mc();na=class{static sgd(e){return new mr(e)}static momentum(e,n,r=!1){return new _o(e,n,r)}static rmsprop(e,n=.9,r=0,o=null,s=!1){return new Ao(e,n,r,o,s)}static adam(e=.001,n=.9,r=.999,o=null){return new So(e,n,r,o)}static adadelta(e=.001,n=.95,r=null){return new To(e,n,r)}static adamax(e=.002,n=.9,r=.999,o=null,s=0){return new Co(e,n,r,o,s)}static adagrad(e,n=.1){return new No(e,n)}}});var p7,tk=v(()=>{"use strict";sx();p7=na});function nk(){return new Promise(t=>h7(()=>t()))}var h7,rk=v(()=>{"use strict";h7=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t()});function m7(t,e){let n=t[0].length;t.forEach((o,s)=>{w(o.length===n,()=>`Error in concat${n}D: rank of tensors[${s}] must be the same as the rank of the rest (${n})`)}),w(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);let r=t[0];t.forEach((o,s)=>{for(let i=0;i<n;i++)w(i===e||o[i]===r[i],()=>`Error in concat${n}D: Shape of tensors[${s}] (${o}) does not match the shape of the rest (${r}) along the non-concatenated axis ${s}.`)})}function g7(t,e){let n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}var ok=v(()=>{"use strict";A();});var sk=v(()=>{"use strict";});function y7(t,e,n){let r=new Array;if(n==null&&e==null)return r;if(e==null)for(;r.length<t+n.length;)r.push(-1);else r=e.slice();if(n==null)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let o=1;o<n.length;++o){let s=n[o],i=r[r.length-n.length+o],a=r[i];if(s>=0)if(a>=0){if(a!==s)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${o+t}] = ${s} but shape[${o+t}] = ${a}`)}else r[i]=s}return r}function v7(t){let e={FIRST_DIM_SIZE:Kr.FIRST_DIM_SIZE,VALUE_ROWIDS:Kr.VALUE_ROWIDS,ROW_LENGTHS:Kr.ROW_LENGTHS,ROW_SPLITS:Kr.ROW_SPLITS,ROW_LIMITS:Kr.ROW_LIMITS,ROW_STARTS:Kr.ROW_STARTS},n=[];for(let r of t)if(r in e)n.push(e[r]);else break;return n}function w7(t){return t.length===0?0:t[0]===Kr.FIRST_DIM_SIZE?t.length-1:t.length}function b7(t,e){if(t==null||e==null)return;let n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let o=0;o<Math.min(n,r-1);++o){let s=t[o],i=e[o+1];if(s>=0&&i>=0&&s!==1&&s!==i)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${o-t.length}] = ${s} but ragged tensor input.flatValues.shape[${o-t.length}] = ${i}`)}}var Kr,ik=v(()=>{"use strict";Kr=function(t){return t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS",t}(Kr||{})});function E7(t){return t<=Dd?t:Ti(t,Math.floor(Math.sqrt(t)))}var Dd,ix=v(()=>{"use strict";A();Dd=30});function x7(t,e,n){let r=n*(typeof t=="number"?t:t[0]),o=e*(typeof t=="number"?t:t[1]);return[r,o]}var ak=v(()=>{"use strict";});function D7(t,e,n,r=!0){let o=[];if(r)o=o.concat(e.slice(0)),o.push(t[0]/n),o=o.concat(t.slice(1));else{o=o.concat(t[0]);let s=e.length;for(let i=0;i<s;++i)o=o.concat([t[i+1]/e[i],e[i]]);o=o.concat(t.slice(s+1))}return o}function I7(t,e,n=!0){let r=[];if(n){r.push(e);for(let o=e+1;o<t;++o)o<=2*e?(r.push(o),r.push(o-(e+1))):r.push(o)}else{let o=[],s=[];for(let i=1;i<t;++i)i>=e*2+1||i%2===1?s.push(i):o.push(i);r.push(...o),r.push(0),r.push(...s)}return r}function T7(t,e,n,r=!0){let o=[];r?o.push(t[0]/n):o.push(t[0]*n);for(let s=1;s<t.length;++s)s<=e.length?r?o.push(e[s-1]*t[s]):o.push(t[s]/e[s-1]):o.push(t[s]);return o}function N7(t,e){let n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function S7(t,e,n){let r=t.slice(0,1);for(let o=0;o<n;++o)r.push(t[o+1]-e[o][0]-e[o][1]);return r}var uk=v(()=>{"use strict";});var C7,_7,ck=v(()=>{"use strict";C7=1.7580993408473768,_7=1.0507009873554805});var A7,M7,k7,O7,R7,F7,lk=v(()=>{"use strict";A7=.3275911,M7=.254829592,k7=-.284496736,O7=1.421413741,R7=-1.453152027,F7=1.061405429});function P7(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);let n=new Float32Array(t.length*2);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function $7(t){let e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function L7(t){let e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let o=0;o<t.length;o+=4)n[Math.floor(o/4)]=t[o],r[Math.floor(o/4)]=t[o+1];return{real:n,imag:r}}function B7(t){let e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let o=2;o<t.length;o+=4)n[Math.floor(o/4)]=t[o],r[Math.floor(o/4)]=t[o+1];return{real:n,imag:r}}function V7(t,e){let n=t[e*2],r=t[e*2+1];return{real:n,imag:r}}function j7(t,e,n,r){t[r*2]=e,t[r*2+1]=n}function U7(t,e){let n=new Float32Array(t/2),r=new Float32Array(t/2);for(let o=0;o<Math.ceil(t/2);o++){let s=(e?2:-2)*Math.PI*(o/t);n[o]=Math.cos(s),r[o]=Math.sin(s)}return{real:n,imag:r}}function H7(t,e,n){let r=(n?2:-2)*Math.PI*(t/e),o=Math.cos(r),s=Math.sin(r);return{real:o,imag:s}}var fk=v(()=>{"use strict";});function G7(t,e){t=t.replace(/\s/g,"");let n=(t.length-t.replace(z7,"").length)/ax.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${ax}").`);let[r,o]=t.split(ax);w(r.indexOf(pk)===-1,()=>`The ellipsis notation ("${pk}") is not supported yet.`);let s=r.split(dk),i=s.length;if(e!==i)throw new Error(`Expected ${i} input tensors, received ${e}`);if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");let a=[];for(let d=0;d<o.length;++d){let g=o[d];if(!s.some(b=>b.indexOf(g)!==-1))throw new Error(`Output subscripts contain the label ${g} not present in the input subscripts.`);a.indexOf(g)===-1&&a.push(g)}for(let d=0;d<r.length;++d){let g=r[d];a.indexOf(g)===-1&&g!==dk&&a.push(g)}let u=new Array(s.length);for(let d=0;d<i;++d){if(new Set(s[d].split("")).size!==s[d].length)throw new Error(`Found duplicate axes in input component ${s[d]}. Support for duplicate axes in input is not implemented yet.`);u[d]=[];for(let g=0;g<s[d].length;++g)u[d].push(a.indexOf(s[d][g]))}let c=a.length,l=o.length,f=[];for(let d=l;d<c;++d)f.push(d);return{allDims:a,summedDims:f,idDims:u}}function q7(t,e){let n=new Array(t);n.fill(-1);for(let o=0;o<e.length;++o)n[e[o]]=o;let r=[];for(let o=0;o<t;++o)n[o]===-1&&r.push(o);return n=n.filter(o=>o!==-1),{permutationIndices:n,expandDims:r}}function W7(t,e,n){let r=new Array(t);for(let o=0;o<n.length;++o){let s=n[o].shape;for(let i=0;i<e[o].length;++i)r[e[o][i]]===void 0?r[e[o][i]]=s[i]:w(r[e[o][i]]===s[i],()=>`Expected dimension ${r[e[o][i]]} at axis ${i} of input shaped ${JSON.stringify(s)}, but got dimension ${s[i]}`)}}function K7(t,e){let n=t,r=[],o=0;t.length===0&&n.push(-1),o=t.length+1;for(let i=0;i<o;++i)r.push([]);let s=[];for(let i=0;i<n.length;++i){let a=n[i],u=Y7(e,a);for(let c of u)s.indexOf(c)===-1&&(r[i].push(c),s.push(c))}return{path:n,steps:r}}function Z7(t){return t.every((e,n)=>e===n)}function Y7(t,e){let n=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&n.push(r);return n}var ax,z7,dk,pk,hk=v(()=>{"use strict";Ye();ax="->",z7=/->/g,dk=",",pk="..."});function Q7(t,e,n=0){let r=[];if(typeof e=="number")w(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[n]/e);else{let o=e.reduce((i,a)=>(a===-1&&(i+=1),i),0);w(o<=1,()=>"There should be only one negative value in split array.");let s=e.indexOf(-1);if(s!==-1){let i=e.reduce((a,u)=>u>0?a+u:a);e[s]=t.shape[n]-i}w(t.shape[n]===e.reduce((i,a)=>i+a),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}var mk=v(()=>{"use strict";A()});function X7(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function J7(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function ez(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}var gk=v(()=>{"use strict";});function tz(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function nz(t,e){return`size ${t} must be non-negative, not ${e}`}function rz(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function oz(t,e){let n=te(t),r=te(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function sz(t,e){let n=te(t),r=te(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}var yk=v(()=>{"use strict";A();});function iz(){return"segment ids must be >= 0"}function az(){return"segment ids are not increasing"}function uz(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function cz(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}var vk=v(()=>{"use strict";});var ux={};le(ux,{collectGatherOpShapeInfo:()=>dz,computeOutShape:()=>fz,segOpComputeOptimalWindowSize:()=>lz});function lz(t,e){let n=!1,r;for(t<=Dd?(r=t,n=!0):r=Ti(t,Math.floor(Math.sqrt(t)));!n;)r>e||r===t?n=!0:r=Ti(t,r+1);return r}function fz(t,e,n){let r=[],o=t.length;for(let s=0;s<o;s++)s!==e?r.push(t[s]):r.push(n);return r}function dz(t,e,n,r){let o=e.shape.length,s=t.shape.length;if(r!==0&&(r<-o||r>o))throw new Error(`Expect batchDims in the range of [-${o}, ${o}], but got ${r}`);if(r<0&&(r+=o),r>s)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${s}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let f=0;f<r;++f)if(t.shape[f]!==e.shape[f])throw new Error(`x.shape[${f}]: ${t.shape[f]} should be equal to indices.shape[${f}]: ${e.shape[f]}.`);let i=t.shape[n],a=[],u=1,c=1,l=1;for(let f=0;f<r;++f)a.push(t.shape[f]),u*=t.shape[f];for(let f=r;f<n;f++)a.push(t.shape[f]),c*=t.shape[f];for(let f=r;f<o;f++)a.push(e.shape[f]);for(let f=n+1;f<s;f++)a.push(t.shape[f]),l*=t.shape[f];return{batchSize:u,sliceSize:l,outerSize:c,dimSize:i,outputShape:a}}var wk=v(()=>{"use strict";A();ix();});var cx={};le(cx,{ERF_A1:()=>M7,ERF_A2:()=>k7,ERF_A3:()=>O7,ERF_A4:()=>R7,ERF_A5:()=>F7,ERF_P:()=>A7,PARALLELIZE_THRESHOLD:()=>Dd,RowPartitionType:()=>Kr,SELU_SCALE:()=>_7,SELU_SCALEALPHA:()=>C7,applyActivation:()=>As,assertAndGetBroadcastShape:()=>he,assertAxesAreInnerMostDims:()=>r8,assertParamsConsistent:()=>m7,assignToTypedArray:()=>j7,axesAreInnerMostDims:()=>Gb,calculateShapes:()=>sA,checkEinsumDimSizes:()=>W7,checkPadOnDimRoundingMode:()=>Ue,combineLocations:()=>MC,combineRaggedTensorToTensorShapes:()=>y7,complexWithEvenIndex:()=>L7,complexWithOddIndex:()=>B7,computeConv2DInfo:()=>ms,computeConv3DInfo:()=>ZS,computeDefaultPad:()=>ib,computeDilation2DInfo:()=>t6,computeOptimalWindowSize:()=>E7,computeOutAndReduceShapes:()=>n8,computeOutShape:()=>g7,computePool2DInfo:()=>sb,computePool3DInfo:()=>n6,convertConv2DDataFormat:()=>YS,decodeEinsumEquation:()=>G7,eitherStridesOrDilationsAreOne:()=>Et,expandShapeToKeepDim:()=>Br,exponent:()=>H7,exponents:()=>U7,fromStringArrayToUint8:()=>hz,fromUint8ToStringArray:()=>pz,getAxesPermutation:()=>o8,getBroadcastDims:()=>NC,getComplexWithIndex:()=>V7,getEinsumComputePath:()=>K7,getEinsumPermutation:()=>q7,getFusedBiasGradient:()=>_s,getFusedDyActivation:()=>Cs,getImageCenter:()=>x7,getInnerMostAxes:()=>i8,getPermuted:()=>I7,getRaggedRank:()=>w7,getReductionAxes:()=>kf,getReshaped:()=>D7,getReshapedPermuted:()=>T7,getRowPartitionTypesHelper:()=>v7,getSliceBeginCoords:()=>N7,getSliceSize:()=>S7,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>X7,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>J7,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>ez,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>rz,getSparseReshapeInputOutputMismatchErrorMessage:()=>sz,getSparseReshapeInputOutputMultipleErrorMessage:()=>oz,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>tz,getSparseReshapeNegativeOutputDimErrorMessage:()=>nz,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>cz,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>iz,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>az,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>uz,getUndoAxesPermutation:()=>s8,isIdentityPermutation:()=>Z7,log:()=>CV,mergeRealAndImagArrays:()=>P7,prepareAndValidate:()=>H2,prepareSplitSize:()=>Q7,segment_util:()=>ux,shouldFuse:()=>Ms,slice_util:()=>yc,splitRealAndImagArrays:()=>$7,stridesOrDilationsArePositive:()=>ur,tupleValuesAreOne:()=>hs,upcastType:()=>as,validateDefaultValueShape:()=>b7,validateInput:()=>Ji,validateUpdateShape:()=>_E,warn:()=>sr});function pz(t){try{return t.map(e=>ki(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function hz(t){return t.map(e=>lo(e))}var bk=v(()=>{"use strict";A();Gi();Je();ok();Bt();ta();sk();ik();ix();ox();Ri();ak();uk();nx();cc();ck();ta();lk();ff();fk();hk();mk();gk();yk();vk();wk();});var lx={};le(lx,{nonMaxSuppressionV3Impl:()=>cd,nonMaxSuppressionV4Impl:()=>ld,nonMaxSuppressionV5Impl:()=>fd,whereImpl:()=>rd});var Ek=v(()=>{"use strict";dc();$E();});var xk=v(()=>{"use strict";F2();L2();Je();U2();nx();cc();ox();pd();ke();O_();A();ek();hd();md();gd();yd();vd();Io();sx();wd();mc();an();Ri();pc();Hn();tk();Gt();pf();Hr();at();rk();bk();Cw();Ek();hg();S();});var fx={};le(fx,{Abs:()=>Dg,Acos:()=>Ig,Acosh:()=>Tg,AdadeltaOptimizer:()=>To,AdagradOptimizer:()=>No,AdamOptimizer:()=>So,AdamaxOptimizer:()=>Co,Add:()=>ru,AddN:()=>Ng,All:()=>Sg,Any:()=>Cg,ArgMax:()=>_g,ArgMin:()=>Ag,Asin:()=>Mg,Asinh:()=>kg,Atan:()=>Og,Atan2:()=>Fg,Atanh:()=>Rg,AvgPool:()=>Pg,AvgPool3D:()=>$g,AvgPool3DGrad:()=>lV,AvgPoolGrad:()=>cV,BatchMatMul:()=>Lg,BatchToSpaceND:()=>Bg,Bincount:()=>Vg,BitwiseAnd:()=>jg,BroadcastArgs:()=>Ug,BroadcastTo:()=>fV,Cast:()=>ou,Ceil:()=>Hg,ClipByValue:()=>zg,Complex:()=>Gg,ComplexAbs:()=>qg,Concat:()=>Wg,Conv2D:()=>Kg,Conv2DBackpropFilter:()=>Zg,Conv2DBackpropInput:()=>Yg,Conv3D:()=>Qg,Conv3DBackpropFilterV2:()=>dV,Conv3DBackpropInputV2:()=>Xg,Cos:()=>Jg,Cosh:()=>ey,CropAndResize:()=>ry,Cumprod:()=>ty,Cumsum:()=>ny,DataStorage:()=>ef,DenseBincount:()=>oy,DepthToSpace:()=>sy,DepthwiseConv2dNative:()=>iy,DepthwiseConv2dNativeBackpropFilter:()=>ay,DepthwiseConv2dNativeBackpropInput:()=>uy,Diag:()=>cy,Dilation2D:()=>ly,Dilation2DBackpropFilter:()=>hV,Dilation2DBackpropInput:()=>pV,Draw:()=>sf,ENV:()=>rf,Einsum:()=>dy,Elu:()=>py,EluGrad:()=>mV,Environment:()=>Si,Equal:()=>my,Erf:()=>hy,Exp:()=>gy,ExpandDims:()=>yy,Expm1:()=>vy,FFT:()=>wy,Fill:()=>by,FlipLeftRight:()=>Ey,Floor:()=>xy,FloorDiv:()=>Dy,FromPixels:()=>af,FusedBatchNorm:()=>Iy,FusedConv2D:()=>cf,FusedDepthwiseConv2D:()=>lf,GatherNd:()=>Ny,GatherV2:()=>Ty,Greater:()=>Sy,GreaterEqual:()=>Cy,IFFT:()=>_y,Identity:()=>su,Imag:()=>Ay,IsFinite:()=>My,IsInf:()=>ky,IsNan:()=>Oy,KernelBackend:()=>xi,LRN:()=>Hy,LRNGrad:()=>wV,LeakyRelu:()=>Ry,Less:()=>Fy,LessEqual:()=>Py,LinSpace:()=>$y,Log:()=>Ly,Log1p:()=>By,LogSoftmax:()=>yV,LogicalAnd:()=>Vy,LogicalNot:()=>jy,LogicalOr:()=>Uy,LogicalXor:()=>gV,LowerBound:()=>vV,MatrixBandPart:()=>bV,Max:()=>zy,MaxPool:()=>qy,MaxPool3D:()=>Wy,MaxPool3DGrad:()=>xV,MaxPoolGrad:()=>EV,MaxPoolWithArgmax:()=>Ky,Maximum:()=>Gy,Mean:()=>Zy,Min:()=>Yy,Minimum:()=>Qy,MirrorPad:()=>Xy,Mod:()=>Jy,MomentumOptimizer:()=>_o,Multinomial:()=>ev,Multiply:()=>tv,Neg:()=>nv,NonMaxSuppressionV3:()=>ov,NonMaxSuppressionV4:()=>sv,NonMaxSuppressionV5:()=>iv,NotEqual:()=>rv,OP_SCOPE_SUFFIX:()=>Df,OneHot:()=>uv,OnesLike:()=>av,Optimizer:()=>Tt,OptimizerConstructors:()=>na,Pack:()=>cv,PadV2:()=>lv,Pool:()=>DV,Pow:()=>fv,Prelu:()=>dv,Prod:()=>pv,RMSPropOptimizer:()=>Ao,RaggedGather:()=>hv,RaggedRange:()=>mv,RaggedTensorToTensor:()=>gv,Range:()=>yv,Rank:()=>Ew,Real:()=>vv,RealDiv:()=>fy,Reciprocal:()=>wv,Reduction:()=>Le,Relu:()=>bv,Relu6:()=>Iv,Reshape:()=>Ev,ResizeBilinear:()=>Dv,ResizeBilinearGrad:()=>TV,ResizeNearestNeighbor:()=>xv,ResizeNearestNeighborGrad:()=>IV,Reverse:()=>Tv,RotateWithOffset:()=>fw,Round:()=>Nv,Rsqrt:()=>Sv,SGDOptimizer:()=>mr,ScatterNd:()=>Cv,SearchSorted:()=>Av,Select:()=>Mv,Selu:()=>kv,Sigmoid:()=>$v,Sign:()=>Pv,Sin:()=>Rv,Sinh:()=>Fv,Slice:()=>Ov,Softmax:()=>Hv,Softplus:()=>Lv,SpaceToBatchND:()=>jv,SparseFillEmptyRows:()=>zv,SparseReshape:()=>Gv,SparseSegmentMean:()=>qv,SparseSegmentSum:()=>Wv,SparseToDense:()=>Kv,SplitV:()=>Uv,Sqrt:()=>Bv,Square:()=>NV,SquaredDifference:()=>Zv,StaticRegexReplace:()=>Yv,Step:()=>lw,StridedSlice:()=>Qv,StringNGrams:()=>Xv,StringSplit:()=>Jv,StringToHashBucketFast:()=>ew,Sub:()=>tw,Sum:()=>Vv,Tan:()=>nw,Tanh:()=>rw,Tensor:()=>xe,TensorBuffer:()=>Cr,TensorScatterUpdate:()=>_v,Tile:()=>iu,TopK:()=>ow,Transform:()=>sw,Transpose:()=>au,Unique:()=>iw,Unpack:()=>aw,UnsortedSegmentSum:()=>uw,UpperBound:()=>SV,Variable:()=>ir,ZerosLike:()=>cw,_FusedMatMul:()=>uf,abs:()=>Xe,acos:()=>qw,acosh:()=>Ww,add:()=>V,addN:()=>Kw,all:()=>Zw,any:()=>Yw,argMax:()=>Qw,argMin:()=>Xw,asin:()=>Jw,asinh:()=>eb,atan:()=>tb,atan2:()=>nb,atanh:()=>rb,avgPool:()=>Eu,avgPool3d:()=>ub,backend:()=>Mw,backend_util:()=>cx,basicLSTMCell:()=>lb,batchNorm:()=>Fr,batchNorm2d:()=>db,batchNorm3d:()=>pb,batchNorm4d:()=>hb,batchToSpaceND:()=>Du,bincount:()=>Tu,bitwiseAnd:()=>gb,booleanMaskAsync:()=>pA,broadcastArgs:()=>yb,broadcastTo:()=>gs,broadcast_util:()=>vs,browser:()=>ex,buffer:()=>pt,cast:()=>ne,ceil:()=>wb,clipByValue:()=>bb,clone:()=>$t,complex:()=>Ct,concat:()=>Ne,concat1d:()=>Eb,concat2d:()=>xb,concat3d:()=>Db,concat4d:()=>Ib,conv1d:()=>Tb,conv2d:()=>Pr,conv2dTranspose:()=>Sb,conv3d:()=>Cb,conv3dTranspose:()=>_b,copyRegisteredKernels:()=>kV,cos:()=>Ab,cosh:()=>Mb,cosineWindow:()=>ea,cumprod:()=>kb,cumsum:()=>Ob,customGrad:()=>Dt,denseBincount:()=>Rb,deprecationWarn:()=>uS,depthToSpace:()=>Fb,depthwiseConv2d:()=>ys,device_util:()=>xf,diag:()=>Pb,dilation2d:()=>$b,disableDeprecationWarnings:()=>oj,dispose:()=>$e,disposeVariables:()=>sj,div:()=>ae,divNoNan:()=>Bb,dot:()=>Vb,dropout:()=>SA,einsum:()=>Lr,elu:()=>Cu,enableDebugMode:()=>rj,enableProdMode:()=>nj,enclosingPowerOfTwo:()=>sd,engine:()=>ij,ensureShape:()=>Hb,env:()=>B,equal:()=>Su,erf:()=>zb,euclideanNorm:()=>Wb,exp:()=>un,expandDims:()=>wn,expm1:()=>Kb,eye:()=>ku,fft:()=>Is,fill:()=>$n,findBackend:()=>pj,findBackendFactory:()=>hj,floor:()=>Ou,floorDiv:()=>vu,fused:()=>id,gather:()=>Ru,gatherND:()=>DA,gather_util:()=>tx,getBackend:()=>Aw,getGradient:()=>df,getKernel:()=>ts,getKernelsForBackend:()=>cu,grad:()=>VC,grads:()=>jC,greater:()=>vo,greaterEqual:()=>Fu,ifft:()=>xo,imag:()=>Ur,image:()=>h2,inTopKAsync:()=>_A,io:()=>gr,irfft:()=>nc,isFinite:()=>Jb,isInf:()=>e0,isNaN:()=>t0,keep:()=>At,kernel_impls:()=>lx,leakyRelu:()=>$u,less:()=>Zi,lessEqual:()=>ws,linalg:()=>m2,linspace:()=>o0,localResponseNormalization:()=>s0,log:()=>fr,log1p:()=>Bu,logSigmoid:()=>u0,logSoftmax:()=>c0,logSumExp:()=>ju,logicalAnd:()=>wo,logicalNot:()=>Uu,logicalOr:()=>Hu,logicalXor:()=>p0,losses:()=>g2,lowerBound:()=>h0,matMul:()=>ce,math:()=>JE,max:()=>Ln,maxPool:()=>zu,maxPool3d:()=>g0,maxPoolWithArgmax:()=>y0,maximum:()=>Gu,mean:()=>bo,memory:()=>aj,meshgrid:()=>w0,min:()=>qi,minimum:()=>Eo,mirrorPad:()=>b0,mod:()=>E0,moments:()=>x0,movingAverage:()=>mA,mul:()=>O,multiRNNCell:()=>D0,multinomial:()=>I0,neg:()=>ct,nextFrame:()=>nk,norm:()=>yo,notEqual:()=>Wu,oneHot:()=>Qi,ones:()=>jn,onesLike:()=>S0,op:()=>m,outerProduct:()=>C0,pad:()=>Un,pad1d:()=>_0,pad2d:()=>A0,pad3d:()=>M0,pad4d:()=>k0,pool:()=>R0,pow:()=>lr,prelu:()=>Zu,print:()=>yu,prod:()=>P0,profile:()=>uj,raggedGather:()=>$0,raggedRange:()=>L0,raggedTensorToTensor:()=>B0,rand:()=>V0,randomGamma:()=>Q0,randomNormal:()=>Qu,randomStandardNormal:()=>J0,randomUniform:()=>xs,randomUniformInt:()=>eE,range:()=>Gr,ready:()=>fj,real:()=>dr,reciprocal:()=>tE,registerBackend:()=>mj,registerGradient:()=>_V,registerKernel:()=>SN,relu:()=>qr,relu6:()=>ec,removeBackend:()=>dj,reshape:()=>C,reverse:()=>Wt,reverse1d:()=>rE,reverse2d:()=>oE,reverse3d:()=>sE,reverse4d:()=>iE,rfft:()=>Ts,round:()=>tc,rsqrt:()=>uE,scalar:()=>z,scatterND:()=>yA,scatter_util:()=>uc,searchSorted:()=>Yi,selu:()=>cE,separableConv2d:()=>lE,serialization:()=>zE,setBackend:()=>lj,setPlatform:()=>gj,setdiff1dAsync:()=>fE,sigmoid:()=>Pn,sign:()=>dE,signal:()=>p2,sin:()=>pE,sinh:()=>hE,slice:()=>ue,slice1d:()=>mE,slice2d:()=>gE,slice3d:()=>yE,slice4d:()=>vE,slice_util:()=>yc,softmax:()=>wE,softplus:()=>Vu,spaceToBatchND:()=>Ku,sparse:()=>y2,sparseToDense:()=>EA,spectral:()=>d2,split:()=>pr,sqrt:()=>Mt,square:()=>et,squaredDifference:()=>oc,squeeze:()=>Ns,stack:()=>It,step:()=>ic,stridedSlice:()=>DE,string:()=>v2,sub:()=>H,sum:()=>me,sumOutType:()=>oS,tan:()=>IE,tanh:()=>Ui,tensor:()=>bt,tensor1d:()=>nt,tensor2d:()=>Wr,tensor3d:()=>ac,tensor4d:()=>NE,tensor5d:()=>SE,tensor6d:()=>CE,tensorScatterUpdate:()=>AE,tensor_util:()=>Dw,test_util:()=>Y0,tidy:()=>X,tile:()=>jr,time:()=>cj,topk:()=>ME,train:()=>p7,transpose:()=>Ss,truncatedNormal:()=>kE,unique:()=>OE,unregisterGradient:()=>MV,unregisterKernel:()=>AV,unsortedSegmentSum:()=>RE,unstack:()=>Kt,upcastType:()=>as,upperBound:()=>FE,util:()=>R,valueAndGrad:()=>UC,valueAndGrads:()=>HC,variable:()=>PE,variableGrads:()=>$f,version_core:()=>J2,where:()=>qt,whereAsync:()=>lc,zeros:()=>Vn,zerosLike:()=>ze});var Zt=v(()=>{"use strict";PS();b2();xk();w2()});var mz,Dk=v(()=>{"use strict";Zt();mz=B();mz.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})});var Yt,Ik,Tk=v(()=>{"use strict";Yt=function(t){return t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF",t}(Yt||{});(function(t){let e;(function(n){n[n.LEGACY=0]="LEGACY",n[n.V1=1]="V1",n[n.V2=2]="V2"})(e=t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(Ik||(Ik={}))});function Nk(t,e){let n={tfOpName:t,category:"custom",inputs:[],attrs:[],customExecutor:e};dx[t]=n}function Id(t){return dx[t]}function Sk(t){delete dx[t]}var dx,Td=v(()=>{"use strict";dx={}});function p(t,e,n,r,o){let s=e.inputParams[t];if(s&&s.inputIndexStart!==void 0){let a=s.inputIndexStart,u=s.inputIndexEnd===0?void 0:s.inputIndexEnd===void 0?a+1:s.inputIndexEnd,c=a<0?e.inputNames.length+a:a;if(s.type==="tensor")return He(e.inputNames[c],n,r,o);if(s.type==="tensors"){let d=e.inputs.slice(a,u);return e.inputNames.slice(a,u).filter((b,E)=>{var x;return((x=d[E])===null||x===void 0?void 0:x.op)!=="NoOp"}).map(b=>He(b,n,r,o))}let l=He(e.inputNames[c],n,r,o),f=l.dataSync();return s.type==="number"?f[0]:R.toNestedArray(l.shape,f)}let i=e.attrParams[t];return i&&i.value}function He(t,e,n,r){let[o,s]=kt(t,n);if(r!=null){let a=r.getHashTableHandleByName(o);if(a!=null)return a}let i=n.currentContextIds.find(a=>!!e[Nd(o,a)]);return i!==void 0?e[Nd(o,i)][s]:void 0}function px(t,e,n){return e[Nd(t,n.currentContextId)]}function zn(t,e){let[n,r,o]=kt(t,e);return[Nd(n,e&&e.currentContextId),r,o]}function Nd(t,e){return e?`${t}-${e}`:t}function kt(t,e){if(t==="")return["",0,void 0];let n=e!=null&&e.parseNodeNameCache!=null;if(n){let s=e.parseNodeNameCache.get(t);if(s!=null)return s}let r=t.split(":"),o;if(r.length===1)o=[t,0,void 0];else{let s=r[0],i=r.length===3?r[1]:void 0,a=Number(r[r.length-1]);o=[s,a,i]}return n&&e.parseNodeNameCache.set(t,o),o}function vc(t,e,n){let r=p("pad",t,e,n);if(r==="explicit"){r=p("explicitPaddings",t,e,n);let o=[[0,0],[0,0],[0,0],[0,0]];for(let s=0;s<4;s++)o[s][0]=r[s*2],o[s][1]=r[s*2+1];return o}return r}function Gn(t){return t.kept?t:$t(t)}var Be=v(()=>{"use strict";Zt();});var hx={};le(hx,{json:()=>yz});var yz,Ck=v(()=>{"use strict";yz=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]});var mx={};le(mx,{json:()=>vz});var vz,_k=v(()=>{"use strict";vz=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]});var gx={};le(gx,{json:()=>wz});var wz,Ak=v(()=>{"use strict";wz=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}]});var yx={};le(yx,{json:()=>bz});var bz,Mk=v(()=>{"use strict";bz=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}]});var vx={};le(vx,{json:()=>Ez});var Ez,kk=v(()=>{"use strict";Ez=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]});var wx={};le(wx,{json:()=>xz});var xz,Ok=v(()=>{"use strict";xz=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]});var bx={};le(bx,{json:()=>Dz});var Dz,Rk=v(()=>{"use strict";Dz=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}]});var Ex={};le(Ex,{json:()=>Iz});var Iz,Fk=v(()=>{"use strict";Iz=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]});var xx={};le(xx,{json:()=>Tz});var Tz,Pk=v(()=>{"use strict";Tz=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]});var Dx={};le(Dx,{json:()=>Nz});var Nz,$k=v(()=>{"use strict";Nz=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}]});var Ix={};le(Ix,{json:()=>Sz});var Sz,Lk=v(()=>{"use strict";Sz=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}]});var Tx={};le(Tx,{json:()=>Cz});var Cz,Bk=v(()=>{"use strict";Cz=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}]});var Nx={};le(Nx,{json:()=>_z});var _z,Vk=v(()=>{"use strict";_z=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}]});var Sx={};le(Sx,{json:()=>Az});var Az,jk=v(()=>{"use strict";Az=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]});var Cx={};le(Cx,{json:()=>Mz});var Mz,Uk=v(()=>{"use strict";Mz=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]});var _x={};le(_x,{json:()=>kz});var kz,Hk=v(()=>{"use strict";kz=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}]});var Ax={};le(Ax,{json:()=>Oz});var Oz,zk=v(()=>{"use strict";Oz=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]});var Mx={};le(Mx,{json:()=>Rz});var Rz,Gk=v(()=>{"use strict";Rz=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}]});var kx={};le(kx,{json:()=>Fz});var Fz,qk=v(()=>{"use strict";Fz=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}]});function Pz(t){let e=B().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function Kk(t,e){let n=Array.isArray(t)?String.fromCharCode.apply(null,t):Pz(t);return e?n:n.toLowerCase()}function Sd(t,e,n,r=!1){let o=t[e];return o!=null?Kk(o.s,r):n}function Cd(t,e,n){let r=t[e];return r?r.b:n}function _d(t,e,n){let r=t[e]||{},o=r.i!=null?r.i:r.f!=null?r.f:n;return typeof o=="number"?o:parseInt(o,10)}function Ox(t){switch(typeof t=="string"&&(t=Yt[t]),t){case Yt.DT_FLOAT:case Yt.DT_HALF:return"float32";case Yt.DT_INT32:case Yt.DT_INT64:case Yt.DT_INT8:case Yt.DT_UINT8:return"int32";case Yt.DT_BOOL:return"bool";case Yt.DT_DOUBLE:return"float32";case Yt.DT_STRING:return"string";case Yt.DT_COMPLEX64:case Yt.DT_COMPLEX128:return"complex64";default:return null}}function Wk(t,e,n){let r=t[e];return r&&r.func?r.func.name:n}function Ad(t,e,n){let r=t[e];return r&&r.type?Ox(r.type):n}function Md(t,e,n){let r=t[e];return r&&r.list&&r.list.type?r.list.type.map(o=>Ox(o)):n}function Zk(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function kd(t,e,n){let r=t[e];return r&&r.shape?Zk(r.shape):n}function Od(t,e,n){let r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(o=>typeof o=="number"?o:parseInt(o,10)):n}function Rd(t,e,n,r=!1){let o=t[e];return o&&o.list&&o.list.s?o.list.s.map(s=>Kk(s,r)):n}function Fd(t,e,n){let r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(o=>Zk(o)):n}function Pd(t,e,n){let r=t[e];return r&&r.list&&r.list.b?r.list.b:n}var wc,Rx=v(()=>{"use strict";Zt();Tk();Td();Be();Ck();_k();Ak();Mk();kk();Ok();Rk();Fk();Pk();$k();Lk();Bk();Vk();jk();Uk();Hk();zk();Gk();qk();wc=class{static get Instance(){return this._instance||(this._instance=new this)}constructor(){let e=[hx,mx,gx,yx,vx,wx,bx,Ex,xx,Dx,Ix,Tx,Nx,Sx,Cx,_x,Ax,Mx,kx],n=[].concat(...e.map(r=>r.json));this.opMappers=n.reduce((r,o)=>(r[o.tfOpName]=o,r),{})}transformGraph(e,n={}){let r=e.node,o=[],s=[],i=[],a=r.reduce((E,x)=>(E[x.name]=this.mapNode(x),x.op.startsWith("Placeholder")?o.push(E[x.name]):x.op==="Const"?s.push(E[x.name]):(x.input==null||x.input.length===0)&&i.push(E[x.name]),E),{}),u=[],c=[],l={},f={};n!=null&&(l=this.mapSignatureEntries(n.inputs),f=this.mapSignatureEntries(n.outputs));let d=Object.keys(a);d.forEach(E=>{let x=a[E];x.inputNames.forEach((N,P)=>{let[_,,M]=zn(N),L=a[_];if(L.outputs!=null){let F=L.outputs.indexOf(M);if(F!==-1){let j=`${_}:${F}`;x.inputNames[P]=j}}x.inputs.push(L),L.children.push(x)})}),Object.keys(f).length===0?d.forEach(E=>{let x=a[E];x.children.length===0&&c.push(x)}):Object.keys(f).forEach(E=>{let[x]=zn(E),N=a[x];N!=null&&(N.signatureKey=f[E],c.push(N))}),Object.keys(l).length>0?Object.keys(l).forEach(E=>{let[x]=zn(E),N=a[x];N&&(N.signatureKey=l[E],u.push(N))}):u=o;let g={};e.library!=null&&e.library.function!=null&&(g=e.library.function.reduce((E,x)=>(E[x.signature.name]=this.mapFunction(x),E),{}));let b={nodes:a,inputs:u,outputs:c,weights:s,placeholders:o,signature:n,functions:g};return i.length>0&&(b.initNodes=i),b}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,r)=>(n[e[r].name]=r,n),{})}mapNode(e){let n=Id(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});let r={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(o=>o.startsWith("^")?o.slice(1):o),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((o,s)=>(o[s.name]={type:s.type,inputIndexStart:s.start,inputIndexEnd:s.end},o),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((o,s)=>{let i=s.type,a;switch(s.type){case"string":a=Sd(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Sd(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"string[]":a=Rd(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Rd(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"number":a=_d(e.attr,s.tfName,s.defaultValue||0),a===void 0&&s.tfDeprecatedName&&(a=_d(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"number[]":a=Od(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Od(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"bool":a=Cd(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Cd(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"bool[]":a=Pd(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Pd(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"shape":a=kd(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=kd(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"shape[]":a=Fd(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Fd(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"dtype":a=Ad(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Ad(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"dtype[]":a=Md(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Md(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"func":a=Wk(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Wk(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${s.type} for op: ${e.op}`)}return o[s.name]={value:a,type:i},o},{})),r}mapFunction(e){let n=e.nodeDef,r=[],o=[],s={};n!=null&&(s=n.reduce((f,d)=>(f[d.name]=this.mapNode(d),d.op==="Const"&&o.push(f[d.name]),f),{}));let i=[],a=[];e.signature.inputArg.forEach(f=>{let[d]=zn(f.name),g={name:d,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:Ox(f.type),type:"dtype"}},children:[]};g.signatureKey=f.name,i.push(g),s[d]=g}),Object.keys(s).forEach(f=>{let d=s[f];d.inputNames.forEach((g,b)=>{let[E,,x]=zn(g),N=s[E];if(N.outputs!=null){let P=N.outputs.indexOf(x);if(P!==-1){let _=`${E}:${P}`;d.inputNames[b]=_}}d.inputs.push(N),N.children.push(d)})});let c=e.ret;e.signature.outputArg.forEach(f=>{let[d,g]=zn(c[f.name]),b=s[d];b!=null&&(b.defaultOutput=g,a.push(b))});let l=this.mapArgsToSignature(e);return{nodes:s,inputs:i,outputs:a,weights:o,placeholders:r,signature:l}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:e.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,e.ret),n),{})}}mapArgToTensorInfo(e,n){let r=e.name;return n!=null&&(r=n[r]),{name:r,dtype:e.type}}}});var $d,Yk=v(()=>{"use strict";Be();Rx();$d=class{constructor(e,n,r){this.node=e,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(o=>this.getInput(o)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((o,s)=>(o[s]=this.getAttr(s),o),{}))}getInput(e){return He(e,this.tensorMap,this.context)}getAttr(e,n){let r=this.node.rawAttrs[e];if(r.tensor!=null)return He(e,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return _d(this.node.rawAttrs,e,n);if(r.s!=null)return Sd(this.node.rawAttrs,e,n);if(r.b!=null)return Cd(this.node.rawAttrs,e,n);if(r.shape!=null)return kd(this.node.rawAttrs,e,n);if(r.type!=null)return Ad(this.node.rawAttrs,e,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return Od(this.node.rawAttrs,e,n);if(r.list.s!=null)return Rd(this.node.rawAttrs,e,n);if(r.list.shape!=null)return Fd(this.node.rawAttrs,e,n);if(r.list.b!=null)return Pd(this.node.rawAttrs,e,n);if(r.list.type!=null)return Md(this.node.rawAttrs,e,n)}return n}}});var pe={};le(pe,{OP_SCOPE_SUFFIX:()=>Df,abs:()=>Xe,acos:()=>qw,acosh:()=>Ww,add:()=>V,addN:()=>Kw,all:()=>Zw,any:()=>Yw,argMax:()=>Qw,argMin:()=>Xw,asin:()=>Jw,asinh:()=>eb,atan:()=>tb,atan2:()=>nb,atanh:()=>rb,avgPool:()=>Eu,avgPool3d:()=>ub,basicLSTMCell:()=>lb,batchNorm:()=>Fr,batchNorm2d:()=>db,batchNorm3d:()=>pb,batchNorm4d:()=>hb,batchToSpaceND:()=>Du,bincount:()=>Tu,bitwiseAnd:()=>gb,booleanMaskAsync:()=>pA,broadcastArgs:()=>yb,broadcastTo:()=>gs,buffer:()=>pt,cast:()=>ne,ceil:()=>wb,clipByValue:()=>bb,clone:()=>$t,complex:()=>Ct,concat:()=>Ne,concat1d:()=>Eb,concat2d:()=>xb,concat3d:()=>Db,concat4d:()=>Ib,conv1d:()=>Tb,conv2d:()=>Pr,conv2dTranspose:()=>Sb,conv3d:()=>Cb,conv3dTranspose:()=>_b,cos:()=>Ab,cosh:()=>Mb,cosineWindow:()=>ea,cumprod:()=>kb,cumsum:()=>Ob,denseBincount:()=>Rb,depthToSpace:()=>Fb,depthwiseConv2d:()=>ys,diag:()=>Pb,dilation2d:()=>$b,div:()=>ae,divNoNan:()=>Bb,dot:()=>Vb,dropout:()=>SA,einsum:()=>Lr,elu:()=>Cu,enclosingPowerOfTwo:()=>sd,ensureShape:()=>Hb,equal:()=>Su,erf:()=>zb,euclideanNorm:()=>Wb,exp:()=>un,expandDims:()=>wn,expm1:()=>Kb,eye:()=>ku,fft:()=>Is,fill:()=>$n,floor:()=>Ou,floorDiv:()=>vu,fused:()=>id,gather:()=>Ru,gatherND:()=>DA,greater:()=>vo,greaterEqual:()=>Fu,ifft:()=>xo,imag:()=>Ur,image:()=>h2,inTopKAsync:()=>_A,irfft:()=>nc,isFinite:()=>Jb,isInf:()=>e0,isNaN:()=>t0,leakyRelu:()=>$u,less:()=>Zi,lessEqual:()=>ws,linalg:()=>m2,linspace:()=>o0,localResponseNormalization:()=>s0,log:()=>fr,log1p:()=>Bu,logSigmoid:()=>u0,logSoftmax:()=>c0,logSumExp:()=>ju,logicalAnd:()=>wo,logicalNot:()=>Uu,logicalOr:()=>Hu,logicalXor:()=>p0,losses:()=>g2,lowerBound:()=>h0,matMul:()=>ce,max:()=>Ln,maxPool:()=>zu,maxPool3d:()=>g0,maxPoolWithArgmax:()=>y0,maximum:()=>Gu,mean:()=>bo,meshgrid:()=>w0,min:()=>qi,minimum:()=>Eo,mirrorPad:()=>b0,mod:()=>E0,moments:()=>x0,movingAverage:()=>mA,mul:()=>O,multiRNNCell:()=>D0,multinomial:()=>I0,neg:()=>ct,norm:()=>yo,notEqual:()=>Wu,oneHot:()=>Qi,ones:()=>jn,onesLike:()=>S0,op:()=>m,outerProduct:()=>C0,pad:()=>Un,pad1d:()=>_0,pad2d:()=>A0,pad3d:()=>M0,pad4d:()=>k0,pool:()=>R0,pow:()=>lr,prelu:()=>Zu,print:()=>yu,prod:()=>P0,raggedGather:()=>$0,raggedRange:()=>L0,raggedTensorToTensor:()=>B0,rand:()=>V0,randomGamma:()=>Q0,randomNormal:()=>Qu,randomStandardNormal:()=>J0,randomUniform:()=>xs,randomUniformInt:()=>eE,range:()=>Gr,real:()=>dr,reciprocal:()=>tE,relu:()=>qr,relu6:()=>ec,reshape:()=>C,reverse:()=>Wt,reverse1d:()=>rE,reverse2d:()=>oE,reverse3d:()=>sE,reverse4d:()=>iE,rfft:()=>Ts,round:()=>tc,rsqrt:()=>uE,scalar:()=>z,scatterND:()=>yA,searchSorted:()=>Yi,selu:()=>cE,separableConv2d:()=>lE,setdiff1dAsync:()=>fE,sigmoid:()=>Pn,sign:()=>dE,signal:()=>p2,sin:()=>pE,sinh:()=>hE,slice:()=>ue,slice1d:()=>mE,slice2d:()=>gE,slice3d:()=>yE,slice4d:()=>vE,softmax:()=>wE,softplus:()=>Vu,spaceToBatchND:()=>Ku,sparse:()=>y2,sparseToDense:()=>EA,spectral:()=>d2,split:()=>pr,sqrt:()=>Mt,square:()=>et,squaredDifference:()=>oc,squeeze:()=>Ns,stack:()=>It,step:()=>ic,stridedSlice:()=>DE,string:()=>v2,sub:()=>H,sum:()=>me,tan:()=>IE,tanh:()=>Ui,tensor:()=>bt,tensor1d:()=>nt,tensor2d:()=>Wr,tensor3d:()=>ac,tensor4d:()=>NE,tensor5d:()=>SE,tensor6d:()=>CE,tensorScatterUpdate:()=>AE,tile:()=>jr,topk:()=>ME,transpose:()=>Ss,truncatedNormal:()=>kE,unique:()=>OE,unsortedSegmentSum:()=>RE,unstack:()=>Kt,upperBound:()=>FE,variable:()=>PE,where:()=>qt,whereAsync:()=>lc,zeros:()=>Vn,zerosLike:()=>ze});var rt=v(()=>{"use strict";pc();});var Qk,Xk=v(()=>{"use strict";rt();Be();Qk=(t,e,n,r=pe)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(p("a",t,e,n),p("b",t,e,n))];case"AddN":return[r.addN(p("tensors",t,e,n))];case"FloorMod":case"Mod":return[r.mod(p("a",t,e,n),p("b",t,e,n))];case"Mul":return[r.mul(p("a",t,e,n),p("b",t,e,n))];case"RealDiv":case"Div":return[r.div(p("a",t,e,n),p("b",t,e,n))];case"DivNoNan":return[r.divNoNan(p("a",t,e,n),p("b",t,e,n))];case"FloorDiv":return[r.floorDiv(p("a",t,e,n),p("b",t,e,n))];case"Sub":return[r.sub(p("a",t,e,n),p("b",t,e,n))];case"Minimum":return[r.minimum(p("a",t,e,n),p("b",t,e,n))];case"Maximum":return[r.maximum(p("a",t,e,n),p("b",t,e,n))];case"Pow":return[r.pow(p("a",t,e,n),p("b",t,e,n))];case"SquaredDifference":return[r.squaredDifference(p("a",t,e,n),p("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}}});var Jk,eO=v(()=>{"use strict";rt();Be();Jk=(t,e,n,r=pe)=>{switch(t.op){case"Abs":case"ComplexAbs":return[r.abs(p("x",t,e,n))];case"Acos":return[r.acos(p("x",t,e,n))];case"Acosh":return[r.acosh(p("x",t,e,n))];case"Asin":return[r.asin(p("x",t,e,n))];case"Asinh":return[r.asinh(p("x",t,e,n))];case"Atan":return[r.atan(p("x",t,e,n))];case"Atan2":return[r.atan2(p("x",t,e,n),p("y",t,e,n))];case"Atanh":return[r.atanh(p("x",t,e,n))];case"Ceil":return[r.ceil(p("x",t,e,n))];case"Complex":return[r.complex(p("real",t,e,n),p("imag",t,e,n))];case"Cos":return[r.cos(p("x",t,e,n))];case"Cosh":return[r.cosh(p("x",t,e,n))];case"Elu":return[r.elu(p("x",t,e,n))];case"Erf":return[r.erf(p("x",t,e,n))];case"Exp":return[r.exp(p("x",t,e,n))];case"Expm1":return[r.expm1(p("x",t,e,n))];case"Floor":return[r.floor(p("x",t,e,n))];case"Log":return[r.log(p("x",t,e,n))];case"Log1p":return[r.log1p(p("x",t,e,n))];case"Imag":return[r.imag(p("x",t,e,n))];case"Neg":return[r.neg(p("x",t,e,n))];case"Reciprocal":return[r.reciprocal(p("x",t,e,n))];case"Real":return[r.real(p("x",t,e,n))];case"Relu":return[r.relu(p("x",t,e,n))];case"Round":return[r.round(p("x",t,e,n))];case"Selu":return[r.selu(p("x",t,e,n))];case"Sigmoid":return[r.sigmoid(p("x",t,e,n))];case"Sin":return[r.sin(p("x",t,e,n))];case"Sign":return[r.sign(p("x",t,e,n))];case"Sinh":return[r.sinh(p("x",t,e,n))];case"Softplus":return[r.softplus(p("x",t,e,n))];case"Sqrt":return[r.sqrt(p("x",t,e,n))];case"Square":return[r.square(p("x",t,e,n))];case"Tanh":return[r.tanh(p("x",t,e,n))];case"Tan":return[r.tan(p("x",t,e,n))];case"ClipByValue":return[r.clipByValue(p("x",t,e,n),p("clipValueMin",t,e,n),p("clipValueMax",t,e,n))];case"Relu6":return[r.relu6(p("x",t,e,n))];case"Rsqrt":return[r.rsqrt(He(t.inputNames[0],e,n))];case"LeakyRelu":return[r.leakyRelu(p("x",t,e,n),p("alpha",t,e,n))];case"Prelu":return[r.prelu(p("x",t,e,n),p("alpha",t,e,n))];case"IsNan":return[r.isNaN(He(t.inputNames[0],e,n))];case"IsInf":return[r.isInf(He(t.inputNames[0],e,n))];case"IsFinite":return[r.isFinite(He(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}}});function Qt(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){R.assert(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let r=0;r<t.length;r++){let o=t[r],s=e[r];R.assert(o<0||s<0||o===s,()=>n+` Shapes ${t} and ${e} must match`)}}}function tO(t){return!(typeof t=="number"||t.some(e=>e<0))}function ra(t,e,n){let r=Ld(t,n),o=!tO(r);if(o&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(o&&e.forEach(s=>{r=Ld(s.shape,r)}),!tO(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function Ld(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);let n=[];for(let r=0;r<t.length;++r){let o=t[r],s=e[r];if(o>=0&&s>=0&&o!==s)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[r]=o>=0?o:s}return n}var Fx=v(()=>{"use strict";Zt();});var Bd,nO=v(()=>{"use strict";Zt();Fx();Bd=class{constructor(e,n,r,o,s,i,a){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=o,this.identicalElementShapes=s,this.dynamicSize=i,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=z(0),At(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);let n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);let r=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),Qt(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);r.tensor=n,At(n),r.written=!0,this.tensors[e]=r}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((r,o)=>this.write(r,n[o]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let o=0;o<this.size();o++)e.push(o)}if(e.length===0)return bt([],[0].concat(this.elementShape));let r=this.readMany(e);return Qt(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),It(r,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return bt([],[0].concat(this.elementShape));let n=[];for(let o=0;o<this.size();o++)n.push(o);let r=this.readMany(n);return Qt(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),Ne(r,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);let r=Math.max(...e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(e,Kt(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0,o=e.map(u=>(r+=u,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);let s=r===0?0:n.size/r,i=[];X(()=>{n=C(n,[1,r,s]);for(let u=0;u<e.length;++u){let l=[0,u===0?0:o[u-1],0],f=[1,e[u],s];i[u]=C(ue(n,l,f),this.elementShape)}return i});let a=[];for(let u=0;u<e.length;u++)a[u]=u;this.writeMany(a,i)}}});function rO(t,e,n){let r=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);let o=t.shape.slice(1);Qt(o,e,"TensorList shape mismatch: ");let s=Kt(t);return new oa(s,e,r)}function oO(t,e,n,r){return new oa([],t,e,r)}function sO(t,e,n,r){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);let o=Math.max(...e);if(r!=null&&r!==-1&&o>=r)throw new Error(`Max index must be < array size (${o}  vs. ${r})`);let s=new oa([],n,t.dtype,r),i=Kt(t,0);return e.forEach((a,u)=>{s.setItem(a,i[u])}),s}function iO(t,e,n){let r=0,o=e.map(l=>(r+=l,r));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${t.shape}`);let s=t.shape.slice(1),i=Ld(s,n),a=r===0?0:t.size/r,u=X(()=>{let l=[];t=C(t,[1,r,a]);for(let f=0;f<e.length;++f){let g=[0,f===0?0:o[f-1],0],b=[1,e[f],a];l[f]=C(ue(t,g,b),i)}return t.dispose(),l}),c=new oa([],n,t.dtype,e.length);for(let l=0;l<u.length;l++)c.setItem(l,u[l]);return c}var oa,aO=v(()=>{"use strict";Zt();Fx();oa=class t{get id(){return this.idTensor.id}constructor(e,n,r,o=-1){this.tensors=e,this.elementShape=n,this.elementDtype=r,e?.forEach(s=>{if(r!==s.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${s.dtype}`);Qt(n,s.shape,"TensorList shape mismatch: "),At(s)}),this.idTensor=z(0),this.maxNumElements=o,At(this.idTensor)}copy(){return new t([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);Qt(e,this.elementShape,"TensorList shape mismatch: ");let o=ra(this.elementShape,this.tensors,e);return X(()=>{let s=this.tensors.map(i=>C(i,o));return It(s,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");let r=ra(this.elementShape,this.tensors,e),o=this.tensors.pop();return o.kept=!1,Qt(o.shape,e,"TensorList shape mismatch: "),C(o,r)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Qt(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");At(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);let n=new t([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let r=0;r<Math.min(this.tensors.length,e);++r)n.tensors[r]=this.tensors[r];return n}getItem(e,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);Qt(this.tensors[e].shape,n,"TensorList shape mismatch: ");let o=ra(this.elementShape,this.tensors,n);return C(this.tensors[e],o)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Qt(this.elementShape,n.shape,"TensorList shape mismatch: "),At(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);Qt(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());let o=ra(this.elementShape,this.tensors,r);return e.length===0?bt([],[0].concat(o)):X(()=>{let s=e.map(i=>C(this.tensors[i],o));return It(s,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);Qt(this.elementShape,n,"TensorList shape mismatch: ");let r=ra(this.elementShape,this.tensors,n);return this.size()===0?bt([],[0].concat(r)):X(()=>{let o=this.tensors.map(s=>C(s,r));return Ne(o,0)})}}});var uO,cO=v(()=>{"use strict";Zt();nO();aO();Be();uO=(t,e,n)=>k(void 0,null,function*(){switch(t.op){case"If":case"StatelessIf":{let r=p("thenBranch",t,e,n),o=p("elseBranch",t,e,n),s=p("cond",t,e,n),i=p("args",t,e,n);return(yield s.data())[0]?n.functionMap[r].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap):n.functionMap[o].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{let r=p("body",t,e,n),o=p("cond",t,e,n),s=p("args",t,e,n),i=yield n.functionMap[o].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap),a=s.map(l=>l.id),u=yield i[0].data();i.forEach(l=>{!l.kept&&a.indexOf(l.id)===-1&&l.dispose()});let c=s;for(;u[0];){let l=c;c=yield n.functionMap[r].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);let f=c.map(g=>g.id);l.forEach(g=>{!g.kept&&a.indexOf(g.id)===-1&&f.indexOf(g.id)===-1&&g.dispose()});let d=yield n.functionMap[o].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);u=yield d[0].data(),d.forEach(g=>{!g.kept&&a.indexOf(g.id)===-1&&f.indexOf(g.id)===-1&&g.dispose()})}return c}case"LoopCond":{let r=p("pred",t,e,n);return[Gn(r)]}case"Switch":{let r=p("pred",t,e,n),o=p("data",t,e,n);return o.kept||(o=Gn(o)),(yield r.data())[0]?[void 0,o]:[o,void 0]}case"Merge":{let r=t.inputNames.find(o=>He(o,e,n)!==void 0);if(r){let o=He(r,e,n);return[Gn(o)]}return}case"Enter":{let r=p("frameName",t,e,n),o=p("tensor",t,e,n);return n.enterFrame(r),[Gn(o)]}case"Exit":{let r=p("tensor",t,e,n);return n.exitFrame(),[Gn(r)]}case"NextIteration":{let r=p("tensor",t,e,n);return n.nextIteration(),[Gn(r)]}case"TensorArrayV3":{let r=p("size",t,e,n),o=p("dtype",t,e,n),s=p("elementShape",t,e,n),i=p("dynamicSize",t,e,n),a=p("clearAfterRead",t,e,n),u=p("identicalElementShapes",t,e,n),c=p("name",t,e,n),l=new Bd(c,o,r,s,u,i,a);return n.addTensorArray(l),[l.idTensor,z(1)]}case"TensorArrayWriteV3":{let r=p("tensorArrayId",t,e,n),o=p("index",t,e,n),s=p("tensor",t,e,n),i=n.getTensorArray(r.id);return i.write(o,s),[i.idTensor]}case"TensorArrayReadV3":{let r=p("tensorArrayId",t,e,n),o=p("index",t,e,n);return[n.getTensorArray(r.id).read(o)]}case"TensorArrayGatherV3":{let r=p("tensorArrayId",t,e,n),o=p("indices",t,e,n),s=p("dtype",t,e,n);return[n.getTensorArray(r.id).gather(o,s)]}case"TensorArrayScatterV3":{let r=p("tensorArrayId",t,e,n),o=p("indices",t,e,n),s=p("tensor",t,e,n),i=n.getTensorArray(r.id);return i.scatter(o,s),[i.idTensor]}case"TensorArrayConcatV3":{let r=p("tensorArrayId",t,e,n),o=n.getTensorArray(r.id),s=p("dtype",t,e,n);return[o.concat(s)]}case"TensorArraySplitV3":{let r=p("tensorArrayId",t,e,n),o=p("tensor",t,e,n),s=p("lengths",t,e,n),i=n.getTensorArray(r.id);return i.split(s,o),[i.idTensor]}case"TensorArraySizeV3":{let r=p("tensorArrayId",t,e,n),o=n.getTensorArray(r.id);return[z(o.size(),"int32")]}case"TensorArrayCloseV3":{let r=p("tensorArrayId",t,e,n),o=n.getTensorArray(r.id);return o.clearAndClose(),[o.idTensor]}case"TensorListSetItem":{let r=p("tensorListId",t,e,n),o=p("index",t,e,n),s=p("tensor",t,e,n),i=n.getTensorList(r.id);return i.setItem(o,s),[i.idTensor]}case"TensorListGetItem":{let r=p("tensorListId",t,e,n),o=p("index",t,e,n),s=p("elementShape",t,e,n),i=p("elementDType",t,e,n);return[n.getTensorList(r.id).getItem(o,s,i)]}case"TensorListScatterV2":case"TensorListScatter":{let r=p("indices",t,e,n),o=p("tensor",t,e,n),s=p("elementShape",t,e,n),i=p("numElements",t,e,n),a=sO(o,r,s,i);return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{let r=p("elementShape",t,e,n),o=p("elementDType",t,e,n),s;t.op==="TensorListReserve"?s="numElements":s="maxNumElements";let i=p(s,t,e,n),a=t.op==="TensorListReserve"?-1:i,u=oO(r,o,i,a);return n.addTensorList(u),[u.idTensor]}case"TensorListGather":{let r=p("tensorListId",t,e,n),o=p("indices",t,e,n),s=p("elementShape",t,e,n),i=p("elementDType",t,e,n);return[n.getTensorList(r.id).gather(o,i,s)]}case"TensorListStack":{let r=p("tensorListId",t,e,n),o=p("elementShape",t,e,n),s=p("elementDType",t,e,n),i=p("numElements",t,e,n);return[n.getTensorList(r.id).stack(o,s,i)]}case"TensorListFromTensor":{let r=p("tensor",t,e,n),o=p("elementShape",t,e,n),s=p("elementDType",t,e,n),i=rO(r,o,s);return n.addTensorList(i),[i.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{let r=p("tensorListId",t,e,n),o=n.getTensorList(r.id),s=p("dtype",t,e,n),i=p("elementShape",t,e,n);return[o.concat(s,i)]}case"TensorListPushBack":{let r=p("tensorListId",t,e,n),o=p("tensor",t,e,n),s=n.getTensorList(r.id);return s.pushBack(o),[s.idTensor]}case"TensorListPopBack":{let r=p("tensorListId",t,e,n),o=p("elementShape",t,e,n),s=p("elementDType",t,e,n);return[n.getTensorList(r.id).popBack(o,s)]}case"TensorListSplit":{let r=p("tensor",t,e,n),o=p("elementShape",t,e,n),s=p("lengths",t,e,n),i=iO(r,s,o);return n.addTensorList(i),[i.idTensor]}case"TensorListLength":{let r=p("tensorListId",t,e,n),o=n.getTensorList(r.id);return[z(o.size(),"int32")]}case"TensorListResize":{let r=p("tensorListId",t,e,n),o=p("size",t,e,n),i=n.getTensorList(r.id).resize(o);return n.addTensorList(i),[i.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}})});function lO(t,e,n){let[r,o]=p("fusedOps",t,e,n),s=r==="biasadd",i=!s,a=o==="prelu",u=r==="fusedbatchnorm",c=p("numArgs",t,e,n);if(s){if(a&&c!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&s&&c!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(u)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");let l=p("strides",t,e,n),f=vc(t,e,n),d=p("dataFormat",t,e,n).toUpperCase(),g=p("dilations",t,e,n),[b,E]=p("args",t,e,n);i&&(E=b,b=void 0);let x=p("leakyreluAlpha",t,e,n);return{stride:l,pad:f,dataFormat:d,dilations:g,biasArg:b,preluArg:E,activationFunc:o,leakyreluAlpha:x}}var fO,dO=v(()=>{"use strict";rt();Be();fO=(t,e,n,r=pe)=>{switch(t.op){case"Conv1D":{let o=p("stride",t,e,n),s=p("pad",t,e,n),i=p("dataFormat",t,e,n).toUpperCase(),a=p("dilation",t,e,n);return[r.conv1d(p("x",t,e,n),p("filter",t,e,n),o,s,i,a)]}case"Conv2D":{let o=p("strides",t,e,n),s=vc(t,e,n),i=p("dataFormat",t,e,n).toUpperCase(),a=p("dilations",t,e,n);return[r.conv2d(p("x",t,e,n),p("filter",t,e,n),[o[1],o[2]],s,i,[a[1],a[2]])]}case"_FusedConv2D":{let{stride:o,pad:s,dataFormat:i,dilations:a,biasArg:u,preluArg:c,activationFunc:l,leakyreluAlpha:f}=lO(t,e,n);return[r.fused.conv2d({x:p("x",t,e,n),filter:p("filter",t,e,n),strides:[o[1],o[2]],pad:s,dataFormat:i,dilations:[a[1],a[2]],bias:u,activation:l,preluActivationWeights:c,leakyreluAlpha:f})]}case"FusedDepthwiseConv2dNative":{let{stride:o,pad:s,dataFormat:i,dilations:a,biasArg:u,preluArg:c,activationFunc:l,leakyreluAlpha:f}=lO(t,e,n);return[r.fused.depthwiseConv2d({x:p("x",t,e,n),filter:p("filter",t,e,n),strides:[o[1],o[2]],pad:s,dataFormat:i,dilations:[a[1],a[2]],bias:u,activation:l,preluActivationWeights:c,leakyreluAlpha:f})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{let o=p("outputShape",t,e,n),s=p("strides",t,e,n),i=vc(t,e,n);return[r.conv2dTranspose(p("x",t,e,n),p("filter",t,e,n),o,[s[1],s[2]],i)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{let o=p("strides",t,e,n),s=vc(t,e,n),i=p("dilations",t,e,n),a=p("dataFormat",t,e,n).toUpperCase();return[r.depthwiseConv2d(p("input",t,e,n),p("filter",t,e,n),[o[1],o[2]],s,a,[i[1],i[2]])]}case"Conv3D":{let o=p("strides",t,e,n),s=p("pad",t,e,n),i=p("dataFormat",t,e,n).toUpperCase(),a=p("dilations",t,e,n);return[r.conv3d(p("x",t,e,n),p("filter",t,e,n),[o[1],o[2],o[3]],s,i,[a[1],a[2],a[3]])]}case"AvgPool":{let o=p("strides",t,e,n),s=p("pad",t,e,n),i=p("kernelSize",t,e,n);return[r.avgPool(p("x",t,e,n),[i[1],i[2]],[o[1],o[2]],s)]}case"MaxPool":{let o=p("strides",t,e,n),s=p("pad",t,e,n),i=p("kernelSize",t,e,n);return[r.maxPool(p("x",t,e,n),[i[1],i[2]],[o[1],o[2]],s)]}case"MaxPoolWithArgmax":{let o=p("strides",t,e,n),s=p("pad",t,e,n),i=p("kernelSize",t,e,n),a=p("includeBatchInIndex",t,e,n),{result:u,indexes:c}=r.maxPoolWithArgmax(p("x",t,e,n),[i[1],i[2]],[o[1],o[2]],s,a);return[u,c]}case"AvgPool3D":{let o=p("strides",t,e,n),s=p("pad",t,e,n),i=p("kernelSize",t,e,n);return[r.avgPool3d(p("x",t,e,n),[i[1],i[2],i[3]],[o[1],o[2],o[3]],s)]}case"MaxPool3D":{let o=p("strides",t,e,n),s=p("pad",t,e,n),i=p("kernelSize",t,e,n);return[r.maxPool3d(p("x",t,e,n),[i[1],i[2],i[3]],[o[1],o[2],o[3]],s)]}case"Dilation2D":{let o=p("strides",t,e,n),s=p("pad",t,e,n),i=p("dilations",t,e,n),a=o[1],u=o[2],c=i[1],l=i[2];return[r.dilation2d(p("x",t,e,n),p("filter",t,e,n),[a,u],s,[c,l],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}}});var pO,hO=v(()=>{"use strict";rt();Be();pO=(t,e,n,r=pe)=>{switch(t.op){case"Fill":{let o=p("shape",t,e,n),s=p("dtype",t,e,n),i=p("value",t,e,n);return[r.fill(o,i,s)]}case"LinSpace":{let o=p("start",t,e,n),s=p("stop",t,e,n),i=p("num",t,e,n);return[r.linspace(o,s,i)]}case"Multinomial":{let o=p("logits",t,e,n),s=p("numSamples",t,e,n),i=p("seed",t,e,n);return[r.multinomial(o,s,i)]}case"OneHot":{let o=p("indices",t,e,n),s=p("depth",t,e,n),i=p("onValue",t,e,n),a=p("offValue",t,e,n),u=p("dtype",t,e,n);return[r.oneHot(o,s,i,a,u)]}case"Ones":return[r.ones(p("shape",t,e,n),p("dtype",t,e,n))];case"OnesLike":return[r.onesLike(p("x",t,e,n))];case"RandomStandardNormal":return[r.randomStandardNormal(p("shape",t,e,n),p("dtype",t,e,n),p("seed",t,e,n))];case"RandomUniform":return[r.randomUniform(p("shape",t,e,n),p("minval",t,e,n),p("maxval",t,e,n),p("dtype",t,e,n))];case"RandomUniformInt":return[r.randomUniformInt(p("shape",t,e,n),p("minval",t,e,n),p("maxval",t,e,n),p("seed",t,e,n))];case"Range":{let o=p("start",t,e,n),s=p("stop",t,e,n),i=p("step",t,e,n);return[r.range(o,s,i,p("dtype",t,e,n))]}case"TruncatedNormal":{let o=p("shape",t,e,n),s=p("mean",t,e,n),i=p("stdDev",t,e,n),a=p("seed",t,e,n);return[r.truncatedNormal(o,s,i,p("dtype",t,e,n),a)]}case"Zeros":return[r.zeros(p("shape",t,e,n),p("dtype",t,e,n))];case"ZerosLike":return[r.zerosLike(p("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}}});function Px(t,e,n){let r=p("boxes",t,e,n),o=p("scores",t,e,n),s=p("maxOutputSize",t,e,n),i=p("iouThreshold",t,e,n),a=p("scoreThreshold",t,e,n),u=p("softNmsSigma",t,e,n);return{boxes:r,scores:o,maxOutputSize:s,iouThreshold:i,scoreThreshold:a,softNmsSigma:u}}var mO,gO=v(()=>{"use strict";rt();Be();mO=(s,i,a,u,...c)=>k(void 0,[s,i,a,u,...c],function*(t,e,n,r,o=pe){switch(t.op){case"NonMaxSuppressionV5":{let{boxes:l,scores:f,maxOutputSize:d,iouThreshold:g,scoreThreshold:b,softNmsSigma:E}=Px(t,e,n),x=yield o.image.nonMaxSuppressionWithScoreAsync(l,f,d,g,b,E);return[x.selectedIndices,x.selectedScores]}case"NonMaxSuppressionV4":{let{boxes:l,scores:f,maxOutputSize:d,iouThreshold:g,scoreThreshold:b}=Px(t,e,n),E=p("padToMaxOutputSize",t,e,n),x=yield o.image.nonMaxSuppressionPaddedAsync(l,f,d,g,b,E);return[x.selectedIndices,x.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{let{boxes:l,scores:f,maxOutputSize:d,iouThreshold:g,scoreThreshold:b}=Px(t,e,n);return[yield o.image.nonMaxSuppressionAsync(l,f,d,g,b)]}case"Where":{let l=o.cast(p("condition",t,e,n),"bool"),f=[yield o.whereAsync(l)];return l.dispose(),f}case"ListDiff":return o.setdiff1dAsync(p("x",t,e,n),p("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}})});var yO,vO=v(()=>{"use strict";rt();Be();yO=(t,e,n,r=pe)=>{switch(t.op){case"LowerBound":{let o=p("sortedSequence",t,e,n),s=p("values",t,e,n);return[r.lowerBound(o,s)]}case"TopKV2":{let o=p("x",t,e,n),s=p("k",t,e,n),i=p("sorted",t,e,n),a=r.topk(o,s,i);return[a.values,a.indices]}case"UpperBound":{let o=p("sortedSequence",t,e,n),s=p("values",t,e,n);return[r.upperBound(o,s)]}case"Unique":{let o=p("x",t,e,n),s=r.unique(o);return[s.values,s.indices]}case"UniqueV2":{let o=p("x",t,e,n),s=p("axis",t,e,n),i=r.unique(o,s);return[i.values,i.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}}});var wO,bO=v(()=>{"use strict";rt();Be();wO=(t,e,n,r=pe)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":let o=p("default",t,e,n);return[He(t.name,e,n)||o];case"Placeholder":return[He(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{let l=p("x",t,e,n);return[Gn(l)]}case"IdentityN":return p("x",t,e,n).map(l=>Gn(l));case"Snapshot":let s=p("x",t,e,n);return[Gn(s)];case"Shape":return[r.tensor1d(p("x",t,e,n).shape,"int32")];case"ShapeN":return p("x",t,e,n).map(l=>r.tensor1d(l.shape));case"Size":return[r.scalar(p("x",t,e,n).size,"int32")];case"Rank":return[r.scalar(p("x",t,e,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":let i=p("x",t,e,n),a=p("data",t,e,n),u=p("message",t,e,n),c=p("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(u);for(let l=0;l<a.length;l++)console.log(Array.prototype.slice.call(a[l].dataSync()).slice(0,c));return[i];default:throw TypeError(`Node type ${t.op} is not implemented`)}}});var Vd,EO=v(()=>{"use strict";Zt();rt();Vd=class{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=z(0),this.tensorMap=new Map,At(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return z(this.size(),"int32")}import(e,n){return k(this,null,function*(){this.checkKeyAndValueTensor(e,n);let r=yield e.data();return this.tensorMap.forEach(o=>o.dispose()),this.tensorMap.clear(),X(()=>{let o=Kt(n),s=r.length,i=o.length;R.assert(s===i,()=>`The number of elements doesn't match, keys has ${s} elements, the values has ${i} elements.`);for(let a=0;a<s;a++){let u=r[a],c=o[a];At(c),this.tensorMap.set(u,c)}return this.handle})})}find(e,n){return k(this,null,function*(){this.checkKeyAndValueTensor(e,n);let r=yield e.data();return X(()=>{let o=[];for(let s=0;s<r.length;s++){let i=r[s],a=this.findWithDefault(i,n);o.push(a)}return It(o)})})}findWithDefault(e,n){let r=this.tensorMap.get(e);return r??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}});var xO,DO=v(()=>{"use strict";EO();Be();xO=(t,e,n,r)=>k(void 0,null,function*(){switch(t.op){case"HashTable":case"HashTableV2":{let o=r.getHashTableHandleByName(t.name);if(o!=null)return[o];{let s=p("keyDType",t,e,n),i=p("valueDType",t,e,n),a=new Vd(s,i);return r.addHashTable(t.name,a),[a.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{let o=p("tableHandle",t,e,n,r),s=p("keys",t,e,n),i=p("values",t,e,n);return[yield r.getHashTableById(o.id).import(s,i)]}case"LookupTableFind":case"LookupTableFindV2":{let o=p("tableHandle",t,e,n,r),s=p("keys",t,e,n),i=p("defaultValue",t,e,n);return[yield r.getHashTableById(o.id).find(s,i)]}case"LookupTableSize":case"LookupTableSizeV2":{let o=p("tableHandle",t,e,n,r);return[r.getHashTableById(o.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}})});var IO,TO=v(()=>{"use strict";rt();Be();IO=(t,e,n,r=pe)=>{switch(t.op){case"ResizeBilinear":{let o=p("images",t,e,n),s=p("size",t,e,n),i=p("alignCorners",t,e,n),a=p("halfPixelCenters",t,e,n);return[r.image.resizeBilinear(o,[s[0],s[1]],i,a)]}case"ResizeNearestNeighbor":{let o=p("images",t,e,n),s=p("size",t,e,n),i=p("alignCorners",t,e,n),a=p("halfPixelCenters",t,e,n);return[r.image.resizeNearestNeighbor(o,[s[0],s[1]],i,a)]}case"CropAndResize":{let o=p("image",t,e,n),s=p("boxes",t,e,n),i=p("boxInd",t,e,n),a=p("cropSize",t,e,n),u=p("method",t,e,n),c=p("extrapolationValue",t,e,n);return[r.image.cropAndResize(o,s,i,a,u,c)]}case"ImageProjectiveTransformV3":{let o=p("images",t,e,n),s=p("transforms",t,e,n),i=p("outputShape",t,e,n),a=p("fillValue",t,e,n),u=p("interpolation",t,e,n),c=p("fillMode",t,e,n);return[r.image.transform(o,s,u.toLowerCase(),c.toLowerCase(),a,i)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}}});var NO,SO=v(()=>{"use strict";rt();Be();NO=(t,e,n,r=pe)=>{switch(t.op){case"Equal":return[r.equal(p("a",t,e,n),p("b",t,e,n))];case"NotEqual":return[r.notEqual(p("a",t,e,n),p("b",t,e,n))];case"Greater":return[r.greater(p("a",t,e,n),p("b",t,e,n))];case"GreaterEqual":return[r.greaterEqual(p("a",t,e,n),p("b",t,e,n))];case"Less":return[r.less(p("a",t,e,n),p("b",t,e,n))];case"LessEqual":return[r.lessEqual(p("a",t,e,n),p("b",t,e,n))];case"LogicalAnd":return[r.logicalAnd(p("a",t,e,n),p("b",t,e,n))];case"LogicalNot":return[r.logicalNot(p("a",t,e,n))];case"LogicalOr":return[r.logicalOr(p("a",t,e,n),p("b",t,e,n))];case"Select":case"SelectV2":return[r.where(p("condition",t,e,n),p("a",t,e,n),p("b",t,e,n))];case"BitwiseAnd":return[r.bitwiseAnd(p("a",t,e,n),p("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}}});var CO,_O=v(()=>{"use strict";rt();Be();CO=(t,e,n,r=pe)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(p("a",t,e,n),p("b",t,e,n),p("transposeA",t,e,n),p("transposeB",t,e,n))];case"Einsum":return[r.einsum(p("equation",t,e,n),...p("tensors",t,e,n))];case"Transpose":return[r.transpose(p("x",t,e,n),p("perm",t,e,n))];case"_FusedMatMul":let[o,s]=p("fusedOps",t,e,n),i=o==="biasadd",a=s==="prelu",u=p("numArgs",t,e,n),c=p("leakyreluAlpha",t,e,n);if(i){if(a&&u!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&u!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}let[l,f]=p("args",t,e,n);return[r.fused.matMul({a:p("a",t,e,n),b:p("b",t,e,n),transposeA:p("transposeA",t,e,n),transposeB:p("transposeB",t,e,n),bias:l,activation:s,preluActivationWeights:f,leakyreluAlpha:c})];case"MatrixBandPart":return[r.linalg.bandPart(p("a",t,e,n),p("numLower",t,e,n),p("numUpper",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}}});var AO,MO=v(()=>{"use strict";rt();Be();AO=(t,e,n,r=pe)=>{switch(t.op){case"EuclideanNorm":return[r.euclideanNorm(p("x",t,e,n),p("axis",t,e,n),p("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(p("x",t,e,n),p("mean",t,e,n),p("variance",t,e,n),p("offset",t,e,n),p("scale",t,e,n),p("epsilon",t,e,n))];case"FusedBatchNormV3":return[r.batchNorm(p("x",t,e,n),p("mean",t,e,n),p("variance",t,e,n),p("offset",t,e,n),p("scale",t,e,n),p("epsilon",t,e,n))];case"LRN":return[r.localResponseNormalization(p("x",t,e,n),p("radius",t,e,n),p("bias",t,e,n),p("alpha",t,e,n),p("beta",t,e,n))];case"Softmax":return[r.softmax(p("x",t,e,n))];case"LogSoftmax":return[r.logSoftmax(p("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}}});var kO,OO=v(()=>{"use strict";rt();Be();kO=(t,e,n,r=pe)=>{switch(t.op){case"RaggedGather":{let{outputNestedSplits:o,outputDenseValues:s}=r.raggedGather(p("paramsNestedSplits",t,e,n),p("paramsDenseValues",t,e,n),p("indices",t,e,n),p("outputRaggedRank",t,e,n));return o.concat(s)}case"RaggedRange":{let{rtNestedSplits:o,rtDenseValues:s}=r.raggedRange(p("starts",t,e,n),p("limits",t,e,n),p("splits",t,e,n));return[o,s]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(p("shape",t,e,n),p("values",t,e,n),p("defaultValue",t,e,n),p("rowPartitionTensors",t,e,n),p("rowPartitionTypes",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}}});var RO,FO=v(()=>{"use strict";rt();Be();RO=(t,e,n,r=pe)=>{switch(t.op){case"Max":{let a=p("axis",t,e,n),u=p("keepDims",t,e,n);return[r.max(p("x",t,e,n),a,u)]}case"Mean":{let a=p("axis",t,e,n),u=p("keepDims",t,e,n);return[r.mean(p("x",t,e,n),a,u)]}case"Min":{let a=p("axis",t,e,n),u=p("keepDims",t,e,n);return[r.min(p("x",t,e,n),a,u)]}case"Sum":{let a=p("axis",t,e,n),u=p("keepDims",t,e,n);return[r.sum(p("x",t,e,n),a,u)]}case"All":{let a=p("axis",t,e,n),u=p("keepDims",t,e,n);return[r.all(p("x",t,e,n),a,u)]}case"Any":{let a=p("axis",t,e,n),u=p("keepDims",t,e,n);return[r.any(p("x",t,e,n),a,u)]}case"ArgMax":{let a=p("axis",t,e,n);return[r.argMax(p("x",t,e,n),a)]}case"ArgMin":{let a=p("axis",t,e,n);return[r.argMin(p("x",t,e,n),a)]}case"Prod":{let a=p("axis",t,e,n),u=p("keepDims",t,e,n);return[r.prod(p("x",t,e,n),a,u)]}case"Cumprod":{let a=p("axis",t,e,n),u=p("exclusive",t,e,n),c=p("reverse",t,e,n);return[r.cumprod(p("x",t,e,n),a,u,c)]}case"Cumsum":{let a=p("axis",t,e,n),u=p("exclusive",t,e,n),c=p("reverse",t,e,n);return[r.cumsum(p("x",t,e,n),a,u,c)]}case"Bincount":let o=p("x",t,e,n),s=p("weights",t,e,n),i=p("size",t,e,n);return[r.bincount(o,s,i)];case"DenseBincount":{let a=p("x",t,e,n),u=p("weights",t,e,n),c=p("size",t,e,n),l=p("binaryOutput",t,e,n);return[r.denseBincount(a,u,c,l)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}}});var PO,$O=v(()=>{"use strict";Zt();rt();Be();PO=(t,e,n,r=pe)=>{switch(t.op){case"ConcatV2":case"Concat":{let o=p("n",t,e,n),s=p("axis",t,e,n),i=p("tensors",t,e,n);return i=i.slice(0,o),[r.concat(i,s)]}case"Gather":{let o=p("x",t,e,n),s=p("indices",t,e,n);return[r.gather(o,r.cast(s,"int32"),0)]}case"GatherV2":{let o=p("axis",t,e,n),s=p("batchDims",t,e,n),i=p("x",t,e,n),a=p("indices",t,e,n);return[r.gather(i,r.cast(a,"int32"),o,s)]}case"Reverse":{let o=p("dims",t,e,n),s=[];for(let a=0;a<o.length;a++)o[a]&&s.push(a);let i=p("x",t,e,n);return[r.reverse(i,s)]}case"ReverseV2":{let o=p("axis",t,e,n),s=p("x",t,e,n);return[r.reverse(s,o)]}case"Slice":{let o=p("begin",t,e,n),s=p("size",t,e,n);return[r.slice(p("x",t,e,n),o,s)]}case"StridedSlice":{let o=p("begin",t,e,n),s=p("end",t,e,n),i=p("strides",t,e,n),a=p("beginMask",t,e,n),u=p("endMask",t,e,n),c=p("ellipsisMask",t,e,n),l=p("newAxisMask",t,e,n),f=p("shrinkAxisMask",t,e,n),d=p("x",t,e,n);return[r.stridedSlice(d,o,s,i,a,u,c,l,f)]}case"Pack":return X(()=>{let o=p("axis",t,e,n),s=p("tensors",t,e,n),i=s[0].shape,a=r.squeeze(s[0]).shape,u=s.map(c=>{let l=R.arraysEqual(c.shape,i);if(!l&&!R.arraysEqual(r.squeeze(c).shape,a))throw new Error("the input tensors shape does not match");return l?c:r.reshape(c,i)});return[r.stack(u,o)]});case"Unpack":{let o=p("axis",t,e,n),s=p("tensor",t,e,n);return r.unstack(s,o)}case"Tile":{let o=p("reps",t,e,n);return[r.tile(p("x",t,e,n),o)]}case"Split":case"SplitV":{let o=p("axis",t,e,n),s=p("numOrSizeSplits",t,e,n),i=p("x",t,e,n);return r.split(i,s,o)}case"ScatterNd":{let o=p("indices",t,e,n),s=p("values",t,e,n),i=p("shape",t,e,n);return[r.scatterND(o,s,i)]}case"GatherNd":{let o=p("x",t,e,n),s=p("indices",t,e,n);return[r.gatherND(o,s)]}case"SparseToDense":{let o=p("sparseIndices",t,e,n),s=p("outputShape",t,e,n),i=p("sparseValues",t,e,n),a=p("defaultValue",t,e,n);return[r.sparseToDense(o,i,s,i.dtype===a.dtype?a:r.cast(a,i.dtype))]}case"TensorScatterUpdate":{let o=p("indices",t,e,n),s=p("values",t,e,n),i=p("tensor",t,e,n);return[r.tensorScatterUpdate(i,o,s)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}}});var LO,BO=v(()=>{"use strict";rt();Be();LO=(t,e,n,r=pe)=>{switch(t.op){case"SparseFillEmptyRows":{let{outputIndices:o,outputValues:s,emptyRowIndicator:i,reverseIndexMap:a}=r.sparse.sparseFillEmptyRows(p("indices",t,e,n),p("values",t,e,n),p("denseShape",t,e,n),p("defaultValue",t,e,n));return[o,s,i,a]}case"SparseReshape":{let{outputIndices:o,outputShape:s}=r.sparse.sparseReshape(p("inputIndices",t,e,n),p("inputShape",t,e,n),p("newShape",t,e,n));return[o,s]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(p("data",t,e,n),p("indices",t,e,n),p("segmentIds",t,e,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(p("data",t,e,n),p("indices",t,e,n),p("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}}});var VO,jO=v(()=>{"use strict";rt();Be();VO=(t,e,n,r=pe)=>{switch(t.op){case"FFT":return[r.fft(p("x",t,e,n))];case"IFFT":return[r.ifft(p("x",t,e,n))];case"RFFT":return[r.rfft(p("x",t,e,n))];case"IRFFT":return[r.irfft(p("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}}});var UO,HO=v(()=>{"use strict";rt();Be();UO=(t,e,n,r=pe)=>{switch(t.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(p("input",t,e,n),p("pattern",t,e,n),p("rewrite",t,e,n),p("replaceGlobal",t,e,n))];case"StringNGrams":{let{nGrams:o,nGramsSplits:s}=r.string.stringNGrams(p("data",t,e,n),p("dataSplits",t,e,n),p("separator",t,e,n),p("nGramWidths",t,e,n),p("leftPad",t,e,n),p("rightPad",t,e,n),p("padWidth",t,e,n),p("preserveShortSequences",t,e,n));return[o,s]}case"StringSplit":{let{indices:o,values:s,shape:i}=r.string.stringSplit(p("input",t,e,n),p("delimiter",t,e,n),p("skipEmpty",t,e,n));return[o,s,i]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(p("input",t,e,n),p("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}}});var zO,GO=v(()=>{"use strict";rt();Be();zO=(t,e,n,r=pe)=>{switch(t.op){case"Cast":return[r.cast(p("x",t,e,n),p("dtype",t,e,n))];case"ExpandDims":{let o=p("axis",t,e,n);return[r.expandDims(p("x",t,e,n),o)]}case"Squeeze":{let o=p("axis",t,e,n);return[r.squeeze(p("x",t,e,n),o)]}case"Reshape":return[r.reshape(p("x",t,e,n),p("shape",t,e,n))];case"EnsureShape":return[r.ensureShape(p("x",t,e,n),p("shape",t,e,n))];case"MirrorPad":return[r.mirrorPad(p("x",t,e,n),p("padding",t,e,n),p("mode",t,e,n))];case"PadV2":case"Pad":return[r.pad(p("x",t,e,n),p("padding",t,e,n),p("constantValue",t,e,n))];case"SpaceToBatchND":{let o=p("blockShape",t,e,n),s=p("paddings",t,e,n);return[r.spaceToBatchND(p("x",t,e,n),o,s)]}case"BatchToSpaceND":{let o=p("blockShape",t,e,n),s=p("crops",t,e,n);return[r.batchToSpaceND(p("x",t,e,n),o,s)]}case"DepthToSpace":{let o=p("blockSize",t,e,n),s=p("dataFormat",t,e,n).toUpperCase();return[r.depthToSpace(p("x",t,e,n),o,s)]}case"BroadcastTo":return[r.broadcastTo(p("x",t,e,n),p("shape",t,e,n))];case"BroadcastArgs":return[r.broadcastArgs(p("s0",t,e,n),p("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}}});function $x(t,e,n,r,o=X){let s=((i,a,u)=>{switch(i.category){case"arithmetic":return o(()=>Qk(i,a,u));case"basic_math":return o(()=>Jk(i,a,u));case"control":return uO(i,a,u);case"convolution":return o(()=>fO(i,a,u));case"creation":return o(()=>pO(i,a,u));case"dynamic":return mO(i,a,u);case"evaluation":return o(()=>yO(i,a,u));case"image":return o(()=>IO(i,a,u));case"graph":return o(()=>wO(i,a,u));case"logical":return o(()=>NO(i,a,u));case"matrices":return o(()=>CO(i,a,u));case"normalization":return o(()=>AO(i,a,u));case"ragged":return o(()=>kO(i,a,u));case"reduction":return o(()=>RO(i,a,u));case"slice_join":return o(()=>PO(i,a,u));case"sparse":return o(()=>LO(i,a,u));case"spectral":return o(()=>VO(i,a,u));case"string":return o(()=>UO(i,a,u));case"transformation":return o(()=>zO(i,a,u));case"hash_table":return xO(i,a,u,r);case"custom":let c=Id(i.op);if(c&&c.customExecutor)return c.customExecutor(new $d(i,a,u));throw TypeError(`Custom op ${i.op} is not registered.`);default:throw TypeError(`Unknown op '${i.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return R.isPromise(s)?s.then(i=>[].concat(i)):[].concat(s)}var qO=v(()=>{"use strict";Zt();Yk();Td();Xk();eO();cO();dO();hO();gO();vO();bO();DO();TO();SO();_O();MO();OO();FO();$O();BO();jO();HO();GO();});var bc,WO=v(()=>{"use strict";bc=class{constructor(e={},n={},r={},o={},s){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=o,this.parseNodeNameCache=s,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){let e=[];for(let n=0;n<this.contexts.length-1;n++){let r=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;let e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(let n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(let n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}});function Lx(t,e,n,r){let o=new Set,s=[],i=null,a=null,u=new Set,c=new Set(Object.keys(t).map(d=>kt(d)[0]));r=r||[];let l=new Set(r.map(d=>kt(d.name)[0])),f=[...e];for(;f.length>0;){let d=f.pop();if((Mo(d)||uG(d)||cG(d))&&i==null&&(i=d,a=i.children.map(g=>g.name).filter(g=>o.has(g))),o.add(d.name),n[d.name]==null&&!c.has(d.name)&&!l.has(d.name)){if(d.inputs.length===0){s.push(d.name);continue}d.inputs.forEach(g=>{u.has(g.name)||(u.add(g.name),f.push(g))})}}return{inputs:t,outputs:e,usedNodes:o,missingInputs:s,dynamicNode:i,syncInputs:a}}function KO(t,e){let{usedNodes:n,inputs:r}=e,o=Object.keys(r).map(x=>kt(x)[0]).map(x=>t.nodes[x]),s=t.initNodes||[],i=x=>n.has(typeof x=="string"?x:x.name);function a(x){return[...new Map(x.map(N=>[N.name,N])).values()]}let u=a([...o,...t.weights,...s]).filter(i),c=a([...u,...Object.values(t.nodes)]).filter(i),l=new Map(c.map(x=>[x.name,x])),f={};for(let x of c){f[x.name]=f[x.name]||0;for(let N of x.children)i(N)||(f[N.name]=Number.POSITIVE_INFINITY),f[N.name]=(f[N.name]||0)+1}let d=Object.entries(f).filter(([,x])=>x===0).map(([x])=>x),g=[...d];for(;d.length>0;){let x=d.pop(),N=l.get(x);for(let P of N.children.filter(i))--f[P.name]===0&&(g.push(P.name),d.push(P.name))}let b=g.map(x=>l.get(x)),E=rG(b,u);return oG(E,u),E}function rG(t,e){let n=new Map(t.map(i=>[i.name,i])),r=e.map(i=>i.name),o=new Set(r);for(;r.length>0;){let i=r.pop(),a=n.get(i);for(let u of a.children)!n.has(u.name)||o.has(u.name)||(o.add(u.name),r.push(u.name))}return t.filter(i=>o.has(i.name))}function oG(t,e){let n=new Map(t.map((a,u)=>[a.name,u])),r=new Set(e.map(a=>a.name)),o=a=>r.has(typeof a=="string"?a:a.name),s=new Set(t.map(a=>a.name)),i=a=>s.has(typeof a=="string"?a:a.name);for(let a of t){for(let u of a.children.filter(i)){if(!n.has(u.name))throw new sa(`Child ${u.name} of node ${a.name} is unreachable.`);if(n.get(a.name)>n.get(u.name))throw new sa(`Node ${a.name} is scheduled to run after its child ${u.name}.`)}if(!o(a))for(let u of a.inputs){if(!n.has(u.name))throw new sa(`Input ${u.name} of node ${a.name} is unreachable.`);if(n.get(u.name)>n.get(a.name))throw new sa(`Node ${a.name} is scheduled to run before its input ${u.name}.`)}}}function ZO(t){let e=new Map(t.map((a,u)=>[a.name,u])),n=Number.MAX_SAFE_INTEGER,r=t.map((a,u)=>Mo(a)?n:u),o=a=>{let u=r[e.get(a.name)];return u??-1},s=t.map((a,u)=>a.children.map(o).reduce((c,l)=>Math.max(c,l),r[u])),i=new Map;for(let a=0;a<t.length;++a){let u=s[a];if(u===n)continue;let c=t[a],l=t[u];i.has(l.name)||i.set(l.name,[]),i.get(l.name).push(c)}return i}function Mo(t){return sG.has(t.op)}function uG(t){return iG.has(t.op)}function cG(t){return aG.has(t.op)}var sa,sG,iG,aG,YO=v(()=>{"use strict";Be();sa=class extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}};sG=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),iG=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),aG=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"])});var Ec,QO=v(()=>{"use strict";Zt();Be();qO();WO();YO();Ec=class t{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){let n=Object.keys(e).map(r=>e[r].map(o=>o.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{let n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(r=>{this._functionExecutorMap[r]=new t(e.functions[r],this)})}getCompilationKey(e,n){let r=e.map(s=>s.name).sort(),o=n.map(s=>s.name).sort();return r.join(this.SEPARATOR)+"--"+o.join(this.SEPARATOR)}compile(e,n){let r=Lx(e,n,this.weightMap,this._initNodes),{missingInputs:o,dynamicNode:s,syncInputs:i}=r;if(s!=null)throw new Error(`This execution contains the node '${s.name}', which has the dynamic op '${s.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${i}]`);if(o.length>0){let c=n.map(f=>f.name),l=Object.keys(e);throw new Error(`Cannot compute the outputs [${c}] from the provided inputs [${l}]. Missing the following inputs: [${o}]`)}let a=KO(this.graph,r),u=ZO(a);return{orderedNodes:a,nodeLiveUntilMap:u}}cloneAndKeepTensor(e){if(e==null)return null;let n=e.clone();return At(n),n}cloneTensorList(e){return e?e.map(r=>this.cloneAndKeepTensor(r)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,this.cloneTensorList(r)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);let r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);let o=r.map(d=>this.graph.nodes[kt(d)[0]]),s=n.map(d=>kt(d)[0]),i=new Set(s),a=s.map(d=>this.graph.nodes[d]);a.length===0&&(a=this._outputs);let u=this.getCompilationKey(o,a),c=this.compiledMap.get(u);c==null&&(c=this.compile(e,a),this.compiledMap.set(u,c));try{this.keepIntermediateTensors=B().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}let l={},f={};return X(()=>{let d=new bc(this.weightMap,l,f,this.functionExecutorMap,this.parseNodeNameCache),g=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(N=>{let[P,_]=kt(N,d),M=[];M[_]=e[N],g[P]=M,this.keepIntermediateTensors&&(this.clonedTensorsMap[P]=this.cloneTensorList(M))});let b=this.getFrozenTensorIds(g),{orderedNodes:E,nodeLiveUntilMap:x}=c;for(let N of E){if(g[N.name])continue;let P=$x(N,g,d,this._resourceManager);if(R.isPromise(P))throw new Error(`The execution of the op '${N.op}' returned a promise. Please use model.executeAsync() instead.`);g[N.name]=P,this.keepIntermediateTensors&&(this.clonedTensorsMap[N.name]=this.cloneTensorList(P)),this.checkTensorForDisposalWithNodeLiveUntilInfo(N,g,d,b,i,x.get(N.name))}return this.parent==null&&d.dispose(b),n.map(N=>He(N,g,d))})}getFrozenTensorIds(e){let n=[].concat.apply([],Object.keys(e).map(r=>e[r]).map(r=>r.map(o=>o.id)));return new Set(n)}checkTensorForDisposal(e,n,r,o,s,i,a){if(!(Mo(n)||i.has(e))){for(let u of r[e])u!=null&&(a[u.id]=(a[u.id]||0)+n.children.length);for(let u of n.inputs){if(Mo(u))continue;let c=px(u.name,r,o);if(c!=null)for(let l of c){if(!l||l.kept||s.has(l.id))continue;let f=a[l.id];f===1?(l.dispose(),delete a[l.id]):f!=null&&a[l.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,r,o,s,i){function a(u){return Mo(u)||s.has(u.name)}if(!(Mo(e)||i==null))for(let u of i){if(a(u))continue;let c=px(u.name,n,r);for(let l of c)!l||l.kept||o.has(l.id)||l.dispose()}}executeAsync(e,n){return k(this,null,function*(){return this._executeAsync(e,n)})}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(let n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}_executeAsync(i,a){return k(this,arguments,function*(e,n,r=!1,o={},s={}){this.disposeIntermediateTensors(),r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=B().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(b){this.keepIntermediateTensors=!1,console.warn(b.message)}let u=new bc(this.weightMap,o,s,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));let c=yield this.executeWithControlFlow(e,u,n,r),l=n.map(b=>He(b,c,u)),f=l.map(b=>b.id),d=Object.keys(e).map(b=>e[b].id),g=new Set([...f,...d,...this.weightIds]);return Object.values(c).forEach(b=>{b.forEach(E=>{E&&!E.isDisposed&&!g.has(E.id)&&E.dispose()})}),this.parent==null&&u.dispose(g),l})}executeFunctionAsync(e,n,r){return k(this,null,function*(){let o=e.reduce((s,i,a)=>(s[this.inputs[a].name]=i,s),{});return this._executeAsync(o,this.outputNodes,!0,n,r)})}executeWithControlFlow(e,n,r,o){return k(this,null,function*(){let s=Object.keys(e),i=s.map(M=>this.graph.nodes[kt(M)[0]]),a=r.map(M=>kt(M)[0]),u=new Set(a),c=a.map(M=>this.graph.nodes[M]);c.length===0&&(c=this._outputs);let{usedNodes:l,missingInputs:f,dynamicNode:d,syncInputs:g}=Lx(e,c,this.weightMap,this._initNodes),b=[...i,...this.graph.weights,...this._initNodes||[]].map(M=>({node:M,contexts:n.currentContext})),E=Object.assign({},this.weightMap);Object.keys(e).forEach(M=>{let[L,F]=kt(M),j=[];j[F]=e[M],E[L]=j});let x={},N=this.getFrozenTensorIds(E),P={};for(;b.length>0;){let M=this.processStack(i,b,n,E,P,N,u,x,l);yield Promise.all(M)}d==null&&!o&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");let _=c.filter(M=>!Mo(M)&&!He(M.name,E,n)).map(M=>M.name);if(_.length>0){let M="";throw d!=null&&(M=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${g}]`),new Error(`Cannot compute the outputs [${_}] from the provided inputs [${s}]. Consider providing the following inputs: [${f}]. ${M}`)}return E})}processStack(e,n,r,o,s,i,a,u,c){let l=[];for(;n.length>0;){let f=n.pop();r.currentContext=f.contexts;let d="";if(f.node.op==="Enter"&&p("isConstant",f.node,o,r)&&([d]=zn(f.node.name,r)),o[f.node.name]==null){let g=$x(f.node,o,r,this._resourceManager);d||([d]=zn(f.node.name,r));let b=r.currentContext;R.isPromise(g)?l.push(g.then(E=>(o[d]=E,this.keepIntermediateTensors&&(this.clonedTensorsMap[d]=this.cloneTensorList(E)),r.currentContext=b,this.checkTensorForDisposal(d,f.node,o,r,i,a,u),this.processChildNodes(f.node,n,r,o,s,c),E))):(o[d]=g,this.keepIntermediateTensors&&(this.clonedTensorsMap[d]=this.cloneTensorList(g)),this.checkTensorForDisposal(d,f.node,o,r,i,a,u),this.processChildNodes(f.node,n,r,o,s,c))}else this.processChildNodes(f.node,n,r,o,s,c)}return l}processChildNodes(e,n,r,o,s,i){e.children.forEach(a=>{let[u]=zn(a.name,r);s[u]||!i.has(a.name)||(a.op==="Merge"?a.inputNames.some(c=>!!He(c,o,r))&&(s[u]=!0,n.push({contexts:r.currentContext,node:a})):a.inputNames.every(c=>!!He(c,o,r))&&(s[u]=!0,n.push({contexts:r.currentContext,node:a})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{let r=e[n],[o]=kt(n),s=this.graph.nodes[o];if(s.attrParams.shape&&s.attrParams.shape.value){let i=s.attrParams.shape.value,a=i.length===r.shape.length&&r.shape.every((u,c)=>i[c]===-1||i[c]===u);R.assert(a,()=>`The shape of dict['${s.name}'] provided in model.execute(dict) must be [${i}], but was [${r.shape}]`)}s.attrParams.dtype&&s.attrParams.dtype.value&&R.assert(r.dtype===s.attrParams.dtype.value,()=>`The dtype of dict['${s.name}'] provided in model.execute(dict) must be ${s.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(e){var n,r;let o={};for(let s in e){let i=(r=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||r===void 0?void 0:r[s];i!=null?o[i.name]=e[s]:o[s]=e[s]}return o}checkInputs(e){let n=Object.keys(e).filter(r=>{let[o]=kt(r);return this.graph.nodes[o]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var r,o;let s=(o=(r=this._signature)===null||r===void 0?void 0:r.outputs)===null||o===void 0?void 0:o[n];return s!=null?s.name:n},{})}checkOutputs(e){e.forEach(n=>{let[r]=kt(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}});var jd,XO=v(()=>{"use strict";jd=class{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(let e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(let e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}});function JO(r){return k(this,arguments,function*(t,e={},n=gr){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=dG(t));let o=new ia(t,e,n);return yield o.load(),o})}function eR(t){if(t==null)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide model artifacts or an IOHandler that loads the model");let e;if(t instanceof Array){let[r,o]=t;if(!r)throw new Error("modelJSON must be the first element of the array");if(!o||!(o instanceof ArrayBuffer))throw new Error("An ArrayBuffer of weights must be the second element of the array");if(!("modelTopology"in r))throw new Error("Model JSON is missing 'modelTopology'");if(!("weightsManifest"in r))throw new Error("Model JSON is missing 'weightsManifest'");let s=gr.getWeightSpecs(r.weightsManifest),i=gr.getModelArtifactsForJSONSync(r,s,o);e=gr.fromMemorySync(i)}else if("load"in t)e=t;else if("modelTopology"in t&&"weightSpecs"in t&&"weightData"in t)e=gr.fromMemorySync(t);else throw new Error("Unknown model format");let n=new ia(e);return n.load(),n}function dG(t){return t.endsWith("/")||(t=t+"/"),`${t}${fG}${lG}`}var lG,fG,ia,tR=v(()=>{"use strict";Zt();Rx();QO();XO();mo();lG="?tfjs-format=file",fG="model.json",ia=class{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},r=gr){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new jd}findIOHandler(){let e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{let n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");let e=this.handler.load();return R.isPromise(e)?e.then(n=>n.getWeightStream==null?this.loadSync(n):this.loadStreaming(n)):this.loadSync(e)}loadSync(e){let n=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,n)}loadStreaming(e){return k(this,null,function*(){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");let n=yield Tf(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,n)})}loadWithWeightMap(e,n){this.artifacts=e;let r=this.artifacts.modelTopology,o=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){let s=this.artifacts.userDefinedMetadata;s.signature!=null&&(o=s.signature),s.structuredOutputKeys!=null&&(this.structuredOutputKeys=s.structuredOutputKeys)}if(this.signature=o,this.version=`${r.versions.producer}.${r.versions.minConsumer}`,this.executor=new Ec(wc.Instance.transformGraph(r,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){let s=wc.Instance.transformGraph(e.modelInitializer);this.initializer=new Ec(s),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}save(e,n){return k(this,null,function*(){if(typeof e=="string"){let r=this.io.getSaveHandlers(e);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${e}'`);e=r[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)})}addStructuredOutputNames(e){if(this.structuredOutputKeys){let n=e instanceof xe?[e]:e,r={};return n.forEach((o,s)=>r[this.structuredOutputKeys[s]]=o),r}return e}predict(e,n){let r=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(r)}predictAsync(e,n){return k(this,null,function*(){let r=yield this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(r)})}normalizeInputs(e){var n;if(!(e instanceof xe)&&!Array.isArray(e)){let s=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(s!=null)for(let i in s){let a=s[i];a.resourceId!=null&&(e[i]=this.resourceIdToCapturedInput[a.resourceId])}return e}e=Array.isArray(e)?e:[e];let r=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+r!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-r} non-resource placeholders, while there are ${e.length} input tensors provided.`);let o=0;return this.inputNodes.reduce((s,i)=>{var a,u,c;let l=(c=(u=(a=this.signature)===null||a===void 0?void 0:a.inputs)===null||u===void 0?void 0:u[i])===null||c===void 0?void 0:c.resourceId;return l!=null?s[i]=this.resourceIdToCapturedInput[l]:s[i]=e[o++],s},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}executeInitializerGraphAsync(){return k(this,null,function*(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))})}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){let n=this.initializerSignature.outputs,r=Object.keys(n);for(let o=0;o<r.length;o++){let s=r[o],i=n[s];this.resourceIdToCapturedInput[i.resourceId]=e[o]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);let r=this.executor.execute(e,n);return r.length>1?r:r[0]}executeAsync(e,n){return k(this,null,function*(){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(yield this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);let r=yield this.executor.executeAsync(e,n);return r.length>1?r:r[0]})}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,r)=>(n[r]=[e[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&$e(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}});var nR,rR=v(()=>{"use strict";nR="4.17.0"});var oR={};le(oR,{GraphModel:()=>ia,deregisterOp:()=>Sk,loadGraphModel:()=>JO,loadGraphModelSync:()=>eR,registerOp:()=>Nk,version_converter:()=>nR});var sR=v(()=>{"use strict";Dk();tR();Td();rR();});var aR=Xt((Ud,iR)=>{"use strict";(function(t,e){typeof Ud=="object"&&typeof iR<"u"?e(Ud,(sR(),Hx(oR)),(Zt(),Hx(fx))):typeof define=="function"&&define.amd?define(["exports","@tensorflow/tfjs-converter","@tensorflow/tfjs-core"],e):e((t=t||self).cocoSsd=t.cocoSsd||{},t.tf,t.tf)})(Ud,function(t,e,n){"use strict";let r={1:{name:"/m/01g317",id:1,displayName:"person"},2:{name:"/m/0199g",id:2,displayName:"bicycle"},3:{name:"/m/0k4j",id:3,displayName:"car"},4:{name:"/m/04_sv",id:4,displayName:"motorcycle"},5:{name:"/m/05czz6l",id:5,displayName:"airplane"},6:{name:"/m/01bjv",id:6,displayName:"bus"},7:{name:"/m/07jdr",id:7,displayName:"train"},8:{name:"/m/07r04",id:8,displayName:"truck"},9:{name:"/m/019jd",id:9,displayName:"boat"},10:{name:"/m/015qff",id:10,displayName:"traffic light"},11:{name:"/m/01pns0",id:11,displayName:"fire hydrant"},13:{name:"/m/02pv19",id:13,displayName:"stop sign"},14:{name:"/m/015qbp",id:14,displayName:"parking meter"},15:{name:"/m/0cvnqh",id:15,displayName:"bench"},16:{name:"/m/015p6",id:16,displayName:"bird"},17:{name:"/m/01yrx",id:17,displayName:"cat"},18:{name:"/m/0bt9lr",id:18,displayName:"dog"},19:{name:"/m/03k3r",id:19,displayName:"horse"},20:{name:"/m/07bgp",id:20,displayName:"sheep"},21:{name:"/m/01xq0k1",id:21,displayName:"cow"},22:{name:"/m/0bwd_0j",id:22,displayName:"elephant"},23:{name:"/m/01dws",id:23,displayName:"bear"},24:{name:"/m/0898b",id:24,displayName:"zebra"},25:{name:"/m/03bk1",id:25,displayName:"giraffe"},27:{name:"/m/01940j",id:27,displayName:"backpack"},28:{name:"/m/0hnnb",id:28,displayName:"umbrella"},31:{name:"/m/080hkjn",id:31,displayName:"handbag"},32:{name:"/m/01rkbr",id:32,displayName:"tie"},33:{name:"/m/01s55n",id:33,displayName:"suitcase"},34:{name:"/m/02wmf",id:34,displayName:"frisbee"},35:{name:"/m/071p9",id:35,displayName:"skis"},36:{name:"/m/06__v",id:36,displayName:"snowboard"},37:{name:"/m/018xm",id:37,displayName:"sports ball"},38:{name:"/m/02zt3",id:38,displayName:"kite"},39:{name:"/m/03g8mr",id:39,displayName:"baseball bat"},40:{name:"/m/03grzl",id:40,displayName:"baseball glove"},41:{name:"/m/06_fw",id:41,displayName:"skateboard"},42:{name:"/m/019w40",id:42,displayName:"surfboard"},43:{name:"/m/0dv9c",id:43,displayName:"tennis racket"},44:{name:"/m/04dr76w",id:44,displayName:"bottle"},46:{name:"/m/09tvcd",id:46,displayName:"wine glass"},47:{name:"/m/08gqpm",id:47,displayName:"cup"},48:{name:"/m/0dt3t",id:48,displayName:"fork"},49:{name:"/m/04ctx",id:49,displayName:"knife"},50:{name:"/m/0cmx8",id:50,displayName:"spoon"},51:{name:"/m/04kkgm",id:51,displayName:"bowl"},52:{name:"/m/09qck",id:52,displayName:"banana"},53:{name:"/m/014j1m",id:53,displayName:"apple"},54:{name:"/m/0l515",id:54,displayName:"sandwich"},55:{name:"/m/0cyhj_",id:55,displayName:"orange"},56:{name:"/m/0hkxq",id:56,displayName:"broccoli"},57:{name:"/m/0fj52s",id:57,displayName:"carrot"},58:{name:"/m/01b9xk",id:58,displayName:"hot dog"},59:{name:"/m/0663v",id:59,displayName:"pizza"},60:{name:"/m/0jy4k",id:60,displayName:"donut"},61:{name:"/m/0fszt",id:61,displayName:"cake"},62:{name:"/m/01mzpv",id:62,displayName:"chair"},63:{name:"/m/02crq1",id:63,displayName:"couch"},64:{name:"/m/03fp41",id:64,displayName:"potted plant"},65:{name:"/m/03ssj5",id:65,displayName:"bed"},67:{name:"/m/04bcr3",id:67,displayName:"dining table"},70:{name:"/m/09g1w",id:70,displayName:"toilet"},72:{name:"/m/07c52",id:72,displayName:"tv"},73:{name:"/m/01c648",id:73,displayName:"laptop"},74:{name:"/m/020lf",id:74,displayName:"mouse"},75:{name:"/m/0qjjc",id:75,displayName:"remote"},76:{name:"/m/01m2v",id:76,displayName:"keyboard"},77:{name:"/m/050k8",id:77,displayName:"cell phone"},78:{name:"/m/0fx9l",id:78,displayName:"microwave"},79:{name:"/m/029bxz",id:79,displayName:"oven"},80:{name:"/m/01k6s3",id:80,displayName:"toaster"},81:{name:"/m/0130jx",id:81,displayName:"sink"},82:{name:"/m/040b_t",id:82,displayName:"refrigerator"},84:{name:"/m/0bt_c3",id:84,displayName:"book"},85:{name:"/m/01x3z",id:85,displayName:"clock"},86:{name:"/m/02s195",id:86,displayName:"vase"},87:{name:"/m/01lsmm",id:87,displayName:"scissors"},88:{name:"/m/0kmg4",id:88,displayName:"teddy bear"},89:{name:"/m/03wvsk",id:89,displayName:"hair drier"},90:{name:"/m/012xff",id:90,displayName:"toothbrush"}};class o{constructor(i,a){this.modelPath=a||`https://storage.googleapis.com/tfjs-models/savedmodel/${this.getPrefix(i)}/model.json`}getPrefix(i){return i==="lite_mobilenet_v2"?`ssd${i}`:`ssd_${i}`}load(){return k(this,null,function*(){this.model=yield e.loadGraphModel(this.modelPath);let i=n.zeros([1,300,300,3],"int32"),a=yield this.model.executeAsync(i);yield Promise.all(a.map(u=>u.data())),a.map(u=>u.dispose()),i.dispose()})}infer(i,a,u){return k(this,null,function*(){let c=n.tidy(()=>(i instanceof n.Tensor||(i=n.browser.fromPixels(i)),n.expandDims(i))),l=c.shape[1],f=c.shape[2],d=yield this.model.executeAsync(c),g=d[0].dataSync(),b=d[1].dataSync();c.dispose(),n.dispose(d);let[E,x]=this.calculateMaxScores(g,d[0].shape[1],d[0].shape[2]),N=n.getBackend();n.getBackend()==="webgl"&&n.setBackend("cpu");let P=n.tidy(()=>{let M=n.tensor2d(b,[d[1].shape[1],d[1].shape[3]]);return n.image.nonMaxSuppression(M,E,a,u,u)}),_=P.dataSync();return P.dispose(),N!==n.getBackend()&&n.setBackend(N),this.buildDetectedObjects(f,l,b,E,_,x)})}buildDetectedObjects(i,a,u,c,l,f){let d=l.length,g=[];for(let b=0;b<d;b++){let E=[];for(let M=0;M<4;M++)E[M]=u[4*l[b]+M];let x=E[0]*a,N=E[1]*i,P=E[2]*a,_=E[3]*i;E[0]=N,E[1]=x,E[2]=_-N,E[3]=P-x,g.push({bbox:E,class:r[f[l[b]]+1].displayName,score:c[l[b]]})}return g}calculateMaxScores(i,a,u){let c=[],l=[];for(let f=0;f<a;f++){let d=Number.MIN_VALUE,g=-1;for(let b=0;b<u;b++)i[f*u+b]>d&&(d=i[f*u+b],g=b);c[f]=d,l[f]=g}return[c,l]}detect(i,a=20,u=.5){return k(this,null,function*(){return this.infer(i,a,u)})}dispose(){this.model!=null&&this.model.dispose()}}t.ObjectDetection=o,t.load=function(){return k(this,arguments,function*(s={}){if(n==null)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");let i=s.base||"lite_mobilenet_v2",a=s.modelUrl;if(["mobilenet_v1","mobilenet_v2","lite_mobilenet_v2"].indexOf(i)===-1)throw new Error(`ObjectDetection constructed with invalid base model ${i}. Valid names are 'mobilenet_v1', 'mobilenet_v2' and 'lite_mobilenet_v2'.`);let u=new o(i,a);return yield u.load(),u})},t.version="2.2.3",Object.defineProperty(t,"__esModule",{value:!0})})});var zx=null,xc=!1,zd=1,qd=Symbol("SIGNAL");function Ie(t){let e=zx;return zx=t,e}function vR(){return xc}var Wd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wR(t){if(!(Xd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===zd)){if(!t.producerMustRecompute(t)&&!Ic(t)){t.dirty=!1,t.lastCleanEpoch=zd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=zd}}function bR(t){if(t.liveConsumerNode===void 0)return;let e=xc;xc=!0;try{for(let n of t.liveConsumerNode)n.dirty||Gx(n)}finally{xc=e}}function Gx(t){t.dirty=!0,bR(t),t.consumerMarkedDirty?.(t)}function Kd(t){return t&&(t.nextProducerIndex=0),Ie(t)}function Zd(t,e){if(Ie(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Xd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Qd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ic(t){Dc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(wR(n),r!==n.version))return!0}return!1}function Yd(t){if(Dc(t),Xd(t))for(let e=0;e<t.producerNode.length;e++)Qd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Qd(t,e){if(ER(t),Dc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Qd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];Dc(o),o.producerIndexOfThis[r]=e}}function Xd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Dc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ER(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function xR(){throw new Error}var DR=xR;function qx(t){DR=t}function Wx(t,e,n){let r=Object.create(IR);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let o=u=>{r.cleanupFn=u};function s(u){return u.fn===null&&u.schedule===null}function i(u){s(u)||(Yd(u),u.cleanupFn(),u.fn=null,u.schedule=null,u.cleanupFn=Gd)}let a=()=>{if(r.fn===null)return;if(vR())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Ic(r))return;r.hasRun=!0;let u=Kd(r);try{r.cleanupFn(),r.cleanupFn=Gd,r.fn(o)}finally{Zd(r,u)}};return r.ref={notify:()=>Gx(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>i(r),[qd]:r},r.ref}var Gd=()=>{},IR=qe(G({},Wd),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Gd});function oe(t){return typeof t=="function"}function $s(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Tc=$s(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ua(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ot=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(s){e=s instanceof Tc?s.errors:[s]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let s of o)try{Kx(s)}catch(i){e=e??[],i instanceof Tc?e=[...e,...i.errors]:e.push(i)}}if(e)throw new Tc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Kx(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ua(n,e)}remove(e){let{_finalizers:n}=this;n&&ua(n,e),e instanceof t&&e._removeParent(this)}};ot.EMPTY=(()=>{let t=new ot;return t.closed=!0,t})();var Jd=ot.EMPTY;function Nc(t){return t instanceof ot||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function Kx(t){oe(t)?t():t.unsubscribe()}var En={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ls={setTimeout(t,e,...n){let{delegate:r}=Ls;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ls;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Sc(t){Ls.setTimeout(()=>{let{onUnhandledError:e}=En;if(e)e(t);else throw t})}function ca(){}var Zx=ep("C",void 0,void 0);function Yx(t){return ep("E",void 0,t)}function Qx(t){return ep("N",t,void 0)}function ep(t,e,n){return{kind:t,value:e,error:n}}var ko=null;function Bs(t){if(En.useDeprecatedSynchronousErrorHandling){let e=!ko;if(e&&(ko={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ko;if(ko=null,n)throw r}}else t()}function Xx(t){En.useDeprecatedSynchronousErrorHandling&&ko&&(ko.errorThrown=!0,ko.error=t)}var Oo=class extends ot{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Nc(e)&&e.add(this)):this.destination=SR}static create(e,n,r){return new Vs(e,n,r)}next(e){this.isStopped?np(Qx(e),this):this._next(e)}error(e){this.isStopped?np(Yx(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?np(Zx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TR=Function.prototype.bind;function tp(t,e){return TR.call(t,e)}var rp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Cc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Cc(r)}else Cc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Cc(n)}}},Vs=class extends Oo{constructor(e,n,r){super();let o;if(oe(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&En.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&tp(e.next,s),error:e.error&&tp(e.error,s),complete:e.complete&&tp(e.complete,s)}):o=e}this.destination=new rp(o)}};function Cc(t){En.useDeprecatedSynchronousErrorHandling?Xx(t):Sc(t)}function NR(t){throw t}function np(t,e){let{onStoppedNotification:n}=En;n&&Ls.setTimeout(()=>n(t,e))}var SR={closed:!0,next:ca,error:NR,complete:ca};var js=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Jt(t){return t}function op(...t){return sp(t)}function sp(t){return t.length===0?Jt:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var Se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let s=_R(n)?n:new Vs(n,r,o);return Bs(()=>{let{operator:i,source:a}=this;s.add(i?i.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Jx(r),new r((o,s)=>{let i=new Vs({next:a=>{try{n(a)}catch(u){s(u),i.unsubscribe()}},error:s,complete:o});this.subscribe(i)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[js](){return this}pipe(...n){return sp(n)(this)}toPromise(n){return n=Jx(n),new n((r,o)=>{let s;this.subscribe(i=>s=i,i=>o(i),()=>r(s))})}}return t.create=e=>new t(e),t})();function Jx(t){var e;return(e=t??En.Promise)!==null&&e!==void 0?e:Promise}function CR(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}function _R(t){return t&&t instanceof Oo||CR(t)&&Nc(t)}function ip(t){return oe(t?.lift)}function ve(t){return e=>{if(ip(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(t,e,n,r,o){return new ap(t,e,n,r,o)}var ap=class extends Oo{constructor(e,n,r,o,s,i){super(e),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Us(){return ve((t,e)=>{let n=null;t._refCount++;let r=we(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,s=n;n=null,o&&(!s||o===s)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Hs=class extends Se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ip(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ot;let n=this.getSubject();e.add(this.source.subscribe(we(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ot.EMPTY)}return e}refCount(){return Us()(this)}};var eD=$s(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ot=(()=>{class t extends Se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new _c(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new eD}next(n){Bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:s}=this;return r||o?Jd:(this.currentObservers=null,s.push(n),new ot(()=>{this.currentObservers=null,ua(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:s}=this;r?n.error(o):s&&n.complete()}asObservable(){let n=new Se;return n.source=this,n}}return t.create=(e,n)=>new _c(e,n),t})(),_c=class extends Ot{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Jd}};var gt=class extends Ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var en=new Se(t=>t.complete());function tD(t){return t&&oe(t.schedule)}function nD(t){return t[t.length-1]}function rD(t){return oe(nD(t))?t.pop():void 0}function Zr(t){return tD(nD(t))?t.pop():void 0}function sD(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(l){try{c(r.next(l))}catch(f){i(f)}}function u(l){try{c(r.throw(l))}catch(f){i(f)}}function c(l){l.done?s(l.value):o(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function oD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ro(t){return this instanceof Ro?(this.v=t,this):new Ro(t)}function iD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(d){r[d]&&(o[d]=function(g){return new Promise(function(b,E){s.push([d,g,b,E])>1||a(d,g)})})}function a(d,g){try{u(r[d](g))}catch(b){f(s[0][3],b)}}function u(d){d.value instanceof Ro?Promise.resolve(d.value.v).then(c,l):f(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function f(d,g){d(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function aD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof oD=="function"?oD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(i){return new Promise(function(a,u){i=t[s](i),o(a,u,i.done,i.value)})}}function o(s,i,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},i)}}var Ac=t=>t&&typeof t.length=="number"&&typeof t!="function";function Mc(t){return oe(t?.then)}function kc(t){return oe(t[js])}function Oc(t){return Symbol.asyncIterator&&oe(t?.[Symbol.asyncIterator])}function Rc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function AR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fc=AR();function Pc(t){return oe(t?.[Fc])}function $c(t){return iD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield Ro(n.read());if(o)return yield Ro(void 0);yield yield Ro(r)}}finally{n.releaseLock()}})}function Lc(t){return oe(t?.getReader)}function lt(t){if(t instanceof Se)return t;if(t!=null){if(kc(t))return MR(t);if(Ac(t))return kR(t);if(Mc(t))return OR(t);if(Oc(t))return uD(t);if(Pc(t))return RR(t);if(Lc(t))return FR(t)}throw Rc(t)}function MR(t){return new Se(e=>{let n=t[js]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kR(t){return new Se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function OR(t){return new Se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Sc)})}function RR(t){return new Se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function uD(t){return new Se(e=>{PR(t,e).catch(n=>e.error(n))})}function FR(t){return uD($c(t))}function PR(t,e){var n,r,o,s;return sD(this,void 0,void 0,function*(){try{for(n=aD(t);r=yield n.next(),!r.done;){let i=r.value;if(e.next(i),e.closed)return}}catch(i){o={error:i}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(o)throw o.error}}e.complete()})}function Vt(t,e,n,r=0,o=!1){let s=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!o)return s}function Bc(t,e=0){return ve((n,r)=>{n.subscribe(we(r,o=>Vt(r,t,()=>r.next(o),e),()=>Vt(r,t,()=>r.complete(),e),o=>Vt(r,t,()=>r.error(o),e)))})}function Vc(t,e=0){return ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function cD(t,e){return lt(t).pipe(Vc(e),Bc(e))}function lD(t,e){return lt(t).pipe(Vc(e),Bc(e))}function fD(t,e){return new Se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function dD(t,e){return new Se(n=>{let r;return Vt(n,e,()=>{r=t[Fc](),Vt(n,e,()=>{let o,s;try{({value:o,done:s}=r.next())}catch(i){n.error(i);return}s?n.complete():n.next(o)},0,!0)}),()=>oe(r?.return)&&r.return()})}function jc(t,e){if(!t)throw new Error("Iterable cannot be null");return new Se(n=>{Vt(n,e,()=>{let r=t[Symbol.asyncIterator]();Vt(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function pD(t,e){return jc($c(t),e)}function hD(t,e){if(t!=null){if(kc(t))return cD(t,e);if(Ac(t))return fD(t,e);if(Mc(t))return lD(t,e);if(Oc(t))return jc(t,e);if(Pc(t))return dD(t,e);if(Lc(t))return pD(t,e)}throw Rc(t)}function st(t,e){return e?hD(t,e):lt(t)}function se(...t){let e=Zr(t);return st(t,e)}function zs(t,e){let n=oe(t)?t:()=>t,r=o=>o.error(n());return new Se(e?o=>e.schedule(r,0,o):r)}function up(t){return!!t&&(t instanceof Se||oe(t.lift)&&oe(t.subscribe))}var vr=$s(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function be(t,e){return ve((n,r)=>{let o=0;n.subscribe(we(r,s=>{r.next(t.call(e,s,o++))}))})}var{isArray:$R}=Array;function LR(t,e){return $R(e)?t(...e):t(e)}function mD(t){return be(e=>LR(t,e))}var{isArray:BR}=Array,{getPrototypeOf:VR,prototype:jR,keys:UR}=Object;function gD(t){if(t.length===1){let e=t[0];if(BR(e))return{args:e,keys:null};if(HR(e)){let n=UR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function HR(t){return t&&typeof t=="object"&&VR(t)===jR}function yD(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function Uc(...t){let e=Zr(t),n=rD(t),{args:r,keys:o}=gD(t);if(r.length===0)return st([],e);let s=new Se(zR(r,e,o?i=>yD(o,i):Jt));return n?s.pipe(mD(n)):s}function zR(t,e,n=Jt){return r=>{vD(e,()=>{let{length:o}=t,s=new Array(o),i=o,a=o;for(let u=0;u<o;u++)vD(e,()=>{let c=st(t[u],e),l=!1;c.subscribe(we(r,f=>{s[u]=f,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--i||r.complete()}))},r)},r)}}function vD(t,e,n){t?Vt(n,t,e):e()}function wD(t,e,n,r,o,s,i,a){let u=[],c=0,l=0,f=!1,d=()=>{f&&!u.length&&!c&&e.complete()},g=E=>c<r?b(E):u.push(E),b=E=>{s&&e.next(E),c++;let x=!1;lt(n(E,l++)).subscribe(we(e,N=>{o?.(N),s?g(N):e.next(N)},()=>{x=!0},void 0,()=>{if(x)try{for(c--;u.length&&c<r;){let N=u.shift();i?Vt(e,i,()=>b(N)):b(N)}d()}catch(N){e.error(N)}}))};return t.subscribe(we(e,g,()=>{f=!0,d()})),()=>{a?.()}}function it(t,e,n=1/0){return oe(e)?it((r,o)=>be((s,i)=>e(r,s,o,i))(lt(t(r,o))),n):(typeof e=="number"&&(n=e),ve((r,o)=>wD(r,o,t,n)))}function cp(t=1/0){return it(Jt,t)}function bD(){return cp(1)}function Gs(...t){return bD()(st(t,Zr(t)))}function Hc(t){return new Se(e=>{lt(t()).subscribe(e)})}function xn(t,e){return ve((n,r)=>{let o=0;n.subscribe(we(r,s=>t.call(e,s,o++)&&r.next(s)))})}function Yr(t){return ve((e,n)=>{let r=null,o=!1,s;r=e.subscribe(we(n,void 0,void 0,i=>{s=lt(t(i,Yr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(n))})}function ED(t,e,n,r,o){return(s,i)=>{let a=n,u=e,c=0;s.subscribe(we(i,l=>{let f=c++;u=a?t(u,l,f):(a=!0,l),r&&i.next(u)},o&&(()=>{a&&i.next(u),i.complete()})))}}function qs(t,e){return oe(e)?it(t,e,1):it(t,1)}function Qr(t){return ve((e,n)=>{let r=!1;e.subscribe(we(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function wr(t){return t<=0?()=>en:ve((e,n)=>{let r=0;e.subscribe(we(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function lp(t){return be(()=>t)}function zc(t=GR){return ve((e,n)=>{let r=!1;e.subscribe(we(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function GR(){return new vr}function la(t){return ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function qn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?xn((o,s)=>t(o,s,r)):Jt,wr(1),n?Qr(e):zc(()=>new vr))}function Ws(t){return t<=0?()=>en:ve((e,n)=>{let r=[];e.subscribe(we(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function fp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?xn((o,s)=>t(o,s,r)):Jt,Ws(1),n?Qr(e):zc(()=>new vr))}function dp(t,e){return ve(ED(t,e,arguments.length>=2,!0))}function pp(...t){let e=Zr(t);return ve((n,r)=>{(e?Gs(t,n,e):Gs(t,n)).subscribe(r)})}function Dn(t,e){return ve((n,r)=>{let o=null,s=0,i=!1,a=()=>i&&!o&&r.complete();n.subscribe(we(r,u=>{o?.unsubscribe();let c=0,l=s++;lt(t(u,l)).subscribe(o=we(r,f=>r.next(e?e(u,f,l,c++):f),()=>{o=null,a()}))},()=>{i=!0,a()}))})}function hp(t){return ve((e,n)=>{lt(t).subscribe(we(n,()=>n.complete(),ca)),!n.closed&&e.subscribe(n)})}function yt(t,e,n){let r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?ve((o,s)=>{var i;(i=r.subscribe)===null||i===void 0||i.call(r);let a=!0;o.subscribe(we(s,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),s.error(u)},()=>{var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Jt}var K=class extends Error{constructor(e,n){super(vh(e,n)),this.code=e}};function vh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ml(t){return{toString:t}.toString()}var Gc="__parameters__";function qR(t){return function(...n){if(t){let r=t(...n);for(let o in r)this[o]=r[o]}}}function o1(t,e,n){return ml(()=>{let r=qR(e);function o(...s){if(this instanceof o)return r.apply(this,s),this;let i=new o(...s);return a.annotation=i,a;function a(u,c,l){let f=u.hasOwnProperty(Gc)?u[Gc]:Object.defineProperty(u,Gc,{value:[]})[Gc];for(;f.length<=l;)f.push(null);return(f[l]=f[l]||[]).push(i),u}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var fa=globalThis;function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function tn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(tn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function xD(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var WR=_e({__forward_ref__:_e});function s1(t){return t.__forward_ref__=s1,t.toString=function(){return tn(this())},t}function ln(t){return i1(t)?t():t}function i1(t){return typeof t=="function"&&t.hasOwnProperty(WR)&&t.__forward_ref__===s1}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function gl(t){return DD(t,u1)||DD(t,c1)}function a1(t){return gl(t)!==null}function DD(t,e){return t.hasOwnProperty(e)?t[e]:null}function KR(t){let e=t&&(t[u1]||t[c1]);return e||null}function ID(t){return t&&(t.hasOwnProperty(TD)||t.hasOwnProperty(ZR))?t[TD]:null}var u1=_e({\u0275prov:_e}),TD=_e({\u0275inj:_e}),c1=_e({ngInjectableDef:_e}),ZR=_e({ngInjectorDef:_e}),ye=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function l1(t){return t&&!!t.\u0275providers}var YR=_e({\u0275cmp:_e}),QR=_e({\u0275dir:_e}),XR=_e({\u0275pipe:_e}),JR=_e({\u0275mod:_e}),Jc=_e({\u0275fac:_e}),da=_e({__NG_ELEMENT_ID__:_e}),ND=_e({__NG_ENV_ID__:_e});function f1(t){return typeof t=="string"?t:t==null?"":String(t)}function eF(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():f1(t)}function tF(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new K(-200,t)}function wh(t,e){throw new K(-201,!1)}var fe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(fe||{}),Ip;function d1(){return Ip}function cn(t){let e=Ip;return Ip=t,e}function p1(t,e,n){let r=gl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&fe.Optional)return null;if(e!==void 0)return e;wh(t,"Injector")}var nF={},pa=nF,Tp="__NG_DI_FLAG__",el="ngTempTokenPath",rF="ngTokenPath",oF=/\n/gm,sF="\u0275",SD="__source",Qs;function iF(){return Qs}function Xr(t){let e=Qs;return Qs=t,e}function aF(t,e=fe.Default){if(Qs===void 0)throw new K(-203,!1);return Qs===null?p1(t,void 0,e):Qs.get(t,e&fe.Optional?null:void 0,e)}function Ee(t,e=fe.Default){return(d1()||aF)(ln(t),e)}function U(t,e=fe.Default){return Ee(t,yl(e))}function yl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Np(t){let e=[];for(let n=0;n<t.length;n++){let r=ln(t[n]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let o,s=fe.Default;for(let i=0;i<r.length;i++){let a=r[i],u=uF(a);typeof u=="number"?u===-1?o=a.token:s|=u:o=a}e.push(Ee(o,s))}else e.push(Ee(r))}return e}function h1(t,e){return t[Tp]=e,t.prototype[Tp]=e,t}function uF(t){return t[Tp]}function cF(t,e,n,r){let o=t[el];throw e[SD]&&o.unshift(e[SD]),t.message=lF(`
`+t.message,o,n,r),t[rF]=o,t[el]=null,t}function lF(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==sF?t.slice(2):t;let o=tn(e);if(Array.isArray(e))o=e.map(tn).join(" -> ");else if(typeof e=="object"){let s=[];for(let i in e)if(e.hasOwnProperty(i)){let a=e[i];s.push(i+":"+(typeof a=="string"?JSON.stringify(a):tn(a)))}o=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(oF,`
  `)}`}var vl=h1(o1("Optional"),8);var bh=h1(o1("SkipSelf"),4);function Js(t,e){let n=t.hasOwnProperty(Jc);return n?t[Jc]:null}function fF(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],s=e[r];if(n&&(o=n(o),s=n(s)),s!==o)return!1}return!0}function dF(t){return t.flat(Number.POSITIVE_INFINITY)}function Eh(t,e){t.forEach(n=>Array.isArray(n)?Eh(n,e):e(n))}function m1(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function tl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var ha={},ei=[],ti=new ye(""),g1=new ye("",-1),y1=new ye(""),nl=class{get(e,n=pa){if(n===pa){let r=new Error(`NullInjectorError: No provider for ${tn(e)}!`);throw r.name="NullInjectorError",r}return n}},v1=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(v1||{}),Zn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Zn||{}),br=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(br||{});function pF(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let s=e.length;if(o+s===r||t.charCodeAt(o+s)<=32)return o}n=o+1}}function Sp(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let s=n[r++],i=n[r++],a=n[r++];t.setAttribute(e,i,a,s)}else{let s=o,i=n[++r];mF(s)?t.setProperty(e,s,i):t.setAttribute(e,s,i),r++}}return r}function hF(t){return t===3||t===4||t===6}function mF(t){return t.charCodeAt(0)===64}function xh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?CD(t,n,o,null,e[++r]):CD(t,n,o,null,null))}}return t}function CD(t,e,n,r,o){let s=0,i=t.length;if(e===-1)i=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){i=-1;break}else if(a>e){i=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){o!==null&&(t[s+1]=o);return}else if(r===t[s+1]){t[s+2]=o;return}}s++,r!==null&&s++,o!==null&&s++}i!==-1&&(t.splice(i,0,e),s=i+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),o!==null&&t.splice(s++,0,o)}var w1="ng-template";function gF(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&pF(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Dh(t))return!1;if(o=e.indexOf(1,o),o>-1){let s;for(;++o<e.length&&typeof(s=e[o])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Dh(t){return t.type===4&&t.value!==w1}function yF(t,e,n){let r=t.type===4&&!n?w1:t.value;return e===r}function vF(t,e,n){let r=4,o=t.attrs,s=o!==null?EF(o):0,i=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!i&&!In(r)&&!In(u))return!1;if(i&&In(u))continue;i=!1,r=u|r&1;continue}if(!i)if(r&4){if(r=2|r&1,u!==""&&!yF(t,u,n)||u===""&&e.length===1){if(In(r))return!1;i=!0}}else if(r&8){if(o===null||!gF(t,o,u,n)){if(In(r))return!1;i=!0}}else{let c=e[++a],l=wF(u,o,Dh(t),n);if(l===-1){if(In(r))return!1;i=!0;continue}if(c!==""){let f;if(l>s?f="":f=o[l+1].toLowerCase(),r&2&&c!==f){if(In(r))return!1;i=!0}}}}return In(r)||i}function In(t){return(t&1)===0}function wF(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let s=!1;for(;o<e.length;){let i=e[o];if(i===t)return o;if(i===3||i===6)s=!0;else if(i===1||i===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(i===4)break;if(i===0){o+=4;continue}}o+=s?1:2}return-1}else return xF(e,t)}function bF(t,e,n=!1){for(let r=0;r<e.length;r++)if(vF(t,e[r],n))return!0;return!1}function EF(t){for(let e=0;e<t.length;e++){let n=t[e];if(hF(n))return e}return t.length}function xF(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function _D(t,e){return t?":not("+e.trim()+")":e}function DF(t){let e=t[0],n=1,r=2,o="",s=!1;for(;n<t.length;){let i=t[n];if(typeof i=="string")if(r&2){let a=t[++n];o+="["+i+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+i:r&4&&(o+=" "+i);else o!==""&&!In(i)&&(e+=_D(s,o),o=""),r=i,s=s||!In(r);n++}return o!==""&&(e+=_D(s,o)),e}function IF(t){return t.map(DF).join(",")}function TF(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")o===2?s!==""&&e.push(s,t[++r]):o===8&&n.push(s);else{if(!In(o))break;o=s}r++}return{attrs:e,classes:n}}function wl(t){return ml(()=>{let e=I1(t),n=qe(G({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===v1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zn.Emulated,styles:t.styles||ei,_:null,schemas:t.schemas||null,tView:null,id:""});T1(n);let r=t.dependencies;return n.directiveDefs=MD(r,!1),n.pipeDefs=MD(r,!0),n.id=CF(n),n})}function NF(t){return $o(t)||b1(t)}function SF(t){return t!==null}function AD(t,e){if(t==null)return ha;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],s,i,a=br.None;Array.isArray(o)?(a=o[0],s=o[1],i=o[2]??s):(s=o,i=o),e?(n[s]=a!==br.None?[r,a]:r,e[s]=i):n[s]=r}return n}function ii(t){return ml(()=>{let e=I1(t);return T1(e),e})}function $o(t){return t[YR]||null}function b1(t){return t[QR]||null}function E1(t){return t[XR]||null}function x1(t){let e=$o(t)||b1(t)||E1(t);return e!==null?e.standalone:!1}function D1(t,e){let n=t[JR]||null;if(!n&&e===!0)throw new Error(`Type ${tn(t)} does not have '\u0275mod' property.`);return n}function I1(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ha,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ei,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:AD(t.inputs,e),outputs:AD(t.outputs),debugInfo:null}}function T1(t){t.features?.forEach(e=>e(t))}function MD(t,e){if(!t)return null;let n=e?E1:NF;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(SF)}function CF(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let o of n)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function bl(t){return{\u0275providers:t}}function _F(...t){return{\u0275providers:N1(!0,t),\u0275fromNgModule:!0}}function N1(t,...e){let n=[],r=new Set,o,s=i=>{n.push(i)};return Eh(e,i=>{let a=i;Cp(a,s,[],r)&&(o||=[],o.push(a))}),o!==void 0&&S1(o,s),n}function S1(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];Ih(o,s=>{e(s,r)})}}function Cp(t,e,n,r){if(t=ln(t),!t)return!1;let o=null,s=ID(t),i=!s&&$o(t);if(!s&&!i){let u=t.ngModule;if(s=ID(u),s)o=u;else return!1}else{if(i&&!i.standalone)return!1;o=t}let a=r.has(o);if(i){if(a)return!1;if(r.add(o),i.dependencies){let u=typeof i.dependencies=="function"?i.dependencies():i.dependencies;for(let c of u)Cp(c,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(o);let c;try{Eh(s.imports,l=>{Cp(l,e,n,r)&&(c||=[],c.push(l))})}finally{}c!==void 0&&S1(c,e)}if(!a){let c=Js(o)||(()=>new o);e({provide:o,useFactory:c,deps:ei},o),e({provide:y1,useValue:o,multi:!0},o),e({provide:ti,useValue:()=>Ee(o),multi:!0},o)}let u=s.providers;if(u!=null&&!a){let c=t;Ih(u,l=>{e(l,c)})}}else return!1;return o!==t&&t.providers!==void 0}function Ih(t,e){for(let n of t)l1(n)&&(n=n.\u0275providers),Array.isArray(n)?Ih(n,e):e(n)}var AF=_e({provide:String,useValue:_e});function C1(t){return t!==null&&typeof t=="object"&&AF in t}function MF(t){return!!(t&&t.useExisting)}function kF(t){return!!(t&&t.useFactory)}function _p(t){return typeof t=="function"}var El=new ye(""),qc={},OF={},mp;function Th(){return mp===void 0&&(mp=new nl),mp}var dn=class{},ma=class extends dn{get destroyed(){return this._destroyed}constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mp(e,i=>this.processProvider(i)),this.records.set(g1,Ks(void 0,this)),o.has("environment")&&this.records.set(dn,Ks(void 0,this));let s=this.records.get(El);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(y1,ei,fe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Xr(this),r=cn(void 0),o;try{return e()}finally{Xr(n),cn(r)}}get(e,n=pa,r=fe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ND))return e[ND](this);r=yl(r);let o,s=Xr(this),i=cn(void 0);try{if(!(r&fe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let c=BF(e)&&gl(e);c&&this.injectableDefInScope(c)?u=Ks(Ap(e),qc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&fe.Self?Th():this.parent;return n=r&fe.Optional&&n===pa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[el]=a[el]||[]).unshift(tn(e)),s)throw a;return cF(a,e,"R3InjectorError",this.source)}else throw a}finally{cn(i),Xr(s)}}resolveInjectorInitializers(){let e=Ie(null),n=Xr(this),r=cn(void 0),o;try{let s=this.get(ti,ei,fe.Self);for(let i of s)i()}finally{Xr(n),cn(r),Ie(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(tn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(e){e=ln(e);let n=_p(e)?e:ln(e&&e.provide),r=FF(e);if(!_p(e)&&e.multi===!0){let o=this.records.get(n);o||(o=Ks(void 0,qc,!0),o.factory=()=>Np(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ie(null);try{return n.value===qc&&(n.value=OF,n.value=n.factory()),typeof n.value=="object"&&n.value&&LF(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ie(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ln(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ap(t){let e=gl(t),n=e!==null?e.factory:Js(t);if(n!==null)return n;if(t instanceof ye)throw new K(204,!1);if(t instanceof Function)return RF(t);throw new K(204,!1)}function RF(t){if(t.length>0)throw new K(204,!1);let n=KR(t);return n!==null?()=>n.factory(t):()=>new t}function FF(t){if(C1(t))return Ks(void 0,t.useValue);{let e=PF(t);return Ks(e,qc)}}function PF(t,e,n){let r;if(_p(t)){let o=ln(t);return Js(o)||Ap(o)}else if(C1(t))r=()=>ln(t.useValue);else if(kF(t))r=()=>t.useFactory(...Np(t.deps||[]));else if(MF(t))r=()=>Ee(ln(t.useExisting));else{let o=ln(t&&(t.useClass||t.provide));if($F(t))r=()=>new o(...Np(t.deps));else return Js(o)||Ap(o)}return r}function Ks(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $F(t){return!!t.deps}function LF(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function BF(t){return typeof t=="function"||typeof t=="object"&&t instanceof ye}function Mp(t,e){for(let n of t)Array.isArray(n)?Mp(n,e):n&&l1(n)?Mp(n.\u0275providers,e):e(n)}function Ho(t,e){t instanceof ma&&t.assertNotDestroyed();let n,r=Xr(t),o=cn(void 0);try{return e()}finally{Xr(r),cn(o)}}function _1(){return d1()!==void 0||iF()!=null}function VF(t){if(!_1())throw new K(-203,!1)}function jF(t){return typeof t=="function"}var xr=0,de=1,Z=2,vt=3,Tn=4,Nn=5,rl=6,ga=7,Yn=8,ni=9,Qn=10,Rt=11,ya=12,kD=13,Ia=14,Xn=15,Ta=16,Zs=17,Er=18,xl=19,A1=20,Jr=21,Wc=22,Lo=23,eo=25,M1=1;var Bo=7,ol=8,ri=9,nn=10,Nh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Nh||{});function Fo(t){return Array.isArray(t)&&typeof t[M1]=="object"}function Dr(t){return Array.isArray(t)&&t[M1]===!0}function k1(t){return(t.flags&4)!==0}function Dl(t){return t.componentOffset>-1}function Sh(t){return(t.flags&1)===1}function Na(t){return!!t.template}function UF(t){return(t[Z]&512)!==0}var kp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function O1(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Il(){return R1}function R1(t){return t.type.prototype.ngOnChanges&&(t.setInput=zF),HF}Il.ngInherit=!0;function HF(){let t=P1(this),e=t?.current;if(e){let n=t.previous;if(n===ha)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function zF(t,e,n,r,o){let s=this.declaredInputs[r],i=P1(t)||GF(t,{previous:ha,current:null}),a=i.current||(i.current={}),u=i.previous,c=u[s];a[s]=new kp(c&&c.currentValue,n,u===ha),O1(t,e,o,n)}var F1="__ngSimpleChanges__";function P1(t){return t[F1]||null}function GF(t,e){return t[F1]=e}var OD=null;var Wn=function(t,e,n){OD?.(t,e,n)},$1="svg",qF="math",WF=!1;function KF(){return WF}function Jn(t){for(;Array.isArray(t);)t=t[xr];return t}function ZF(t,e){return Jn(e[t])}function Sn(t,e){return Jn(e[t.index])}function L1(t,e){return t.data[e]}function no(t,e){let n=e[t];return Fo(n)?n:n[xr]}function YF(t){return(t[Z]&4)===4}function Ch(t){return(t[Z]&128)===128}function QF(t){return Dr(t[vt])}function sl(t,e){return e==null?null:t[e]}function B1(t){t[Zs]=0}function XF(t){t[Z]&1024||(t[Z]|=1024,Ch(t)&&va(t))}function _h(t){return!!(t[Z]&9216||t[Lo]?.dirty)}function Op(t){t[Qn].changeDetectionScheduler?.notify(1),_h(t)?va(t):t[Z]&64&&(KF()?(t[Z]|=1024,va(t)):t[Qn].changeDetectionScheduler?.notify())}function va(t){t[Qn].changeDetectionScheduler?.notify();let e=wa(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!Ch(e)));)e=wa(e)}function V1(t,e){if((t[Z]&256)===256)throw new K(911,!1);t[Jr]===null&&(t[Jr]=[]),t[Jr].push(e)}function JF(t,e){if(t[Jr]===null)return;let n=t[Jr].indexOf(e);n!==-1&&t[Jr].splice(n,1)}function wa(t){let e=t[vt];return Dr(e)?e[vt]:e}var ge={lFrame:K1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function eP(){return ge.lFrame.elementDepthCount}function tP(){ge.lFrame.elementDepthCount++}function nP(){ge.lFrame.elementDepthCount--}function j1(){return ge.bindingsEnabled}function rP(){return ge.skipHydrationRootTNode!==null}function oP(t){return ge.skipHydrationRootTNode===t}function sP(){ge.skipHydrationRootTNode=null}function je(){return ge.lFrame.lView}function Ir(){return ge.lFrame.tView}function Ah(t){return ge.lFrame.contextLView=t,t[Yn]}function Mh(t){return ge.lFrame.contextLView=null,t}function Cn(){let t=U1();for(;t!==null&&t.type===64;)t=t.parent;return t}function U1(){return ge.lFrame.currentTNode}function iP(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Sa(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function H1(){return ge.lFrame.isParent}function aP(){ge.lFrame.isParent=!1}function uP(){let t=ge.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function cP(t){return ge.lFrame.bindingIndex=t}function z1(){return ge.lFrame.bindingIndex++}function lP(){return ge.lFrame.inI18n}function fP(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,Rp(e)}function dP(){return ge.lFrame.currentDirectiveIndex}function Rp(t){ge.lFrame.currentDirectiveIndex=t}function G1(){return ge.lFrame.currentQueryIndex}function kh(t){ge.lFrame.currentQueryIndex=t}function pP(t){let e=t[de];return e.type===2?e.declTNode:e.type===1?t[Nn]:null}function q1(t,e,n){if(n&fe.SkipSelf){let o=e,s=t;for(;o=o.parent,o===null&&!(n&fe.Host);)if(o=pP(s),o===null||(s=s[Ia],o.type&10))break;if(o===null)return!1;e=o,t=s}let r=ge.lFrame=W1();return r.currentTNode=e,r.lView=t,!0}function Oh(t){let e=W1(),n=t[de];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function W1(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?K1(t):e}function K1(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Z1(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Y1=Z1;function Rh(){let t=Z1();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Fh(){return ge.lFrame.selectedIndex}function Vo(t){ge.lFrame.selectedIndex=t}function hP(){let t=ge.lFrame;return L1(t.tView,t.selectedIndex)}function Q1(){ge.lFrame.currentNamespace=$1}function X1(){mP()}function mP(){ge.lFrame.currentNamespace=null}function gP(){return ge.lFrame.currentNamespace}var J1=!0;function Ph(){return J1}function $h(t){J1=t}function yP(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=e.type.prototype;if(r){let i=R1(e);(n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i)}o&&(n.preOrderHooks??=[]).push(0-t,o),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Lh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;i&&(t.contentHooks??=[]).push(-n,i),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Kc(t,e,n){eI(t,e,3,n)}function Zc(t,e,n,r){(t[Z]&3)===n&&eI(t,e,n,r)}function gp(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function eI(t,e,n,r){let o=r!==void 0?t[Zs]&65535:0,s=r??-1,i=e.length-1,a=0;for(let u=o;u<i;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Zs]+=65536),(a<s||s==-1)&&(vP(t,n,e,u),t[Zs]=(t[Zs]&4294901760)+u+2),u++}function RD(t,e){Wn(4,t,e);let n=Ie(null);try{e.call(t)}finally{Ie(n),Wn(5,t,e)}}function vP(t,e,n,r){let o=n[r]<0,s=n[r+1],i=o?-n[r]:n[r],a=t[i];o?t[Z]>>14<t[Zs]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,RD(a,s)):RD(a,s)}var Xs=-1,ba=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function wP(t){return t instanceof ba}function bP(t){return(t.flags&8)!==0}function EP(t){return(t.flags&16)!==0}function tI(t){return t!==Xs}function il(t){return t&32767}function xP(t){return t>>16}function al(t,e){let n=xP(t),r=e;for(;n>0;)r=r[Ia],n--;return r}var Fp=!0;function FD(t){let e=Fp;return Fp=t,e}var DP=256,nI=DP-1,rI=5,IP=0,Kn={};function TP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(da)&&(r=n[da]),r==null&&(r=n[da]=IP++);let o=r&nI,s=1<<o;e.data[t+(o>>rI)]|=s}function oI(t,e){let n=sI(t,e);if(n!==-1)return n;let r=e[de];r.firstCreatePass&&(t.injectorIndex=e.length,yp(r.data,t),yp(e,null),yp(r.blueprint,null));let o=Bh(t,e),s=t.injectorIndex;if(tI(o)){let i=il(o),a=al(o,e),u=a[de].data;for(let c=0;c<8;c++)e[s+c]=a[i+c]|u[i+c]}return e[s+8]=o,s}function yp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Bh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=lI(o),r===null)return Xs;if(n++,o=o[Ia],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xs}function NP(t,e,n){TP(t,e,n)}function iI(t,e,n){if(n&fe.Optional||t!==void 0)return t;wh(e,"NodeInjector")}function aI(t,e,n,r){if(n&fe.Optional&&r===void 0&&(r=null),!(n&(fe.Self|fe.Host))){let o=t[ni],s=cn(void 0);try{return o?o.get(e,r,n&fe.Optional):p1(e,r,n&fe.Optional)}finally{cn(s)}}return iI(r,e,n)}function uI(t,e,n,r=fe.Default,o){if(t!==null){if(e[Z]&2048&&!(r&fe.Self)){let i=AP(t,e,n,r,Kn);if(i!==Kn)return i}let s=cI(t,e,n,r,Kn);if(s!==Kn)return s}return aI(e,n,r,o)}function cI(t,e,n,r,o){let s=CP(n);if(typeof s=="function"){if(!q1(e,t,r))return r&fe.Host?iI(o,n,r):aI(e,n,r,o);try{let i;if(i=s(r),i==null&&!(r&fe.Optional))wh(n);else return i}finally{Y1()}}else if(typeof s=="number"){let i=null,a=sI(t,e),u=Xs,c=r&fe.Host?e[Xn][Nn]:null;for((a===-1||r&fe.SkipSelf)&&(u=a===-1?Bh(t,e):e[a+8],u===Xs||!$D(r,!1)?a=-1:(i=e[de],a=il(u),e=al(u,e)));a!==-1;){let l=e[de];if(PD(s,a,l.data)){let f=SP(a,e,n,i,r,c);if(f!==Kn)return f}u=e[a+8],u!==Xs&&$D(r,e[de].data[a+8]===c)&&PD(s,a,e)?(i=l,a=il(u),e=al(u,e)):a=-1}}return o}function SP(t,e,n,r,o,s){let i=e[de],a=i.data[t+8],u=r==null?Dl(a)&&Fp:r!=i&&(a.type&3)!==0,c=o&fe.Host&&s===a,l=Yc(a,i,n,u,c);return l!==null?oi(e,i,l,a):Kn}function Yc(t,e,n,r,o){let s=t.providerIndexes,i=e.data,a=s&1048575,u=t.directiveStart,c=t.directiveEnd,l=s>>20,f=r?a:a+l,d=o?a+l:c;for(let g=f;g<d;g++){let b=i[g];if(g<u&&n===b||g>=u&&b.type===n)return g}if(o){let g=i[u];if(g&&Na(g)&&g.type===n)return u}return null}function oi(t,e,n,r){let o=t[n],s=e.data;if(wP(o)){let i=o;i.resolving&&tF(eF(s[n]));let a=FD(i.canSeeViewProviders);i.resolving=!0;let u,c=i.injectImpl?cn(i.injectImpl):null,l=q1(t,r,fe.Default);try{o=t[n]=i.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&yP(n,s[n],e)}finally{c!==null&&cn(c),FD(a),i.resolving=!1,Y1()}}return o}function CP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(da)?t[da]:void 0;return typeof e=="number"?e>=0?e&nI:_P:e}function PD(t,e,n){let r=1<<t;return!!(n[e+(t>>rI)]&r)}function $D(t,e){return!(t&fe.Self)&&!(t&fe.Host&&e)}var Po=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return uI(this._tNode,this._lView,e,yl(r),n)}};function _P(){return new Po(Cn(),je())}function Vh(t){return ml(()=>{let e=t.prototype.constructor,n=e[Jc]||Pp(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let s=o[Jc]||Pp(o);if(s&&s!==n)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function Pp(t){return i1(t)?()=>{let e=Pp(ln(t));return e&&e()}:Js(t)}function AP(t,e,n,r,o){let s=t,i=e;for(;s!==null&&i!==null&&i[Z]&2048&&!(i[Z]&512);){let a=cI(s,i,n,r|fe.Self,Kn);if(a!==Kn)return a;let u=s.parent;if(!u){let c=i[A1];if(c){let l=c.get(n,Kn,r);if(l!==Kn)return l}u=lI(i),i=i[Ia]}s=u}return o}function lI(t){let e=t[de],n=e.type;return n===2?e.declTNode:n===1?t[Nn]:null}function LD(t,e=null,n=null,r){let o=fI(t,e,n,r);return o.resolveInjectorInitializers(),o}function fI(t,e=null,n=null,r,o=new Set){let s=[n||ei,_F(t)];return r=r||(typeof t=="object"?void 0:tn(t)),new ma(s,e||Th(),r||null,o)}var ai=(()=>{let e=class e{static create(r,o){if(Array.isArray(r))return LD({name:""},o,r,"");{let s=r.name??"";return LD({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=pa,e.NULL=new nl,e.\u0275prov=ee({token:e,providedIn:"any",factory:()=>Ee(g1)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var MP="ngOriginalError";function vp(t){return t[MP]}var er=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&vp(e);for(;n&&vp(n);)n=vp(n);return n||null}},dI=new ye("",{providedIn:"root",factory:()=>U(er).handleError.bind(void 0)}),jh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=kP,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),$p=class extends jh{constructor(e){super(),this._lView=e}onDestroy(e){return V1(this._lView,e),()=>JF(this._lView,e)}};function kP(){return new $p(je())}function OP(){return ui(Cn(),je())}function ui(t,e){return new Tr(Sn(t,e))}var Tr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=OP;let t=e;return t})();function RP(t){return t instanceof Tr?t.nativeElement:t}var Lp=class extends Ot{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,_1()&&(this.destroyRef=U(jh,{optional:!0})??void 0)}emit(e){let n=Ie(null);try{super.next(e)}finally{Ie(n)}}subscribe(e,n,r){let o=e,s=n||(()=>null),i=r;if(e&&typeof e=="object"){let u=e;o=u.next?.bind(u),s=u.error?.bind(u),i=u.complete?.bind(u)}this.__isAsync&&(s=wp(s),o&&(o=wp(o)),i&&(i=wp(i)));let a=super.subscribe({next:o,error:s,complete:i});return e instanceof ot&&e.add(a),a}};function wp(t){return e=>{setTimeout(t,void 0,e)}}var fn=Lp;function FP(){return this._results[Symbol.iterator]()}var Bp=class t{get changes(){return this._changes??=new fn}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=FP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=dF(e);(this._changesDetected=!fF(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function pI(t){return(t.flags&128)===128}var Vp;function hI(t){Vp=t}function PP(){if(Vp!==void 0)return Vp;if(typeof document<"u")return document;throw new K(210,!1)}var Uh=new ye("",{providedIn:"root",factory:()=>$P}),$P="ng",Hh=new ye(""),ci=new ye("",{providedIn:"platform",factory:()=>"unknown"});var zh=new ye("",{providedIn:"root",factory:()=>PP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var LP="h",BP="b";var VP=()=>null;function Gh(t,e,n=!1){return VP(t,e,n)}var mI=!1,jP=new ye("",{providedIn:"root",factory:()=>mI});var gI=new Map,UP=0;function HP(){return UP++}function zP(t){gI.set(t[xl],t)}function GP(t){gI.delete(t[xl])}var BD="__ngContext__";function jo(t,e){Fo(e)?(t[BD]=e[xl],zP(e)):t[BD]=e}function yI(t){return t instanceof Function?t():t}var ro=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ro||{}),qP;function qh(t,e){return qP(t,e)}function Ys(t,e,n,r,o){if(r!=null){let s,i=!1;Dr(r)?s=r:Fo(r)&&(i=!0,r=r[xr]);let a=Jn(r);t===0&&n!==null?o==null?xI(e,n,a):ul(e,n,a,o||null,!0):t===1&&n!==null?ul(e,n,a,o||null,!0):t===2?c$(e,a,i):t===3&&e.destroyNode(a),s!=null&&f$(e,t,s,n,o)}}function WP(t,e){return t.createText(e)}function KP(t,e,n){t.setValue(e,n)}function vI(t,e,n){return t.createElement(e,n)}function ZP(t,e){wI(t,e),e[xr]=null,e[Nn]=null}function YP(t,e,n,r,o,s){r[xr]=o,r[Nn]=e,Tl(t,r,n,1,o,s)}function wI(t,e){e[Qn].changeDetectionScheduler?.notify(1),Tl(t,e,e[Rt],2,null,null)}function QP(t){let e=t[ya];if(!e)return bp(t[de],t);for(;e;){let n=null;if(Fo(e))n=e[ya];else{let r=e[nn];r&&(n=r)}if(!n){for(;e&&!e[Tn]&&e!==t;)Fo(e)&&bp(e[de],e),e=e[vt];e===null&&(e=t),Fo(e)&&bp(e[de],e),n=e&&e[Tn]}e=n}}function XP(t,e,n,r){let o=nn+r,s=n.length;r>0&&(n[o-1][Tn]=e),r<s-nn?(e[Tn]=n[o],m1(n,nn+r,e)):(n.push(e),e[Tn]=null),e[vt]=n;let i=e[Ta];i!==null&&n!==i&&JP(i,e);let a=e[Er];a!==null&&a.insertView(t),Op(e),e[Z]|=128}function JP(t,e){let n=t[ri],o=e[vt][vt][Xn];e[Xn]!==o&&(t[Z]|=Nh.HasTransplantedViews),n===null?t[ri]=[e]:n.push(e)}function bI(t,e){let n=t[ri],r=n.indexOf(e);n.splice(r,1)}function jp(t,e){if(t.length<=nn)return;let n=nn+e,r=t[n];if(r){let o=r[Ta];o!==null&&o!==t&&bI(o,r),e>0&&(t[n-1][Tn]=r[Tn]);let s=tl(t,nn+e);ZP(r[de],r);let i=s[Er];i!==null&&i.detachView(s[de]),r[vt]=null,r[Tn]=null,r[Z]&=-129}return r}function EI(t,e){if(!(e[Z]&256)){let n=e[Rt];n.destroyNode&&Tl(t,e,n,3,null,null),QP(e)}}function bp(t,e){if(e[Z]&256)return;let n=Ie(null);try{e[Z]&=-129,e[Z]|=256,e[Lo]&&Yd(e[Lo]),t$(t,e),e$(t,e),e[de].type===1&&e[Rt].destroy();let r=e[Ta];if(r!==null&&Dr(e[vt])){r!==e[vt]&&bI(r,e);let o=e[Er];o!==null&&o.detachView(t)}GP(e)}finally{Ie(n)}}function e$(t,e){let n=t.cleanup,r=e[ga];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let i=n[s+3];i>=0?r[i]():r[-i].unsubscribe(),s+=2}else{let i=r[n[s+1]];n[s].call(i)}r!==null&&(e[ga]=null);let o=e[Jr];if(o!==null){e[Jr]=null;for(let s=0;s<o.length;s++){let i=o[s];i()}}}function t$(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof ba)){let s=n[r+1];if(Array.isArray(s))for(let i=0;i<s.length;i+=2){let a=o[s[i]],u=s[i+1];Wn(4,a,u);try{u.call(a)}finally{Wn(5,a,u)}}else{Wn(4,o,s);try{s.call(o)}finally{Wn(5,o,s)}}}}}function n$(t,e,n){return r$(t,e.parent,n)}function r$(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[xr];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:s}=t.data[r.directiveStart+o];if(s===Zn.None||s===Zn.Emulated)return null}return Sn(r,n)}}function ul(t,e,n,r,o){t.insertBefore(e,n,r,o)}function xI(t,e,n){t.appendChild(e,n)}function VD(t,e,n,r,o){r!==null?ul(t,e,n,r,o):xI(t,e,n)}function o$(t,e,n,r){t.removeChild(e,n,r)}function Wh(t,e){return t.parentNode(e)}function s$(t,e){return t.nextSibling(e)}function i$(t,e,n){return u$(t,e,n)}function a$(t,e,n){return t.type&40?Sn(t,n):null}var u$=a$,jD;function Kh(t,e,n,r){let o=n$(t,r,e),s=e[Rt],i=r.parent||e[Nn],a=i$(i,r,e);if(o!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)VD(s,o,n[u],a,!1);else VD(s,o,n,a,!1);jD!==void 0&&jD(s,r,e,n,o)}function Qc(t,e){if(e!==null){let n=e.type;if(n&3)return Sn(e,t);if(n&4)return Up(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Qc(t,r);{let o=t[e.index];return Dr(o)?Up(-1,o):Jn(o)}}else{if(n&32)return qh(e,t)()||Jn(t[e.index]);{let r=DI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=wa(t[Xn]);return Qc(o,r)}else return Qc(t,e.next)}}}return null}function DI(t,e){if(e!==null){let r=t[Xn][Nn],o=e.projection;return r.projection[o]}return null}function Up(t,e){let n=nn+t+1;if(n<e.length){let r=e[n],o=r[de].firstChild;if(o!==null)return Qc(r,o)}return e[Bo]}function c$(t,e,n){let r=Wh(t,e);r&&o$(t,r,e,n)}function Zh(t,e,n,r,o,s,i){for(;n!=null;){let a=r[n.index],u=n.type;if(i&&e===0&&(a&&jo(Jn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Zh(t,e,n.child,r,o,s,!1),Ys(e,t,o,a,s);else if(u&32){let c=qh(n,r),l;for(;l=c();)Ys(e,t,o,l,s);Ys(e,t,o,a,s)}else u&16?l$(t,e,r,n,o,s):Ys(e,t,o,a,s);n=i?n.projectionNext:n.next}}function Tl(t,e,n,r,o,s){Zh(n,r,t.firstChild,e,o,s,!1)}function l$(t,e,n,r,o,s){let i=n[Xn],u=i[Nn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let l=u[c];Ys(e,t,o,l,s)}else{let c=u,l=i[vt];pI(r)&&(c.flags|=128),Zh(t,e,c,l,o,s,!0)}}function f$(t,e,n,r,o){let s=n[Bo],i=Jn(n);s!==i&&Ys(e,t,r,s,o);for(let a=nn;a<n.length;a++){let u=n[a];Tl(u[de],u,t,e,r,s)}}function d$(t,e,n){t.setAttribute(e,"style",n)}function II(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function TI(t,e,n){let{mergedAttrs:r,classes:o,styles:s}=n;r!==null&&Sp(t,e,r),o!==null&&II(t,e,o),s!==null&&d$(t,e,s)}var Ca={};function zo(t=1){NI(Ir(),je(),Fh()+t,!1)}function NI(t,e,n,r){if(!r)if((e[Z]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Kc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Zc(e,s,0,n)}Vo(n)}function _n(t,e=fe.Default){let n=je();if(n===null)return Ee(t,e);let r=Cn();return uI(r,n,ln(t),e)}function SI(t,e,n,r,o,s){let i=Ie(null);try{let a=null;o&br.SignalBased&&(a=e[r][qd]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),o&br.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):O1(e,a,r,s)}finally{Ie(i)}}function p$(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Vo(~o);else{let s=o,i=n[++r],a=n[++r];fP(i,s);let u=e[s];a(2,u)}}}finally{Vo(-1)}}function Nl(t,e,n,r,o,s,i,a,u,c,l){let f=e.blueprint.slice();return f[xr]=o,f[Z]=r|4|128|8|64,(c!==null||t&&t[Z]&2048)&&(f[Z]|=2048),B1(f),f[vt]=f[Ia]=t,f[Yn]=n,f[Qn]=i||t&&t[Qn],f[Rt]=a||t&&t[Rt],f[ni]=u||t&&t[ni]||null,f[Nn]=s,f[xl]=HP(),f[rl]=l,f[A1]=c,f[Xn]=e.type==2?t[Xn]:f,f}function Sl(t,e,n,r,o){let s=t.data[e];if(s===null)s=h$(t,e,n,r,o),lP()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=o;let i=iP();s.injectorIndex=i===null?-1:i.injectorIndex}return Sa(s,!0),s}function h$(t,e,n,r,o){let s=U1(),i=H1(),a=i?s:s&&s.parent,u=t.data[e]=b$(t,a,n,e,r,o);return t.firstChild===null&&(t.firstChild=u),s!==null&&(i?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function CI(t,e,n,r){if(n===0)return-1;let o=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function _I(t,e,n,r,o){let s=Fh(),i=r&2;try{Vo(-1),i&&e.length>eo&&NI(t,e,eo,!1),Wn(i?2:0,o),n(r,o)}finally{Vo(s),Wn(i?3:1,o)}}function AI(t,e,n){if(k1(e)){let r=Ie(null);try{let o=e.directiveStart,s=e.directiveEnd;for(let i=o;i<s;i++){let a=t.data[i];if(a.contentQueries){let u=n[i];a.contentQueries(1,u,i)}}}finally{Ie(r)}}}function MI(t,e,n){j1()&&(S$(t,e,n,Sn(n,e)),(n.flags&64)===64&&PI(t,e,n))}function kI(t,e,n=Sn){let r=e.localNames;if(r!==null){let o=e.index+1;for(let s=0;s<r.length;s+=2){let i=r[s+1],a=i===-1?n(e,t):t[i];t[o++]=a}}}function OI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Yh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Yh(t,e,n,r,o,s,i,a,u,c,l){let f=eo+r,d=f+o,g=m$(f,d),b=typeof c=="function"?c():c;return g[de]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof i=="function"?i():i,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:l}}function m$(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ca);return n}function g$(t,e,n,r){let s=r.get(jP,mI)||n===Zn.ShadowDom,i=t.selectRootElement(e,s);return y$(i),i}function y$(t){v$(t)}var v$=()=>null;function w$(t,e,n,r){let o=BI(e);o.push(n),t.firstCreatePass&&VI(t).push(r,o.length-1)}function b$(t,e,n,r,o,s){let i=e?e.injectorIndex:-1,a=0;return rP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function UD(t,e,n,r,o){for(let s in e){if(!e.hasOwnProperty(s))continue;let i=e[s];if(i===void 0)continue;r??={};let a,u=br.None;Array.isArray(i)?(a=i[0],u=i[1]):a=i;let c=s;if(o!==null){if(!o.hasOwnProperty(s))continue;c=o[s]}t===0?HD(r,n,c,a,u):HD(r,n,c,a)}return r}function HD(t,e,n,r,o){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],o!==void 0&&s.push(o)}function E$(t,e,n){let r=e.directiveStart,o=e.directiveEnd,s=t.data,i=e.attrs,a=[],u=null,c=null;for(let l=r;l<o;l++){let f=s[l],d=n?n.get(f):null,g=d?d.inputs:null,b=d?d.outputs:null;u=UD(0,f.inputs,l,u,g),c=UD(1,f.outputs,l,c,b);let E=u!==null&&i!==null&&!Dh(e)?P$(u,l,i):null;a.push(E)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}function x$(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function D$(t,e,n,r,o,s,i,a){let u=Sn(e,n),c=e.inputs,l;!a&&c!=null&&(l=c[r])?(Qh(t,n,l,r,o),Dl(e)&&I$(n,e.index)):e.type&3?(r=x$(r),o=i!=null?i(o,e.value||"",r):o,s.setProperty(u,r,o)):e.type&12}function I$(t,e){let n=no(e,t);n[Z]&16||(n[Z]|=64)}function RI(t,e,n,r){if(j1()){let o=r===null?null:{"":-1},s=_$(t,n),i,a;s===null?i=a=null:[i,a]=s,i!==null&&FI(t,e,n,i,o,a),o&&A$(n,r,o)}n.mergedAttrs=xh(n.mergedAttrs,n.attrs)}function FI(t,e,n,r,o,s){for(let c=0;c<r.length;c++)NP(oI(n,e),t,r[c].type);k$(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let l=r[c];l.providersResolver&&l.providersResolver(l)}let i=!1,a=!1,u=CI(t,e,r.length,null);for(let c=0;c<r.length;c++){let l=r[c];n.mergedAttrs=xh(n.mergedAttrs,l.hostAttrs),O$(t,n,e,u,l),M$(u,l,o),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let f=l.type.prototype;!i&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),i=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}E$(t,n,s)}function T$(t,e,n,r,o){let s=o.hostBindings;if(s){let i=t.hostBindingOpCodes;i===null&&(i=t.hostBindingOpCodes=[]);let a=~e.index;N$(i)!=a&&i.push(a),i.push(n,r,s)}}function N$(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function S$(t,e,n,r){let o=n.directiveStart,s=n.directiveEnd;Dl(n)&&R$(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||oI(n,e),jo(r,e);let i=n.initialInputs;for(let a=o;a<s;a++){let u=t.data[a],c=oi(e,t,a,n);if(jo(c,e),i!==null&&F$(e,a-o,c,u,n,i),Na(u)){let l=no(n.index,e);l[Yn]=oi(e,t,a,n)}}}function PI(t,e,n){let r=n.directiveStart,o=n.directiveEnd,s=n.index,i=dP();try{Vo(s);for(let a=r;a<o;a++){let u=t.data[a],c=e[a];Rp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&C$(u,c)}}finally{Vo(-1),Rp(i)}}function C$(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _$(t,e){let n=t.directiveRegistry,r=null,o=null;if(n)for(let s=0;s<n.length;s++){let i=n[s];if(bF(e,i.selectors,!1))if(r||(r=[]),Na(i))if(i.findHostDirectiveDefs!==null){let a=[];o=o||new Map,i.findHostDirectiveDefs(i,a,o),r.unshift(...a,i);let u=a.length;Hp(t,e,u)}else r.unshift(i),Hp(t,e,0);else o=o||new Map,i.findHostDirectiveDefs?.(i,r,o),r.push(i)}return r===null?null:[r,o]}function Hp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function A$(t,e,n){if(e){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let s=n[e[o+1]];if(s==null)throw new K(-301,!1);r.push(e[o],s)}}}function M$(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Na(e)&&(n[""]=t)}}function k$(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function O$(t,e,n,r,o){t.data[r]=o;let s=o.factory||(o.factory=Js(o.type,!0)),i=new ba(s,Na(o),_n);t.blueprint[r]=i,n[r]=i,T$(t,e,r,CI(t,n,o.hostVars,Ca),o)}function R$(t,e,n){let r=Sn(e,t),o=OI(n),s=t[Qn].rendererFactory,i=16;n.signals?i=4096:n.onPush&&(i=64);let a=Cl(t,Nl(t,o,null,i,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function F$(t,e,n,r,o,s){let i=s[e];if(i!==null)for(let a=0;a<i.length;){let u=i[a++],c=i[a++],l=i[a++],f=i[a++];SI(r,n,u,c,l,f)}}function P$(t,e,n){let r=null,o=0;for(;o<n.length;){let s=n[o];if(s===0){o+=4;continue}else if(s===5){o+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let i=t[s];for(let a=0;a<i.length;a+=3)if(i[a]===e){r.push(s,i[a+1],i[a+2],n[o+1]);break}}o+=2}return r}function $I(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function LI(t,e){let n=t.contentQueries;if(n!==null){let r=Ie(null);try{for(let o=0;o<n.length;o+=2){let s=n[o],i=n[o+1];if(i!==-1){let a=t.data[i];kh(s),a.contentQueries(2,e[i],i)}}}finally{Ie(r)}}}function Cl(t,e){return t[ya]?t[kD][Tn]=e:t[ya]=e,t[kD]=e,e}function zp(t,e,n){kh(0);let r=Ie(null);try{e(t,n)}finally{Ie(r)}}function BI(t){return t[ga]||(t[ga]=[])}function VI(t){return t.cleanup||(t.cleanup=[])}function jI(t,e){let n=t[ni],r=n?n.get(er,null):null;r&&r.handleError(e)}function Qh(t,e,n,r,o){for(let s=0;s<n.length;){let i=n[s++],a=n[s++],u=n[s++],c=e[i],l=t.data[i];SI(l,c,r,a,u,o)}}function $$(t,e,n){let r=ZF(e,t);KP(t[Rt],r,n)}function L$(t,e){let n=no(e,t),r=n[de];B$(r,n);let o=n[xr];o!==null&&n[rl]===null&&(n[rl]=Gh(o,n[ni])),Xh(r,n,n[Yn])}function B$(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Xh(t,e,n){Oh(e);try{let r=t.viewQuery;r!==null&&zp(1,r,n);let o=t.template;o!==null&&_I(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Er]?.finishViewCreation(t),t.staticContentQueries&&LI(t,e),t.staticViewQueries&&zp(2,t.viewQuery,n);let s=t.components;s!==null&&V$(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Z]&=-5,Rh()}}function V$(t,e){for(let n=0;n<e.length;n++)L$(t,e[n])}function j$(t,e,n,r){let o=Ie(null);try{let s=e.tView,a=t[Z]&4096?4096:16,u=Nl(t,s,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];u[Ta]=c;let l=t[Er];return l!==null&&(u[Er]=l.createEmbeddedView(s)),Xh(s,u,n),u}finally{Ie(o)}}function zD(t,e){return!e||e.firstChild===null||pI(t)}function U$(t,e,n,r=!0){let o=e[de];if(XP(o,e,t,n),r){let i=Up(n,t),a=e[Rt],u=Wh(a,t[Bo]);u!==null&&YP(o,t[Nn],a,e,u,i)}let s=e[rl];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function cl(t,e,n,r,o=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Jn(s)),Dr(s)&&H$(s,r);let i=n.type;if(i&8)cl(t,e,n.child,r);else if(i&32){let a=qh(n,e),u;for(;u=a();)r.push(u)}else if(i&16){let a=DI(e,n);if(Array.isArray(a))r.push(...a);else{let u=wa(e[Xn]);cl(u[de],u,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function H$(t,e){for(let n=nn;n<t.length;n++){let r=t[n],o=r[de].firstChild;o!==null&&cl(r[de],r,o,e)}t[Bo]!==t[xr]&&e.push(t[Bo])}var UI=[];function z$(t){return t[Lo]??G$(t)}function G$(t){let e=UI.pop()??Object.create(W$);return e.lView=t,e}function q$(t){t.lView[Lo]!==t&&(t.lView=null,UI.push(t))}var W$=qe(G({},Wd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{va(t.lView)},consumerOnSignalRead(){this.lView[Lo]=this}});function HI(t){return GI(t[ya])}function zI(t){return GI(t[Tn])}function GI(t){for(;t!==null&&!Dr(t);)t=t[Tn];return t}var qI=100;function WI(t,e=!0,n=0){let r=t[Qn],o=r.rendererFactory,s=!1;s||o.begin?.();try{K$(t,n)}catch(i){throw e&&jI(t,i),i}finally{s||(o.end?.(),r.inlineEffectRunner?.flush())}}function K$(t,e){Gp(t,e);let n=0;for(;_h(t);){if(n===qI)throw new K(103,!1);n++,Gp(t,1)}}function Z$(t,e,n,r){let o=e[Z];if((o&256)===256)return;let s=!1;!s&&e[Qn].inlineEffectRunner?.flush(),Oh(e);let i=null,a=null;!s&&Y$(t)&&(a=z$(e),i=Kd(a));try{B1(e),cP(t.bindingStartIndex),n!==null&&_I(t,e,n,2,r);let u=(o&3)===3;if(!s)if(u){let f=t.preOrderCheckHooks;f!==null&&Kc(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Zc(e,f,0,null),gp(e,0)}if(Q$(e),KI(e,0),t.contentQueries!==null&&LI(t,e),!s)if(u){let f=t.contentCheckHooks;f!==null&&Kc(e,f)}else{let f=t.contentHooks;f!==null&&Zc(e,f,1),gp(e,1)}p$(t,e);let c=t.components;c!==null&&YI(e,c,0);let l=t.viewQuery;if(l!==null&&zp(2,l,r),!s)if(u){let f=t.viewCheckHooks;f!==null&&Kc(e,f)}else{let f=t.viewHooks;f!==null&&Zc(e,f,2),gp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Wc]){for(let f of e[Wc])f();e[Wc]=null}s||(e[Z]&=-73)}catch(u){throw va(e),u}finally{a!==null&&(Zd(a,i),q$(a)),Rh()}}function Y$(t){return t.type!==2}function KI(t,e){for(let n=HI(t);n!==null;n=zI(n))for(let r=nn;r<n.length;r++){let o=n[r];ZI(o,e)}}function Q$(t){for(let e=HI(t);e!==null;e=zI(e)){if(!(e[Z]&Nh.HasTransplantedViews))continue;let n=e[ri];for(let r=0;r<n.length;r++){let o=n[r],s=o[vt];XF(o)}}}function X$(t,e,n){let r=no(e,t);ZI(r,n)}function ZI(t,e){Ch(t)&&Gp(t,e)}function Gp(t,e){let r=t[de],o=t[Z],s=t[Lo],i=!!(e===0&&o&16);if(i||=!!(o&64&&e===0),i||=!!(o&1024),i||=!!(s?.dirty&&Ic(s)),s&&(s.dirty=!1),t[Z]&=-9217,i)Z$(r,t,r.template,t[Yn]);else if(o&8192){KI(t,1);let a=r.components;a!==null&&YI(t,a,1)}}function YI(t,e,n){for(let r=0;r<e.length;r++)X$(t,e[r],n)}function Jh(t){for(t[Qn].changeDetectionScheduler?.notify();t;){t[Z]|=64;let e=wa(t);if(UF(t)&&!e)return t;t=e}return null}var Uo=class{get rootNodes(){let e=this._lView,n=e[de];return cl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yn]}set context(e){this._lView[Yn]=e}get destroyed(){return(this._lView[Z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[vt];if(Dr(e)){let n=e[ol],r=n?n.indexOf(this):-1;r>-1&&(jp(e,r),tl(n,r))}this._attachedToViewContainer=!1}EI(this._lView[de],this._lView)}onDestroy(e){V1(this._lView,e)}markForCheck(){Jh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Z]&=-129}reattach(){Op(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,WI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,wI(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e,Op(this._lView)}},si=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=t3;let t=e;return t})(),J$=si,e3=class extends J${constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let o=j$(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Uo(o)}};function t3(){return em(Cn(),je())}function em(t,e){return t.type&4?new e3(e,t,ui(t,e)):null}var rY=new RegExp(`^(\\d+)*(${BP}|${LP})*(.*)`);var n3=()=>null;function GD(t,e){return n3(t,e)}var qp=class{},Wp=class{},ll=class{};function r3(t){let e=Error(`No component factory found for ${tn(t)}.`);return e[o3]=t,e}var o3="ngComponent";var Kp=class{resolveComponentFactory(e){throw r3(e)}},_l=(()=>{let e=class e{};e.NULL=new Kp;let t=e;return t})(),Ea=class{},_a=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>s3();let t=e;return t})();function s3(){let t=je(),e=Cn(),n=no(e.index,t);return(Fo(n)?n:t)[Rt]}var i3=(()=>{let e=class e{};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ep={};var qD=new Set;function tm(t){qD.has(t)||(qD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function WD(...t){}function a3(){let t=typeof fa.requestAnimationFrame=="function",e=fa[t?"requestAnimationFrame":"setTimeout"],n=fa[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ze=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fn(!1),this.onMicrotaskEmpty=new fn(!1),this.onStable=new fn(!1),this.onError=new fn(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=a3().nativeRequestAnimationFrame,l3(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new K(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+o,e,u3,WD,WD);try{return s.runTask(i,n,r)}finally{s.cancelTask(i)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},u3={};function nm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function c3(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(fa,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Zp(t),t.isCheckStableRunning=!0,nm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Zp(t))}function l3(t){let e=()=>{c3(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,s,i,a)=>{if(f3(a))return n.invokeTask(o,s,i,a);try{return KD(t),n.invokeTask(o,s,i,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),ZD(t)}},onInvoke:(n,r,o,s,i,a,u)=>{try{return KD(t),n.invoke(o,s,i,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ZD(t)}},onHasTask:(n,r,o,s)=>{n.hasTask(o,s),r===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Zp(t),nm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,o,s)=>(n.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Zp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function KD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ZD(t){t._nesting--,nm(t)}function f3(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var QI=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of r)o()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Yp(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,s=0;if(e!==null)for(let i=0;i<e.length;i++){let a=e[i];if(typeof a=="number")s=a;else if(s==1)o=xD(o,a);else if(s==2){let u=a,c=e[++i];r=xD(r,u+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}var fl=class extends _l{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=$o(e);return new xa(n,this.ngModule)}};function YD(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function d3(t){let e=t.toLowerCase();return e==="svg"?$1:e==="math"?qF:null}var Qp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=yl(r);let o=this.injector.get(e,Ep,r);return o!==Ep||n===Ep?o:this.parentInjector.get(e,n,r)}},xa=class extends ll{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=YD(e.inputs);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return YD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=IF(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,o){let s=Ie(null);try{o=o||this.ngModule;let i=o instanceof dn?o:o?.injector;i&&this.componentDef.getStandaloneInjector!==null&&(i=this.componentDef.getStandaloneInjector(i)||i);let a=i?new Qp(e,i):e,u=a.get(Ea,null);if(u===null)throw new K(407,!1);let c=a.get(i3,null),l=a.get(QI,null),f=a.get(qp,null),d={rendererFactory:u,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:f},g=u.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",E=r?g$(g,r,this.componentDef.encapsulation,a):vI(g,b,d3(b)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let N=null;E!==null&&(N=Gh(E,a,!0));let P=Yh(0,null,null,1,0,null,null,null,null,null,null),_=Nl(null,P,null,x,null,null,d,g,a,null,N);Oh(_);let M,L;try{let F=this.componentDef,j,W=null;F.findHostDirectiveDefs?(j=[],W=new Map,F.findHostDirectiveDefs(F,j,W),j.push(F)):j=[F];let q=p3(_,E),Y=h3(q,E,F,j,_,d,g);L=L1(P,eo),E&&y3(g,F,E,r),n!==void 0&&v3(L,this.ngContentSelectors,n),M=g3(Y,F,j,W,_,[w3]),Xh(P,_,null)}finally{Rh()}return new Xp(this.componentType,M,ui(L,_),_,L)}finally{Ie(s)}}},Xp=class extends Wp{constructor(e,n,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Uo(o,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Qh(s[de],s,o,e,n),this.previousInputValues.set(e,n);let i=no(this._tNode.index,s);Jh(i)}}get injector(){return new Po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function p3(t,e){let n=t[de],r=eo;return t[r]=e,Sl(n,r,2,"#host",null)}function h3(t,e,n,r,o,s,i){let a=o[de];m3(r,t,e,i);let u=null;e!==null&&(u=Gh(e,o[ni]));let c=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let f=Nl(o,OI(n),null,l,o[t.index],t,s,c,null,null,u);return a.firstCreatePass&&Hp(a,t,r.length-1),Cl(o,f),o[t.index]=f}function m3(t,e,n,r){for(let o of t)e.mergedAttrs=xh(e.mergedAttrs,o.hostAttrs);e.mergedAttrs!==null&&(Yp(e,e.mergedAttrs,!0),n!==null&&TI(r,n,e))}function g3(t,e,n,r,o,s){let i=Cn(),a=o[de],u=Sn(i,o);FI(a,o,i,n,null,r);for(let l=0;l<n.length;l++){let f=i.directiveStart+l,d=oi(o,a,f,i);jo(d,o)}PI(a,o,i),u&&jo(u,o);let c=oi(o,a,i.directiveStart+i.componentOffset,i);if(t[Yn]=o[Yn]=c,s!==null)for(let l of s)l(c,e);return AI(a,i,o),c}function y3(t,e,n,r){if(r)Sp(t,n,["ng-version","17.3.0"]);else{let{attrs:o,classes:s}=TF(e.selectors[0]);o&&Sp(t,n,o),s&&s.length>0&&II(t,n,s.join(" "))}}function v3(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let s=n[o];r.push(s!=null?Array.from(s):null)}}function w3(){let t=Cn();Lh(je()[de],t)}var Go=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=b3;let t=e;return t})();function b3(){let t=Cn();return JI(t,je())}var E3=Go,XI=class extends E3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ui(this._hostTNode,this._hostLView)}get injector(){return new Po(this._hostTNode,this._hostLView)}get parentInjector(){let e=Bh(this._hostTNode,this._hostLView);if(tI(e)){let n=al(e,this._hostLView),r=il(e),o=n[de].data[r+8];return new Po(o,n)}else return new Po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=QD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-nn}createEmbeddedView(e,n,r){let o,s;typeof r=="number"?o=r:r!=null&&(o=r.index,s=r.injector);let i=GD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,i);return this.insertImpl(a,o,zD(this._hostTNode,i)),a}createComponent(e,n,r,o,s){let i=e&&!jF(e),a;if(i)a=n;else{let b=n||{};a=b.index,r=b.injector,o=b.projectableNodes,s=b.environmentInjector||b.ngModuleRef}let u=i?e:new xa($o(e)),c=r||this.parentInjector;if(!s&&u.ngModule==null){let E=(i?c:this.parentInjector).get(dn,null);E&&(s=E)}let l=$o(u.componentType??{}),f=GD(this._lContainer,l?.id??null),d=f?.firstChild??null,g=u.create(c,o,d,s);return this.insertImpl(g.hostView,a,zD(this._hostTNode,f)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(QF(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=o[vt],c=new XI(u,u[Nn],u[vt]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),i=this._lContainer;return U$(i,o,s,r),e.attachToViewContainerRef(),m1(xp(i),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=QD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=jp(this._lContainer,n);r&&(tl(xp(this._lContainer),n),EI(r[de],r))}detach(e){let n=this._adjustIndex(e,-1),r=jp(this._lContainer,n);return r&&tl(xp(this._lContainer),n)!=null?new Uo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function QD(t){return t[ol]}function xp(t){return t[ol]||(t[ol]=[])}function JI(t,e){let n,r=e[t.index];return Dr(r)?n=r:(n=$I(r,e,null,t),e[t.index]=n,Cl(e,n)),D3(n,e,t,r),new XI(n,t,e)}function x3(t,e){let n=t[Rt],r=n.createComment(""),o=Sn(e,t),s=Wh(n,o);return ul(n,s,r,s$(n,o),!1),r}var D3=N3,I3=()=>!1;function T3(t,e,n){return I3(t,e,n)}function N3(t,e,n,r){if(t[Bo])return;let o;n.type&8?o=Jn(r):o=x3(e,n),t[Bo]=o}var Jp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},eh=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let s=0;s<r;s++){let i=n.getByIndex(s),a=this.queries[i.indexInDeclarationView];o.push(a.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)rm(e,n).matches!==null&&this.queries[n].setDirty()}},th=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=R3(e):this.predicate=e}},nh=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,o);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},rh=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let s=r[o];this.matchTNodeWithReadOption(e,n,S3(n,s)),this.matchTNodeWithReadOption(e,n,Yc(n,e,s,!1,!1))}else r===si?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Yc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Tr||o===Go||o===si&&n.type&4)this.addMatch(n.index,-2);else{let s=Yc(n,e,o,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function S3(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function C3(t,e){return t.type&11?ui(t,e):t.type&4?em(t,e):null}function _3(t,e,n,r){return n===-1?C3(e,t):n===-2?A3(t,e,r):oi(t,t[de],n,e)}function A3(t,e,n){if(n===Tr)return ui(e,t);if(n===si)return em(e,t);if(n===Go)return JI(e,t)}function eT(t,e,n,r){let o=e[Er].queries[r];if(o.matches===null){let s=t.data,i=n.matches,a=[];for(let u=0;i!==null&&u<i.length;u+=2){let c=i[u];if(c<0)a.push(null);else{let l=s[c];a.push(_3(e,l,i[u+1],n.metadata.read))}}o.matches=a}return o.matches}function oh(t,e,n,r){let o=t.queries.getByIndex(n),s=o.matches;if(s!==null){let i=eT(t,e,o,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(i[a/2]);else{let c=s[a+1],l=e[-u];for(let f=nn;f<l.length;f++){let d=l[f];d[Ta]===d[vt]&&oh(d[de],d,c,r)}if(l[ri]!==null){let f=l[ri];for(let d=0;d<f.length;d++){let g=f[d];oh(g[de],g,c,r)}}}}}return r}function M3(t,e){return t[Er].queries[e].queryList}function k3(t,e,n){let r=new Bp((n&4)===4);return w$(t,e,r,r.destroy),(e[Er]??=new eh).queries.push(new Jp(r))-1}function O3(t,e,n){let r=Ir();return r.firstCreatePass&&(F3(r,new th(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),k3(r,je(),e)}function R3(t){return t.split(",").map(e=>e.trim())}function F3(t,e,n){t.queries===null&&(t.queries=new nh),t.queries.track(new rh(e,n))}function rm(t,e){return t.queries.getByIndex(e)}function P3(t,e){let n=t[de],r=rm(n,e);return r.crossesNgTemplate?oh(n,t,e,[]):eT(n,t,r,e)}var to=class{},Da=class{};var sh=class extends to{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fl(this);let o=D1(e);this._bootstrapComponents=yI(o.bootstrap),this._r3Injector=fI(e,n,[{provide:to,useValue:this},{provide:_l,useValue:this.componentFactoryResolver},...r],tn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ih=class extends Da{constructor(e){super(),this.moduleType=e}create(e){return new sh(this.moduleType,e,[])}};var dl=class extends to{constructor(e){super(),this.componentFactoryResolver=new fl(this),this.instance=null;let n=new ma([...e.providers,{provide:to,useValue:this},{provide:_l,useValue:this.componentFactoryResolver}],e.parent||Th(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function om(t,e,n=null){return new dl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Aa=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tT(t){return sm(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function $3(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function sm(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function L3(t,e,n){return t[e]=n}function im(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function B3(t){return(t.flags&32)===32}function V3(t,e,n,r,o,s,i,a,u){let c=e.consts,l=Sl(e,t,4,i||null,sl(c,a));RI(e,n,l,sl(c,u)),Lh(e,l);let f=l.tView=Yh(2,l,r,o,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}function am(t,e,n,r,o,s,i,a){let u=je(),c=Ir(),l=t+eo,f=c.firstCreatePass?V3(l,c,u,e,n,r,o,s,i):c.data[l];Sa(f,!1);let d=j3(c,u,f,t);Ph()&&Kh(c,u,d,f),jo(d,u);let g=$I(d,u,d,f);return u[l]=g,Cl(u,g),T3(g,f,u),Sh(f)&&MI(c,u,f),i!=null&&kI(u,f,a),am}var j3=U3;function U3(t,e,n,r){return $h(!0),e[Rt].createComment("")}function H3(t,e,n,r){return im(t,z1(),n)?e+f1(n)+r:Ca}function qo(t,e,n){let r=je(),o=z1();if(im(r,o,e)){let s=Ir(),i=hP();D$(s,i,r,t,e,r[Rt],n,!1)}return qo}function XD(t,e,n,r,o){let s=e.inputs,i=o?"class":"style";Qh(t,n,s[i],i,r)}function z3(t,e,n,r,o,s){let i=e.consts,a=sl(i,o),u=Sl(e,t,2,r,a);return RI(e,n,u,sl(i,s)),u.attrs!==null&&Yp(u,u.attrs,!1),u.mergedAttrs!==null&&Yp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Ft(t,e,n,r){let o=je(),s=Ir(),i=eo+t,a=o[Rt],u=s.firstCreatePass?z3(i,s,o,e,n,r):s.data[i],c=G3(s,o,u,a,e,t);o[i]=c;let l=Sh(u);return Sa(u,!0),TI(a,c,u),!B3(u)&&Ph()&&Kh(s,o,c,u),eP()===0&&jo(c,o),tP(),l&&(MI(s,o,u),AI(s,u,o)),r!==null&&kI(o,u),Ft}function jt(){let t=Cn();H1()?aP():(t=t.parent,Sa(t,!1));let e=t;oP(e)&&sP(),nP();let n=Ir();return n.firstCreatePass&&(Lh(n,t),k1(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&bP(e)&&XD(n,e,je(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&EP(e)&&XD(n,e,je(),e.stylesWithoutHost,!1),jt}function Nr(t,e,n,r){return Ft(t,e,n,r),jt(),Nr}var G3=(t,e,n,r,o,s)=>($h(!0),vI(r,o,gP()));function nT(){return je()}var pl="en-US";var q3=pl;function W3(t){typeof t=="string"&&(q3=t.toLowerCase().replace(/_/g,"-"))}function Ma(t,e,n,r){let o=je(),s=Ir(),i=Cn();return Z3(s,o,o[Rt],i,t,e,r),Ma}function K3(t,e,n,r){let o=t.cleanup;if(o!=null)for(let s=0;s<o.length-1;s+=2){let i=o[s];if(i===n&&o[s+1]===r){let a=e[ga],u=o[s+2];return a.length>u?a[u]:null}typeof i=="string"&&(s+=2)}return null}function Z3(t,e,n,r,o,s,i){let a=Sh(r),c=t.firstCreatePass&&VI(t),l=e[Yn],f=BI(e),d=!0;if(r.type&3||i){let E=Sn(r,e),x=i?i(E):E,N=f.length,P=i?M=>i(Jn(M[r.index])):r.index,_=null;if(!i&&a&&(_=K3(t,e,o,r.index)),_!==null){let M=_.__ngLastListenerFn__||_;M.__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,d=!1}else{s=e1(r,e,l,s,!1);let M=n.listen(x,o,s);f.push(s,M),c&&c.push(o,P,N,N+1)}}else s=e1(r,e,l,s,!1);let g=r.outputs,b;if(d&&g!==null&&(b=g[o])){let E=b.length;if(E)for(let x=0;x<E;x+=2){let N=b[x],P=b[x+1],L=e[N][P].subscribe(s),F=f.length;f.push(s,L),c&&c.push(o,r.index,F,-(F+1))}}}function JD(t,e,n,r){let o=Ie(null);try{return Wn(6,e,n),n(r)!==!1}catch(s){return jI(t,s),!1}finally{Wn(7,e,n),Ie(o)}}function e1(t,e,n,r,o){return function s(i){if(i===Function)return r;let a=t.componentOffset>-1?no(t.index,e):e;Jh(a);let u=JD(e,n,r,i),c=s.__ngNextListenerFn__;for(;c;)u=JD(e,n,c,i)&&u,c=c.__ngNextListenerFn__;return o&&u===!1&&i.preventDefault(),u}}function rT(t,e,n){O3(t,e,n)}function um(t){let e=je(),n=Ir(),r=G1();kh(r+1);let o=rm(n,r);if(t.dirty&&YF(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let s=P3(e,r);t.reset(s,RP),t.notifyOnChanges()}return!0}return!1}function cm(){return M3(je(),G1())}function li(t,e=""){let n=je(),r=Ir(),o=t+eo,s=r.firstCreatePass?Sl(r,o,1,e,null):r.data[o],i=Y3(r,n,s,e,t);n[o]=i,Ph()&&Kh(r,n,i,s),Sa(s,!1)}var Y3=(t,e,n,r,o)=>($h(!0),WP(e[Rt],r));function lm(t){return oT("",t,""),lm}function oT(t,e,n){let r=je(),o=H3(r,t,e,n);return o!==Ca&&$$(r,Fh(),o),oT}var Q3=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let o=N1(!1,r.type),s=o.length>0?om([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=ee({token:e,providedIn:"environment",factory:()=>new e(Ee(dn))});let t=e;return t})();function Al(t){tm("NgStandalone"),t.getStandaloneInjector=e=>e.get(Q3).getOrCreateStandaloneInjector(t)}function fm(t,e,n,r){return J3(je(),uP(),t,e,n,r)}function X3(t,e){let n=t[e];return n===Ca?void 0:n}function J3(t,e,n,r,o,s){let i=e+n;return im(t,i,o)?L3(t,i+1,s?r.call(s,o):r(o)):X3(t,i+1)}var Ml=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var sT=new ye("");function ka(t){return!!t&&typeof t.then=="function"}function iT(t){return!!t&&typeof t.subscribe=="function"}var aT=new ye(""),uT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=U(aT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let i=s();if(ka(i))r.push(i);else if(iT(i)){let a=new Promise((u,c)=>{i.subscribe({complete:u,error:c})});r.push(a)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(s=>{this.reject(s)}),r.length===0&&o(),this.initialized=!0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dm=new ye("");function eL(){qx(()=>{throw new K(600,!1)})}function tL(t){return t.isBoundToModule}function nL(t,e,n){try{let r=n();return ka(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Oa=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=U(dI),this.afterRenderEffectManager=U(QI),this.externalTestViews=new Set,this.beforeRender=new Ot,this.afterTick=new Ot,this.componentTypes=[],this.components=[],this.isStable=U(Aa).hasPendingTasks.pipe(be(r=>!r)),this._injector=U(dn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){let s=r instanceof ll;if(!this._injector.get(uT).done){let g=!s&&x1(r),b=!1;throw new K(405,b)}let a;s?a=r:a=this._injector.get(_l).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=tL(a)?void 0:this._injector.get(to),c=o||a.selector,l=a.create(ai.NULL,[],c,u),f=l.location.nativeElement,d=l.injector.get(sT,null);return d?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Dp(this.components,l),d?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new K(101,!1);let o=Ie(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,Ie(o)}}detectChangesInAttachedViews(r){let o=0,s=this.afterRenderEffectManager;for(;;){if(o===qI)throw new K(103,!1);if(r){let i=o===0;this.beforeRender.next(i);for(let{_lView:a,notifyErrorHandler:u}of this._views)rL(a,i,u)}if(o++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>ah(i))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>ah(i))))break}}attachView(r){let o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){let o=r;Dp(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let o=this._injector.get(dm,[]);[...this._bootstrapListeners,...o].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Dp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new K(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Dp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function rL(t,e,n){!e&&!ah(t)||oL(t,n,e)}function ah(t){return _h(t)}function oL(t,e,n){let r;n?(r=0,t[Z]|=1024):t[Z]&64?r=0:r=1,WI(t,e,r)}var uh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},pm=(()=>{let e=class e{compileModuleSync(r){return new ih(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let o=this.compileModuleSync(r),s=D1(r),i=yI(s.declarations).reduce((a,u)=>{let c=$o(u);return c&&a.push(new xa(c)),a},[]);return new uh(o,i)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sL=(()=>{let e=class e{constructor(){this.zone=U(Ze),this.applicationRef=U(Oa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iL(t){return[{provide:Ze,useFactory:t},{provide:ti,multi:!0,useFactory:()=>{let e=U(sL,{optional:!0});return()=>e.initialize()}},{provide:ti,multi:!0,useFactory:()=>{let e=U(lL);return()=>{e.initialize()}}},{provide:dI,useFactory:aL}]}function aL(){let t=U(Ze),e=U(er);return n=>t.runOutsideAngular(()=>e.handleError(n))}function uL(t){let e=iL(()=>new Ze(cL(t)));return bl([[],e])}function cL(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var lL=(()=>{let e=class e{constructor(){this.subscription=new ot,this.initialized=!1,this.zone=U(Ze),this.pendingTasks=U(Aa)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fL(){return typeof $localize<"u"&&$localize.locale||pl}var hm=new ye("",{providedIn:"root",factory:()=>U(hm,fe.Optional|fe.SkipSelf)||fL()});var cT=new ye("");var Xc=null;function dL(t=[],e){return ai.create({name:e,providers:[{provide:El,useValue:"platform"},{provide:cT,useValue:new Set([()=>Xc=null])},...t]})}function pL(t=[]){if(Xc)return Xc;let e=dL(t);return Xc=e,eL(),hL(e),e}function hL(t){t.get(Hh,null)?.forEach(n=>n())}var fi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mL;let t=e;return t})();function mL(t){return gL(Cn(),je(),(t&16)===16)}function gL(t,e,n){if(Dl(t)&&!n){let r=no(t.index,e);return new Uo(r,r)}else if(t.type&47){let r=e[Xn];return new Uo(r,e)}return null}var ch=class{constructor(){}supports(e){return tT(e)}create(e){return new lh(e)}},yL=(t,e)=>e,lh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||yL}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,s=null;for(;n||r;){let i=!r||n&&n.currentIndex<t1(r,o,s)?n:r,a=t1(i,o,s),u=i.currentIndex;if(i===r)o--,r=r._nextRemoved;else if(n=n._next,i.previousIndex==null)o++;else{s||(s=[]);let c=a-o,l=u-o;if(c!=l){for(let d=0;d<c;d++){let g=d<s.length?s[d]:s[d]=0,b=g+d;l<=b&&b<c&&(s[d]=g+1)}let f=i.previousIndex;s[f]=l-c}}a!==u&&e(i,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!tT(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,s,i;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],i=this._trackByFn(a,s),n===null||!Object.is(n.trackById,i)?(n=this._mismatch(n,s,i,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,i,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else o=0,$3(e,a=>{i=this._trackByFn(o,a),n===null||!Object.is(n.trackById,i)?(n=this._mismatch(n,a,i,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,i,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,o)):e=this._addAfter(new fh(n,r),s,o)),e}_verifyReinsertion(e,n,r,o){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,s=e._nextRemoved;return o===null?this._removalsHead=s:o._nextRemoved=s,s===null?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new hl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new hl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},fh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},dh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},hl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new dh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function t1(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}var ph=class{constructor(){}supports(e){return e instanceof Map||sm(e)}create(){return new hh}},hh=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||sm(e)))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let o=this._records.get(e);this._maybeAddToChanges(o,n);let s=o._prev,i=o._next;return s&&(s._next=i),i&&(i._prev=s),o._next=null,o._prev=null,o}let r=new mh(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},mh=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function n1(){return new mm([new ch])}var mm=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,o){if(o!=null){let s=o.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||n1()),deps:[[e,new bh,new vl]]}}find(r){let o=this.factories.find(s=>s.supports(r));if(o!=null)return o;throw new K(901,!1)}};e.\u0275prov=ee({token:e,providedIn:"root",factory:n1});let t=e;return t})();function r1(){return new gm([new ph])}var gm=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,o){if(o){let s=o.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||r1()),deps:[[e,new bh,new vl]]}}find(r){let o=this.factories.find(s=>s.supports(r));if(o)return o;throw new K(901,!1)}};e.\u0275prov=ee({token:e,providedIn:"root",factory:r1});let t=e;return t})();function lT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,o=pL(r),s=[uL(),...n||[]],a=new dl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Ze);return u.run(()=>{a.resolveInjectorInitializers();let c=a.get(er,null),l;u.runOutsideAngular(()=>{l=u.onError.subscribe({next:g=>{c.handleError(g)}})});let f=()=>a.destroy(),d=o.get(cT);return d.add(f),a.onDestroy(()=>{l.unsubscribe(),d.delete(f)}),nL(c,u,()=>{let g=a.get(uT);return g.runInitializers(),g.donePromise.then(()=>{let b=a.get(hm,pl);W3(b||pl);let E=a.get(Oa);return e!==void 0&&E.bootstrap(e),E})})})}catch(e){return Promise.reject(e)}}var vL=new ye("",{providedIn:"root",factory:()=>U(wL)}),wL=(()=>{let e=class e{};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>new gh});let t=e;return t})(),gh=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=U(Aa),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},yh=class{constructor(e,n,r,o,s,i){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=Wx(a=>this.runEffect(a),()=>this.schedule(),i),this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(er,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function ym(t,e){tm("NgSignals"),!e?.injector&&VF(ym);let n=e?.injector??U(ai),r=e?.manualCleanup!==!0?n.get(jh):null,o=new yh(n.get(vL),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(fi,null,{optional:!0});return!s||!(s._lView[Z]&8)?o.watcher.notify():(s._lView[Wc]??=[]).push(o.watcher.notify),o}var vT=null;function di(){return vT}function wT(t){vT??=t}var Ol=class{};var pn=new ye(""),bT=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>U(IL),providedIn:"platform"});let t=e;return t})();var IL=(()=>{let e=class e extends bT{constructor(){super(),this._doc=U(pn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return di().getBaseHref(this._doc)}onPopState(r){let o=di().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",r,!1),()=>o.removeEventListener("popstate",r)}onHashChange(r){let o=di().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",r,!1),()=>o.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,o,s){this._history.pushState(r,o,s)}replaceState(r,o,s){this._history.replaceState(r,o,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function ET(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function fT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Wo(t){return t&&t[0]!=="?"?"?"+t:t}var Fl=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>U(xT),providedIn:"root"});let t=e;return t})(),TL=new ye(""),xT=(()=>{let e=class e extends Fl{constructor(r,o){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??U(pn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return ET(this._baseHref,r)}path(r=!1){let o=this._platformLocation.pathname+Wo(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${o}${s}`:o}pushState(r,o,s,i){let a=this.prepareExternalUrl(s+Wo(i));this._platformLocation.pushState(r,o,a)}replaceState(r,o,s,i){let a=this.prepareExternalUrl(s+Wo(i));this._platformLocation.replaceState(r,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(o){return new(o||e)(Ee(bT),Ee(TL,8))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ra=(()=>{let e=class e{constructor(r){this._subject=new fn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let o=this._locationStrategy.getBaseHref();this._basePath=CL(fT(dT(o))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,o=""){return this.path()==this.normalize(r+Wo(o))}normalize(r){return e.stripTrailingSlash(SL(this._basePath,dT(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,o="",s=null){this._locationStrategy.pushState(s,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Wo(o)),s)}replaceState(r,o="",s=null){this._locationStrategy.replaceState(s,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Wo(o)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{let o=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",o){this._urlChangeListeners.forEach(s=>s(r,o))}subscribe(r,o,s){return this._subject.subscribe({next:r,error:o,complete:s})}};e.normalizeQueryParams=Wo,e.joinWithSlash=ET,e.stripTrailingSlash=fT,e.\u0275fac=function(o){return new(o||e)(Ee(Fl))},e.\u0275prov=ee({token:e,factory:()=>NL(),providedIn:"root"});let t=e;return t})();function NL(){return new Ra(Ee(Fl))}function SL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function dT(t){return t.replace(/\/index.html$/,"")}function CL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function DT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(s)}return null}var vm=/\s+/,pT=[],IT=(()=>{let e=class e{constructor(r,o){this._ngEl=r,this._renderer=o,this.initialClasses=pT,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(vm):pT}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(vm):r}ngDoCheck(){for(let o of this.initialClasses)this._updateState(o,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let o of r)this._updateState(o,!0);else if(r!=null)for(let o of Object.keys(r))this._updateState(o,!!r[o]);this._applyStateDiff()}_updateState(r,o){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==o&&(s.changed=!0,s.enabled=o),s.touched=!0):this.stateMap.set(r,{enabled:o,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let o=r[0],s=r[1];s.changed?(this._toggleClass(o,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(o,!1),this.stateMap.delete(o)),s.touched=!1}}_toggleClass(r,o){r=r.trim(),r.length>0&&r.split(vm).forEach(s=>{o?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(o){return new(o||e)(_n(Tr),_n(_a))},e.\u0275dir=ii({type:e,selectors:[["","ngClass",""]],inputs:{klass:[br.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var wm=class{constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},TT=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,o,s){this._viewContainer=r,this._template=o,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let o=this._viewContainer;r.forEachOperation((s,i,a)=>{if(s.previousIndex==null)o.createEmbeddedView(this._template,new wm(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)o.remove(i===null?void 0:i);else if(i!==null){let u=o.get(i);o.move(u,a),hT(u,s)}});for(let s=0,i=o.length;s<i;s++){let u=o.get(s).context;u.index=s,u.count=i,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let i=o.get(s.currentIndex);hT(i,s)})}static ngTemplateContextGuard(r,o){return!0}};e.\u0275fac=function(o){return new(o||e)(_n(Go),_n(si),_n(mm))},e.\u0275dir=ii({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function hT(t,e){t.context.$implicit=e.item}var NT=(()=>{let e=class e{constructor(r,o,s){this._ngEl=r,this._differs=o,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,o){let[s,i]=r.split("."),a=s.indexOf("-")===-1?void 0:ro.DashCase;o!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,i?`${o}${i}`:o,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(o=>this._setStyle(o.key,null)),r.forEachAddedItem(o=>this._setStyle(o.key,o.currentValue)),r.forEachChangedItem(o=>this._setStyle(o.key,o.currentValue))}};e.\u0275fac=function(o){return new(o||e)(_n(Tr),_n(gm),_n(_a))},e.\u0275dir=ii({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();var ST="browser",_L="server";function bm(t){return t===_L}var Rl=class{};var Dm=class extends Ol{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Im=class t extends Dm{static makeCurrent(){wT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=AL();return n==null?null:ML(n)}resetBaseElement(){Fa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return DT(document.cookie,e)}},Fa=null;function AL(){return Fa=Fa||document.querySelector("base"),Fa?Fa.getAttribute("href"):null}function ML(t){return new URL(t,document.baseURI).pathname}var kL=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),Tm=new ye(""),MT=(()=>{let e=class e{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,s){return this._findPluginFor(o).addEventListener(r,o,s)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(i=>i.supports(r)),!o)throw new K(5101,!1);return this._eventNameToPlugin.set(r,o),o}};e.\u0275fac=function(o){return new(o||e)(Ee(Tm),Ee(Ze))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),Pl=class{constructor(e){this._doc=e}},Em="ng-app-id",kT=(()=>{let e=class e{constructor(r,o,s,i={}){this.doc=r,this.appId=o,this.nonce=s,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bm(i),this.resetHostNodes()}addStyles(r){for(let o of r)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(r){for(let o of r)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(o=>o.remove()),r.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let o of this.getAllStyles())this.addStyleToHost(r,o)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let o of this.hostNodes)this.addStyleToHost(o,r)}onStyleRemoved(r){let o=this.styleRef;o.get(r)?.elements?.forEach(s=>s.remove()),o.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Em}="${this.appId}"]`);if(r?.length){let o=new Map;return r.forEach(s=>{s.textContent!=null&&o.set(s.textContent,s)}),o}return null}changeUsageCount(r,o){let s=this.styleRef;if(s.has(r)){let i=s.get(r);return i.usage+=o,i.usage}return s.set(r,{usage:o,elements:[]}),o}getStyleElement(r,o){let s=this.styleNodesInDOM,i=s?.get(o);if(i?.parentNode===r)return s.delete(o),i.removeAttribute(Em),i;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(Em,this.appId),r.appendChild(a),a}}addStyleToHost(r,o){let s=this.getStyleElement(r,o),i=this.styleRef,a=i.get(o)?.elements;a?a.push(s):i.set(o,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(o){return new(o||e)(Ee(pn),Ee(Uh),Ee(zh,8),Ee(ci))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),xm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Sm=/%COMP%/g,OT="%COMP%",OL=`_nghost-${OT}`,RL=`_ngcontent-${OT}`,FL=!0,PL=new ye("",{providedIn:"root",factory:()=>FL});function $L(t){return RL.replace(Sm,t)}function LL(t){return OL.replace(Sm,t)}function RT(t,e){return e.map(n=>n.replace(Sm,t))}var CT=(()=>{let e=class e{constructor(r,o,s,i,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=s,this.removeStylesOnCompDestroy=i,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=bm(u),this.defaultRenderer=new Pa(r,a,c,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===Zn.ShadowDom&&(o=qe(G({},o),{encapsulation:Zn.Emulated}));let s=this.getOrCreateRenderer(r,o);return s instanceof $l?s.applyToHost(r):s instanceof $a&&s.applyStyles(),s}getOrCreateRenderer(r,o){let s=this.rendererByCompId,i=s.get(o.id);if(!i){let a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(o.encapsulation){case Zn.Emulated:i=new $l(c,l,o,this.appId,f,a,u,d);break;case Zn.ShadowDom:return new Nm(c,l,r,o,a,u,this.nonce,d);default:i=new $a(c,l,o,f,a,u,d);break}s.set(o.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(o){return new(o||e)(Ee(MT),Ee(kT),Ee(Uh),Ee(PL),Ee(pn),Ee(ci),Ee(Ze),Ee(zh))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),Pa=class{constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(xm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_T(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(_T(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let s=xm[o];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=xm[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(ro.DashCase|ro.Important)?e.style.setProperty(n,r,o&ro.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ro.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=di().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function _T(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Nm=class extends Pa{constructor(e,n,r,o,s,i,a,u){super(e,s,i,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=RT(o.id,o.styles);for(let l of c){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$a=class extends Pa{constructor(e,n,r,o,s,i,a,u){super(e,s,i,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=u?RT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},$l=class extends $a{constructor(e,n,r,o,s,i,a,u){let c=o+"-"+r.id;super(e,n,r,s,i,a,u,c),this.contentAttr=$L(c),this.hostAttr=LL(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},BL=(()=>{let e=class e extends Pl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,s){return r.addEventListener(o,s,!1),()=>this.removeEventListener(r,o,s)}removeEventListener(r,o,s){return r.removeEventListener(o,s)}};e.\u0275fac=function(o){return new(o||e)(Ee(pn))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),AT=["alt","control","meta","shift"],VL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},UL=(()=>{let e=class e extends Pl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,o,s){let i=e.parseEventName(o),a=e.eventCallback(i.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>di().onAndCancel(r,i.domEventName,a))}static parseEventName(r){let o=r.toLowerCase().split("."),s=o.shift();if(o.length===0||!(s==="keydown"||s==="keyup"))return null;let i=e._normalizeKey(o.pop()),a="",u=o.indexOf("code");if(u>-1&&(o.splice(u,1),a="code."),AT.forEach(l=>{let f=o.indexOf(l);f>-1&&(o.splice(f,1),a+=l+".")}),a+=i,o.length!=0||i.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,o){let s=VL[r.key]||r.key,i="";return o.indexOf("code.")>-1&&(s=r.code,i="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),AT.forEach(a=>{if(a!==s){let u=jL[a];u(r)&&(i+=a+".")}}),i+=s,i===o)}static eventCallback(r,o,s){return i=>{e.matchEventFullKeyCode(i,r)&&s.runGuarded(()=>o(i))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(o){return new(o||e)(Ee(pn))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})();function FT(t,e){return lT(G({rootComponent:t},HL(e)))}function HL(t){return{appProviders:[...KL,...t?.providers??[]],platformProviders:WL}}function zL(){Im.makeCurrent()}function GL(){return new er}function qL(){return hI(document),document}var WL=[{provide:ci,useValue:ST},{provide:Hh,useValue:zL,multi:!0},{provide:pn,useFactory:qL,deps:[]}];var KL=[{provide:El,useValue:"root"},{provide:er,useFactory:GL,deps:[]},{provide:Tm,useClass:BL,multi:!0,deps:[pn,Ze,ci]},{provide:Tm,useClass:UL,multi:!0,deps:[pn]},CT,kT,MT,{provide:Ea,useExisting:CT},{provide:Rl,useClass:kL,deps:[]},[]];var PT=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(o){return new(o||e)(Ee(pn))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ie="primary",Xa=Symbol("RouteTitle"),km=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function yi(t){return new km(t)}function YL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let o={};for(let s=0;s<r.length;s++){let i=r[s],a=t[s];if(i.startsWith(":"))o[i.substring(1)]=a;else if(i!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function QL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!tr(t[n],e[n]))return!1;return!0}function tr(t,e){let n=t?Om(t):void 0,r=e?Om(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let s=0;s<n.length;s++)if(o=n[s],!UT(t[o],e[o]))return!1;return!0}function Om(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function UT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((o,s)=>r[s]===o)}else return t===e}function HT(t){return t.length>0?t[t.length-1]:null}function io(t){return up(t)?t:ka(t)?st(Promise.resolve(t)):se(t)}var XL={exact:GT,subset:qT},zT={exact:JL,subset:e4,ignored:()=>!0};function $T(t,e,n){return XL[n.paths](t.root,e.root,n.matrixParams)&&zT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function JL(t,e){return tr(t,e)}function GT(t,e,n){if(!Zo(t.segments,e.segments)||!Vl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!GT(t.children[r],e.children[r],n))return!1;return!0}function e4(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>UT(t[n],e[n]))}function qT(t,e,n){return WT(t,e,e.segments,n)}function WT(t,e,n,r){if(t.segments.length>n.length){let o=t.segments.slice(0,n.length);return!(!Zo(o,n)||e.hasChildren()||!Vl(o,n,r))}else if(t.segments.length===n.length){if(!Zo(t.segments,n)||!Vl(t.segments,n,r))return!1;for(let o in e.children)if(!t.children[o]||!qT(t.children[o],e.children[o],r))return!1;return!0}else{let o=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Zo(t.segments,o)||!Vl(t.segments,o,r)||!t.children[ie]?!1:WT(t.children[ie],e,s,r)}}function Vl(t,e,n){return e.every((r,o)=>zT[n](t[o].parameters,r.parameters))}var oo=class{constructor(e=new Te([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=yi(this.queryParams),this._queryParamMap}toString(){return r4.serialize(this)}},Te=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jl(this)}},Ko=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=yi(this.parameters),this._parameterMap}toString(){return ZT(this)}};function t4(t,e){return Zo(t,e)&&t.every((n,r)=>tr(n.parameters,e[r].parameters))}function Zo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function n4(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===ie&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==ie&&(n=n.concat(e(o,r)))}),n}var sg=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>new Hl,providedIn:"root"});let t=e;return t})(),Hl=class{parse(e){let n=new Fm(e);return new oo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${La(e.root,!0)}`,r=i4(e.queryParams),o=typeof e.fragment=="string"?`#${o4(e.fragment)}`:"";return`${n}${r}${o}`}},r4=new Hl;function jl(t){return t.segments.map(e=>ZT(e)).join("/")}function La(t,e){if(!t.hasChildren())return jl(t);if(e){let n=t.children[ie]?La(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([o,s])=>{o!==ie&&r.push(`${o}:${La(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=n4(t,(r,o)=>o===ie?[La(t.children[ie],!1)]:[`${o}:${La(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ie]!=null?`${jl(t)}/${n[0]}`:`${jl(t)}/(${n.join("//")})`}}function KT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ll(t){return KT(t).replace(/%3B/gi,";")}function o4(t){return encodeURI(t)}function Rm(t){return KT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ul(t){return decodeURIComponent(t)}function LT(t){return Ul(t.replace(/\+/g,"%20"))}function ZT(t){return`${Rm(t.path)}${s4(t.parameters)}`}function s4(t){return Object.entries(t).map(([e,n])=>`;${Rm(e)}=${Rm(n)}`).join("")}function i4(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Ll(n)}=${Ll(o)}`).join("&"):`${Ll(n)}=${Ll(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var a4=/^[^\/()?;#]+/;function Cm(t){let e=t.match(a4);return e?e[0]:""}var u4=/^[^\/()?;=#]+/;function c4(t){let e=t.match(u4);return e?e[0]:""}var l4=/^[^=?&#]+/;function f4(t){let e=t.match(l4);return e?e[0]:""}var d4=/^[^&#]+/;function p4(t){let e=t.match(d4);return e?e[0]:""}var Fm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new Te(e,n)),r}parseSegment(){let e=Cm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new Ko(Ul(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=c4(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Cm(this.remaining);o&&(r=o,this.capture(r))}e[Ul(n)]=Ul(r)}parseQueryParam(e){let n=f4(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=p4(this.remaining);i&&(r=i,this.capture(r))}let o=LT(n),s=LT(r);if(e.hasOwnProperty(o)){let i=e[o];Array.isArray(i)||(i=[i],e[o]=i),i.push(s)}else e[o]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Cm(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new K(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);let i=this.parseChildren();n[s]=Object.keys(i).length===1?i[ie]:new Te([],i),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function YT(t){return t.segments.length>0?new Te([],{[ie]:t}):t}function QT(t){let e={};for(let[r,o]of Object.entries(t.children)){let s=QT(o);if(r===ie&&s.segments.length===0&&s.hasChildren())for(let[i,a]of Object.entries(s.children))e[i]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Te(t.segments,e);return h4(n)}function h4(t){if(t.numberOfChildren===1&&t.children[ie]){let e=t.children[ie];return new Te(t.segments.concat(e.segments),e.children)}return t}function vi(t){return t instanceof oo}function m4(t,e,n=null,r=null){let o=XT(t);return JT(o,e,n,r)}function XT(t){let e;function n(s){let i={};for(let u of s.children){let c=n(u);i[u.outlet]=c}let a=new Te(s.url,i);return s===t&&(e=a),a}let r=n(t.root),o=YT(r);return e??o}function JT(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return _m(o,o,o,n,r);let s=g4(e);if(s.toRoot())return _m(o,o,new Te([],{}),n,r);let i=y4(s,o,t),a=i.processChildren?ja(i.segmentGroup,i.index,s.commands):tN(i.segmentGroup,i.index,s.commands);return _m(o,i.segmentGroup,a,n,r)}function zl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function za(t){return typeof t=="object"&&t!=null&&t.outlets}function _m(t,e,n,r,o){let s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`});let i;t===e?i=n:i=eN(t,e,n);let a=YT(QT(i));return new oo(a,s,o)}function eN(t,e,n){let r={};return Object.entries(t.children).forEach(([o,s])=>{s===e?r[o]=n:r[o]=eN(s,e,n)}),new Te(t.segments,r)}var Gl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&zl(r[0]))throw new K(4003,!1);let o=r.find(za);if(o&&o!==HT(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function g4(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Gl(!0,0,t);let e=0,n=!1,r=t.reduce((o,s,i)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:a}]}if(s.segmentPath)return[...o,s.segmentPath]}return typeof s!="string"?[...o,s]:i===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&o.push(a))}),o):[...o,s]},[]);return new Gl(n,e,r)}var mi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function y4(t,e,n){if(t.isAbsolute)return new mi(e,!0,0);if(!n)return new mi(e,!1,NaN);if(n.parent===null)return new mi(n,!0,0);let r=zl(t.commands[0])?0:1,o=n.segments.length-1+r;return v4(n,o,t.numberOfDoubleDots)}function v4(t,e,n){let r=t,o=e,s=n;for(;s>o;){if(s-=o,r=r.parent,!r)throw new K(4005,!1);o=r.segments.length}return new mi(r,!1,o-s)}function w4(t){return za(t[0])?t[0].outlets:{[ie]:t}}function tN(t,e,n){if(t??=new Te([],{}),t.segments.length===0&&t.hasChildren())return ja(t,e,n);let r=b4(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Te(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new Te(t.segments.slice(r.pathIndex),t.children),ja(s,0,o)}else return r.match&&o.length===0?new Te(t.segments,{}):r.match&&!t.hasChildren()?Pm(t,e,n):r.match?ja(t,0,o):Pm(t,e,n)}function ja(t,e,n){if(n.length===0)return new Te(t.segments,{});{let r=w4(n),o={};if(Object.keys(r).some(s=>s!==ie)&&t.children[ie]&&t.numberOfChildren===1&&t.children[ie].segments.length===0){let s=ja(t.children[ie],e,n);return new Te(t.segments,s.children)}return Object.entries(r).forEach(([s,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(o[s]=tN(t.children[s],e,i))}),Object.entries(t.children).forEach(([s,i])=>{r[s]===void 0&&(o[s]=i)}),new Te(t.segments,o)}}function b4(t,e,n){let r=0,o=e,s={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return s;let i=t.segments[o],a=n[r];if(za(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(o>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!VT(u,c,i))return s;r+=2}else{if(!VT(u,{},i))return s;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Pm(t,e,n){let r=t.segments.slice(0,e),o=0;for(;o<n.length;){let s=n[o];if(za(s)){let u=E4(s.outlets);return new Te(r,u)}if(o===0&&zl(n[0])){let u=t.segments[e];r.push(new Ko(u.path,BT(n[0]))),o++;continue}let i=za(s)?s.outlets[ie]:`${s}`,a=o<n.length-1?n[o+1]:null;i&&a&&zl(a)?(r.push(new Ko(i,BT(a))),o+=2):(r.push(new Ko(i,{})),o++)}return new Te(r,{})}function E4(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Pm(new Te([],{}),0,r))}),e}function BT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function VT(t,e,n){return t==n.path&&tr(e,n.parameters)}var Ua="imperative",wt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(wt||{}),hn=class{constructor(e,n){this.id=e,this.url=n}},Ga=class extends hn{constructor(e,n,r="imperative",o=null){super(e,n),this.type=wt.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yo=class extends hn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=wt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},on=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(on||{}),$m=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}($m||{}),so=class extends hn{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=wt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qo=class extends hn{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=wt.NavigationSkipped}},qa=class extends hn{constructor(e,n,r,o){super(e,n),this.error=r,this.target=o,this.type=wt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ql=class extends hn{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=wt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lm=class extends hn{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=wt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bm=class extends hn{constructor(e,n,r,o,s){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=s,this.type=wt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Vm=class extends hn{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=wt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jm=class extends hn{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=wt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Um=class{constructor(e){this.route=e,this.type=wt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Hm=class{constructor(e){this.route=e,this.type=wt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zm=class{constructor(e){this.snapshot=e,this.type=wt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gm=class{constructor(e){this.snapshot=e,this.type=wt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qm=class{constructor(e){this.snapshot=e,this.type=wt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wm=class{constructor(e){this.snapshot=e,this.type=wt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Wa=class{},Ka=class{constructor(e){this.url=e}};var Km=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xl,this.attachRef=null}},Xl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,o){let s=this.getOrCreateContext(r);s.outlet=o,this.contexts.set(r,s)}onChildOutletDestroyed(r){let o=this.getContext(r);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let o=this.getContext(r);return o||(o=new Km,this.contexts.set(r,o)),o}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Zm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Zm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ym(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Ym(e,this._root).map(n=>n.value)}};function Zm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Zm(t,n);if(r)return r}return null}function Ym(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ym(t,n);if(r.length)return r.unshift(e),r}return[]}var rn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function hi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Kl=class extends Wl{constructor(e,n){super(e),this.snapshot=n,ag(this,e)}toString(){return this.snapshot.toString()}};function nN(t){let e=x4(t),n=new gt([new Ko("",{})]),r=new gt({}),o=new gt({}),s=new gt({}),i=new gt(""),a=new wi(n,r,s,i,o,ie,t,e.root);return a.snapshot=e.root,new Kl(new rn(a,[]),e)}function x4(t){let e={},n={},r={},o="",s=new Za([],e,r,o,n,ie,t,null,{});return new Zl("",new rn(s,[]))}var wi=class{constructor(e,n,r,o,s,i,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=s,this.outlet=i,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(be(c=>c[Xa]))??se(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(be(e=>yi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(be(e=>yi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ig(t,e,n="emptyOnly"){let r,{routeConfig:o}=t;return e!==null&&(n==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:G(G({},e.params),t.params),data:G(G({},e.data),t.data),resolve:G(G(G(G({},t.data),e.data),o?.data),t._resolvedData)}:r={params:G({},t.params),data:G({},t.data),resolve:G(G({},t.data),t._resolvedData??{})},o&&oN(o)&&(r.resolve[Xa]=o.title),r}var Za=class{get title(){return this.data?.[Xa]}constructor(e,n,r,o,s,i,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=i,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=yi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=yi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Zl=class extends Wl{constructor(e,n){super(n),this.url=e,ag(this,n)}toString(){return rN(this._root)}};function ag(t,e){e.value._routerState=t,e.children.forEach(n=>ag(t,n))}function rN(t){let e=t.children.length>0?` { ${t.children.map(rN).join(", ")} } `:"";return`${t.value}${e}`}function Am(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,tr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),tr(e.params,n.params)||t.paramsSubject.next(n.params),QL(e.url,n.url)||t.urlSubject.next(n.url),tr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Qm(t,e){let n=tr(t.params,e.params)&&t4(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Qm(t.parent,e.parent))}function oN(t){return typeof t.title=="string"||t.title===null}var D4=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new fn,this.deactivateEvents=new fn,this.attachEvents=new fn,this.detachEvents=new fn,this.parentContexts=U(Xl),this.location=U(Go),this.changeDetector=U(fi),this.environmentInjector=U(dn),this.inputBinder=U(ug,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:o,previousValue:s}=r.name;if(o)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,o){this.activated=r,this._activatedRoute=o,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,o){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new Xm(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=ii({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Il]});let t=e;return t})(),Xm=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===wi?this.route:e===Xl?this.childContexts:this.parent.get(e,n)}},ug=new ye("");function I4(t,e,n){let r=Ya(t,e._root,n?n._root:void 0);return new Kl(r,e)}function Ya(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let o=T4(t,e,n);return new rn(r,o)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let i=s.route;return i.value._futureSnapshot=e.value,i.children=e.children.map(a=>Ya(t,a)),i}}let r=N4(e.value),o=e.children.map(s=>Ya(t,s));return new rn(r,o)}}function T4(t,e,n){return e.children.map(r=>{for(let o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return Ya(t,r,o);return Ya(t,r)})}function N4(t){return new wi(new gt(t.url),new gt(t.params),new gt(t.queryParams),new gt(t.fragment),new gt(t.data),t.outlet,t.component,t)}var sN="ngNavigationCancelingError";function iN(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=vi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=aN(!1,on.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function aN(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[sN]=!0,n.cancellationCode=e,n}function S4(t){return uN(t)&&vi(t.url)}function uN(t){return!!t&&t[sN]}var C4=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=wl({type:e,selectors:[["ng-component"]],standalone:!0,features:[Al],decls:1,vars:0,template:function(o,s){o&1&&Nr(0,"router-outlet")},dependencies:[D4],encapsulation:2});let t=e;return t})();function _4(t,e){return t.providers&&!t._injector&&(t._injector=om(t.providers,e,`Route: ${t.path}`)),t._injector??e}function cg(t){let e=t.children&&t.children.map(cg),n=e?qe(G({},t),{children:e}):G({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=C4),n}function nr(t){return t.outlet||ie}function A4(t,e){let n=t.filter(r=>nr(r)===e);return n.push(...t.filter(r=>nr(r)!==e)),n}function Ja(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var M4=(t,e,n,r)=>be(o=>(new Jm(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)),Jm=class{constructor(e,n,r,o,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Am(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let o=hi(n);e.children.forEach(s=>{let i=s.value.outlet;this.deactivateRoutes(s,o[i],r),delete o[i]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let o=e.value,s=n?n.value:null;if(o===s)if(o.component){let i=r.getContext(o.outlet);i&&this.deactivateChildRoutes(e,n,i.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,s=hi(e);for(let i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);if(r&&r.outlet){let i=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,s=hi(e);for(let i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let o=hi(n);e.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],r),this.forwardEvent(new Wm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Gm(e.value.snapshot))}activateRoutes(e,n,r){let o=e.value,s=n?n.value:null;if(Am(o),o===s)if(o.component){let i=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,i.children)}else this.activateChildRoutes(e,n,r);else if(o.component){let i=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),Am(a.route.value),this.activateChildRoutes(e,null,i.children)}else{let a=Ja(o.snapshot);i.attachRef=null,i.route=o,i.injector=a,i.outlet&&i.outlet.activateWith(o,i.injector),this.activateChildRoutes(e,null,i.children)}}else this.activateChildRoutes(e,null,r)}},Yl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},gi=class{constructor(e,n){this.component=e,this.route=n}};function k4(t,e,n){let r=t._root,o=e?e._root:null;return Ba(r,o,n,[r.value])}function O4(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ei(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!a1(t)?t:e.get(t):r}function Ba(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let s=hi(e);return t.children.forEach(i=>{R4(i,s[i.value.outlet],n,r.concat([i.value]),o),delete s[i.value.outlet]}),Object.entries(s).forEach(([i,a])=>Ha(a,n.getContext(i),o)),o}function R4(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,i=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(i&&s.routeConfig===i.routeConfig){let u=F4(i,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Yl(r)):(s.data=i.data,s._resolvedData=i._resolvedData),s.component?Ba(t,e,a?a.children:null,r,o):Ba(t,e,n,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new gi(a.outlet.component,i))}else i&&Ha(e,a,o),o.canActivateChecks.push(new Yl(r)),s.component?Ba(t,null,a?a.children:null,r,o):Ba(t,null,n,r,o);return o}function F4(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Zo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Zo(t.url,e.url)||!tr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qm(t,e)||!tr(t.queryParams,e.queryParams);case"paramsChange":default:return!Qm(t,e)}}function Ha(t,e,n){let r=hi(t),o=t.value;Object.entries(r).forEach(([s,i])=>{o.component?e?Ha(i,e.children.getContext(s),n):Ha(i,null,n):Ha(i,e,n)}),o.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new gi(e.outlet.component,o)):n.canDeactivateChecks.push(new gi(null,o)):n.canDeactivateChecks.push(new gi(null,o))}function eu(t){return typeof t=="function"}function P4(t){return typeof t=="boolean"}function $4(t){return t&&eu(t.canLoad)}function L4(t){return t&&eu(t.canActivate)}function B4(t){return t&&eu(t.canActivateChild)}function V4(t){return t&&eu(t.canDeactivate)}function j4(t){return t&&eu(t.canMatch)}function cN(t){return t instanceof vr||t?.name==="EmptyError"}var Bl=Symbol("INITIAL_VALUE");function bi(){return Dn(t=>Uc(t.map(e=>e.pipe(wr(1),pp(Bl)))).pipe(be(e=>{for(let n of e)if(n!==!0){if(n===Bl)return Bl;if(n===!1||n instanceof oo)return n}return!0}),xn(e=>e!==Bl),wr(1)))}function U4(t,e){return it(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:i}}=n;return i.length===0&&s.length===0?se(qe(G({},n),{guardsResult:!0})):H4(i,r,o,t).pipe(it(a=>a&&P4(a)?z4(r,s,t,e):se(a)),be(a=>qe(G({},n),{guardsResult:a})))})}function H4(t,e,n,r){return st(t).pipe(it(o=>Z4(o.component,o.route,n,e,r)),qn(o=>o!==!0,!0))}function z4(t,e,n,r){return st(e).pipe(qs(o=>Gs(q4(o.route.parent,r),G4(o.route,r),K4(t,o.path,n),W4(t,o.route,n))),qn(o=>o!==!0,!0))}function G4(t,e){return t!==null&&e&&e(new qm(t)),se(!0)}function q4(t,e){return t!==null&&e&&e(new zm(t)),se(!0)}function W4(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return se(!0);let o=r.map(s=>Hc(()=>{let i=Ja(e)??n,a=Ei(s,i),u=L4(a)?a.canActivate(e,t):Ho(i,()=>a(e,t));return io(u).pipe(qn())}));return se(o).pipe(bi())}function K4(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(i=>O4(i)).filter(i=>i!==null).map(i=>Hc(()=>{let a=i.guards.map(u=>{let c=Ja(i.node)??n,l=Ei(u,c),f=B4(l)?l.canActivateChild(r,t):Ho(c,()=>l(r,t));return io(f).pipe(qn())});return se(a).pipe(bi())}));return se(s).pipe(bi())}function Z4(t,e,n,r,o){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return se(!0);let i=s.map(a=>{let u=Ja(e)??o,c=Ei(a,u),l=V4(c)?c.canDeactivate(t,e,n,r):Ho(u,()=>c(t,e,n,r));return io(l).pipe(qn())});return se(i).pipe(bi())}function Y4(t,e,n,r){let o=e.canLoad;if(o===void 0||o.length===0)return se(!0);let s=o.map(i=>{let a=Ei(i,t),u=$4(a)?a.canLoad(e,n):Ho(t,()=>a(e,n));return io(u)});return se(s).pipe(bi(),lN(r))}function lN(t){return op(yt(e=>{if(vi(e))throw iN(t,e)}),be(e=>e===!0))}function Q4(t,e,n,r){let o=e.canMatch;if(!o||o.length===0)return se(!0);let s=o.map(i=>{let a=Ei(i,t),u=j4(a)?a.canMatch(e,n):Ho(t,()=>a(e,n));return io(u)});return se(s).pipe(bi(),lN(r))}var Qa=class{constructor(e){this.segmentGroup=e||null}},Ql=class extends Error{constructor(e){super(),this.urlTree=e}};function pi(t){return zs(new Qa(t))}function X4(t){return zs(new K(4e3,!1))}function J4(t){return zs(aN(!1,on.GuardRejected))}var eg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return se(r);if(o.numberOfChildren>1||!o.children[ie])return X4(e.redirectTo);o=o.children[ie]}}applyRedirectCommands(e,n,r){let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Ql(o);return o}applyRedirectCreateUrlTree(e,n,r,o){let s=this.createSegmentGroup(e,n.root,r,o);return new oo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([o,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[o]=n[a]}else r[o]=s}),r}createSegmentGroup(e,n,r,o){let s=this.createSegments(e,n.segments,r,o),i={};return Object.entries(n.children).forEach(([a,u])=>{i[a]=this.createSegmentGroup(e,u,r,o)}),new Te(s,i)}createSegments(e,n,r,o){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,o):this.findOrReturn(s,r))}findPosParam(e,n,r){let o=r[n.path.substring(1)];if(!o)throw new K(4001,!1);return o}findOrReturn(e,n){let r=0;for(let o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}},tg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eB(t,e,n,r,o){let s=lg(t,e,n);return s.matched?(r=_4(e,r),Q4(r,e,n,o).pipe(be(i=>i===!0?s:G({},tg)))):se(s)}function lg(t,e,n){if(e.path==="**")return tB(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?G({},tg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(e.matcher||YL)(n,t,e);if(!o)return G({},tg);let s={};Object.entries(o.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let i=o.consumed.length>0?G(G({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:i,positionalParamSegments:o.posParams??{}}}function tB(t){return{matched:!0,parameters:t.length>0?HT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function jT(t,e,n,r){return n.length>0&&oB(t,n,r)?{segmentGroup:new Te(e,rB(r,new Te(n,t.children))),slicedSegments:[]}:n.length===0&&sB(t,n,r)?{segmentGroup:new Te(t.segments,nB(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Te(t.segments,t.children),slicedSegments:n}}function nB(t,e,n,r){let o={};for(let s of n)if(Jl(t,e,s)&&!r[nr(s)]){let i=new Te([],{});o[nr(s)]=i}return G(G({},r),o)}function rB(t,e){let n={};n[ie]=e;for(let r of t)if(r.path===""&&nr(r)!==ie){let o=new Te([],{});n[nr(r)]=o}return n}function oB(t,e,n){return n.some(r=>Jl(t,e,r)&&nr(r)!==ie)}function sB(t,e,n){return n.some(r=>Jl(t,e,r))}function Jl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function iB(t,e,n,r){return nr(t)!==r&&(r===ie||!Jl(e,n,t))?!1:lg(e,t,n).matched}function aB(t,e,n){return e.length===0&&!t.children[n]}var ng=class{};function uB(t,e,n,r,o,s,i="emptyOnly"){return new rg(t,e,n,r,o,i,s).recognize()}var cB=31,rg=class{constructor(e,n,r,o,s,i,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=i,this.urlSerializer=a,this.applyRedirects=new eg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=jT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(be(n=>{let r=new Za([],Object.freeze({}),Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,{},ie,this.rootComponentType,null,{}),o=new rn(r,n),s=new Zl("",o),i=m4(r,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(i),this.inheritParamsAndData(s._root,null),{state:s,tree:i}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(Yr(r=>{if(r instanceof Ql)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Qa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,o=ig(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(o.params),r.data=Object.freeze(o.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,o,!0).pipe(be(s=>s instanceof rn?[s]:[]))}processChildren(e,n,r){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return st(o).pipe(qs(s=>{let i=r.children[s],a=A4(n,s);return this.processSegmentGroup(e,a,i,s)}),dp((s,i)=>(s.push(...i),s)),Qr(null),fp(),it(s=>{if(s===null)return pi(r);let i=fN(s);return lB(i),se(i)}))}processSegment(e,n,r,o,s,i){return st(n).pipe(qs(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,o,s,i).pipe(Yr(u=>{if(u instanceof Qa)return se(null);throw u}))),qn(a=>!!a),Yr(a=>{if(cN(a))return aB(r,o,s)?se(new ng):pi(r);throw a}))}processSegmentAgainstRoute(e,n,r,o,s,i,a){return iB(r,o,s,i)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,s,i):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,s,i):pi(o):pi(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,s,i){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:l}=lg(n,o,s);if(!a)return pi(n);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>cB&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,c);return this.applyRedirects.lineralizeSegments(o,f).pipe(it(d=>this.processSegment(e,r,n,d.concat(l),i,!1)))}matchSegmentAgainstRoute(e,n,r,o,s){let i=eB(n,r,o,e,this.urlSerializer);return r.path==="**"&&(n.children={}),i.pipe(Dn(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(Dn(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:l,remainingSegments:f,parameters:d}=a,g=new Za(l,d,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,dB(r),nr(r),r.component??r._loadedComponent??null,r,pB(r)),{segmentGroup:b,slicedSegments:E}=jT(n,l,f,u);if(E.length===0&&b.hasChildren())return this.processChildren(c,u,b).pipe(be(N=>N===null?null:new rn(g,N)));if(u.length===0&&E.length===0)return se(new rn(g,[]));let x=nr(r)===s;return this.processSegment(c,u,b,E,x?ie:s,!0).pipe(be(N=>new rn(g,N instanceof rn?[N]:[])))}))):pi(n)))}getChildConfig(e,n,r){return n.children?se({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?se({routes:n._loadedRoutes,injector:n._loadedInjector}):Y4(e,n,r,this.urlSerializer).pipe(it(o=>o?this.configLoader.loadChildren(e,n).pipe(yt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):J4(n))):se({routes:[],injector:e})}};function lB(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}function fB(t){let e=t.value.routeConfig;return e&&e.path===""}function fN(t){let e=[],n=new Set;for(let r of t){if(!fB(r)){e.push(r);continue}let o=e.find(s=>r.value.routeConfig===s.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):e.push(r)}for(let r of n){let o=fN(r.children);e.push(new rn(r.value,o))}return e.filter(r=>!n.has(r))}function dB(t){return t.data||{}}function pB(t){return t.resolve||{}}function hB(t,e,n,r,o,s){return it(i=>uB(t,e,n,r,i.extractedUrl,o,s).pipe(be(({state:a,tree:u})=>qe(G({},i),{targetSnapshot:a,urlAfterRedirects:u}))))}function mB(t,e){return it(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return se(n);let s=new Set(o.map(u=>u.route)),i=new Set;for(let u of s)if(!i.has(u))for(let c of dN(u))i.add(c);let a=0;return st(i).pipe(qs(u=>s.has(u)?gB(u,r,t,e):(u.data=ig(u,u.parent,t).resolve,se(void 0))),yt(()=>a++),Ws(1),it(u=>a===i.size?se(n):en))})}function dN(t){let e=t.children.map(n=>dN(n)).flat();return[t,...e]}function gB(t,e,n,r){let o=t.routeConfig,s=t._resolve;return o?.title!==void 0&&!oN(o)&&(s[Xa]=o.title),yB(s,t,e,r).pipe(be(i=>(t._resolvedData=i,t.data=ig(t,t.parent,n).resolve,null)))}function yB(t,e,n,r){let o=Om(t);if(o.length===0)return se({});let s={};return st(o).pipe(it(i=>vB(t[i],e,n,r).pipe(qn(),yt(a=>{s[i]=a}))),Ws(1),lp(s),Yr(i=>cN(i)?en:zs(i)))}function vB(t,e,n,r){let o=Ja(e)??r,s=Ei(t,o),i=s.resolve?s.resolve(e,n):Ho(o,()=>s(e,n));return io(i)}function Mm(t){return Dn(e=>{let n=t(e);return n?st(n).pipe(be(()=>e)):se(e)})}var pN=(()=>{let e=class e{buildTitle(r){let o,s=r.root;for(;s!==void 0;)o=this.getResolvedTitleForRoute(s)??o,s=s.children.find(i=>i.outlet===ie);return o}getResolvedTitleForRoute(r){return r.data[Xa]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>U(wB),providedIn:"root"});let t=e;return t})(),wB=(()=>{let e=class e extends pN{constructor(r){super(),this.title=r}updateTitle(r){let o=this.buildTitle(r);o!==void 0&&this.title.setTitle(o)}};e.\u0275fac=function(o){return new(o||e)(Ee(PT))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fg=new ye("",{providedIn:"root",factory:()=>({})}),dg=new ye(""),bB=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=U(pm)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return se(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=io(r.loadComponent()).pipe(be(hN),yt(i=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=i}),la(()=>{this.componentLoaders.delete(r)})),s=new Hs(o,()=>new Ot).pipe(Us());return this.componentLoaders.set(r,s),s}loadChildren(r,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return se({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let i=EB(o,this.compiler,r,this.onLoadEndListener).pipe(la(()=>{this.childrenLoaders.delete(o)})),a=new Hs(i,()=>new Ot).pipe(Us());return this.childrenLoaders.set(o,a),a}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function EB(t,e,n,r){return io(t.loadChildren()).pipe(be(hN),it(o=>o instanceof Da||Array.isArray(o)?se(o):st(e.compileModuleAsync(o))),be(o=>{r&&r(t);let s,i,a=!1;return Array.isArray(o)?(i=o,a=!0):(s=o.create(n).injector,i=s.get(dg,[],{optional:!0,self:!0}).flat()),{routes:i.map(cg),injector:s}}))}function xB(t){return t&&typeof t=="object"&&"default"in t}function hN(t){return xB(t)?t.default:t}var pg=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>U(DB),providedIn:"root"});let t=e;return t})(),DB=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,o){return r}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IB=new ye("");var TB=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ot,this.transitionAbortSubject=new Ot,this.configLoader=U(bB),this.environmentInjector=U(dn),this.urlSerializer=U(sg),this.rootContexts=U(Xl),this.location=U(Ra),this.inputBindingEnabled=U(ug,{optional:!0})!==null,this.titleStrategy=U(pN),this.options=U(fg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=U(pg),this.createViewTransition=U(IB,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Um(s)),o=s=>this.events.next(new Hm(s));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let o=++this.navigationId;this.transitions?.next(qe(G(G({},this.transitions.value),r),{id:o}))}setupNavigations(r,o,s){return this.transitions=new gt({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ua,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xn(i=>i.id!==0),be(i=>qe(G({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Dn(i=>{let a=!1,u=!1;return se(i).pipe(Dn(c=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",on.SupersededByNewNavigation),en;this.currentTransition=i,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?qe(G({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&f!=="reload"){let d="";return this.events.next(new Qo(c.id,this.urlSerializer.serialize(c.rawUrl),d,$m.IgnoredSameUrlNavigation)),c.resolve(null),en}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return se(c).pipe(Dn(d=>{let g=this.transitions?.getValue();return this.events.next(new Ga(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),g!==this.transitions?.getValue()?en:Promise.resolve(d)}),hB(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),yt(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=qe(G({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let g=new ql(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:g,source:b,restoredState:E,extras:x}=c,N=new Ga(d,this.urlSerializer.serialize(g),b,E);this.events.next(N);let P=nN(this.rootComponentType).snapshot;return this.currentTransition=i=qe(G({},c),{targetSnapshot:P,urlAfterRedirects:g,extras:qe(G({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,se(i)}else{let d="";return this.events.next(new Qo(c.id,this.urlSerializer.serialize(c.extractedUrl),d,$m.IgnoredByUrlHandlingStrategy)),c.resolve(null),en}}),yt(c=>{let l=new Lm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),be(c=>(this.currentTransition=i=qe(G({},c),{guards:k4(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),i)),U4(this.environmentInjector,c=>this.events.next(c)),yt(c=>{if(i.guardsResult=c.guardsResult,vi(c.guardsResult))throw iN(this.urlSerializer,c.guardsResult);let l=new Bm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),xn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",on.GuardRejected),!1)),Mm(c=>{if(c.guards.canActivateChecks.length)return se(c).pipe(yt(l=>{let f=new Vm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Dn(l=>{let f=!1;return se(l).pipe(mB(this.paramsInheritanceStrategy,this.environmentInjector),yt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",on.NoDataFromResolver)}}))}),yt(l=>{let f=new jm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),Mm(c=>{let l=f=>{let d=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(f.routeConfig).pipe(yt(g=>{f.component=g}),be(()=>{})));for(let g of f.children)d.push(...l(g));return d};return Uc(l(c.targetSnapshot.root)).pipe(Qr(null),wr(1))}),Mm(()=>this.afterPreactivation()),Dn(()=>{let{currentSnapshot:c,targetSnapshot:l}=i,f=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return f?st(f).pipe(be(()=>i)):se(i)}),be(c=>{let l=I4(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=i=qe(G({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,i}),yt(()=>{this.events.next(new Wa)}),M4(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),wr(1),yt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),hp(this.transitionAbortSubject.pipe(yt(c=>{throw c}))),la(()=>{!a&&!u&&this.cancelNavigationTransition(i,"",on.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yr(c=>{if(u=!0,uN(c))this.events.next(new so(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode)),S4(c)?this.events.next(new Ka(c.url)):i.resolve(!1);else{this.events.next(new qa(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0));try{i.resolve(r.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return en}))}))}cancelNavigationTransition(r,o,s){let i=new so(r.id,this.urlSerializer.serialize(r.extractedUrl),o,s);this.events.next(i),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NB(t){return t!==Ua}var SB=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>U(CB),providedIn:"root"});let t=e;return t})(),og=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},CB=(()=>{let e=class e extends og{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vh(e)))(s||e)}})(),e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mN=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:()=>U(_B),providedIn:"root"});let t=e;return t})(),_B=(()=>{let e=class e extends mN{constructor(){super(...arguments),this.location=U(Ra),this.urlSerializer=U(sg),this.options=U(fg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=U(pg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new oo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=nN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(o=>{o.type==="popstate"&&r(o.url,o.state)})}handleRouterEvent(r,o){if(r instanceof Ga)this.stateMemento=this.createStateMemento();else if(r instanceof Qo)this.rawUrlTree=o.initialUrl;else if(r instanceof ql){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(s,o)}}else r instanceof Wa?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):r instanceof so&&(r.code===on.GuardRejected||r.code===on.NoDataFromResolver)?this.restoreHistory(o):r instanceof qa?this.restoreHistory(o,!0):r instanceof Yo&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,o){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||o.extras.replaceUrl){let i=this.browserPageId,a=G(G({},o.extras.state),this.generateNgRouterState(o.id,i));this.location.replaceState(s,"",a)}else{let i=G(G({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(s,"",i)}}restoreHistory(r,o=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,i=this.currentPageId-s;i!==0?this.location.historyGo(i):this.currentUrlTree===r.finalUrl&&i===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,o){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:o}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vh(e)))(s||e)}})(),e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Va=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Va||{});function AB(t,e){t.events.pipe(xn(n=>n instanceof Yo||n instanceof so||n instanceof qa||n instanceof Qo),be(n=>n instanceof Yo||n instanceof Qo?Va.COMPLETE:(n instanceof so?n.code===on.Redirect||n.code===on.SupersededByNewNavigation:!1)?Va.REDIRECTING:Va.FAILED),xn(n=>n!==Va.REDIRECTING),wr(1)).subscribe(()=>{e()})}function MB(t){throw t}var kB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gN=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=U(Ml),this.stateManager=U(mN),this.options=U(fg,{optional:!0})||{},this.pendingTasks=U(Aa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=U(TB),this.urlSerializer=U(sg),this.location=U(Ra),this.urlHandlingStrategy=U(pg),this._events=new Ot,this.errorHandler=this.options.errorHandler||MB,this.navigated=!1,this.routeReuseStrategy=U(SB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=U(dg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!U(ug,{optional:!0}),this.eventsSubscription=new ot,this.isNgZoneEnabled=U(Ze)instanceof Ze&&Ze.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(o=>{try{let s=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(s!==null&&i!==null){if(this.stateManager.handleRouterEvent(o,i),o instanceof so&&o.code!==on.Redirect&&o.code!==on.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof Yo)this.navigated=!0;else if(o instanceof Ka){let a=this.urlHandlingStrategy.merge(o.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||NB(s.source)};this.scheduleNavigation(a,Ua,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}FB(o)&&this._events.next(o)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ua,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",o)},0)})}navigateToSyncWithBrowser(r,o,s){let i={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=G({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,o,a,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(cg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,o={}){let{relativeTo:s,queryParams:i,fragment:a,queryParamsHandling:u,preserveFragment:c}=o,l=c?this.currentUrlTree.fragment:a,f=null;switch(u){case"merge":f=G(G({},this.currentUrlTree.queryParams),i);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=i||null}f!==null&&(f=this.removeEmptyProps(f));let d;try{let g=s?s.snapshot:this.routerState.snapshot.root;d=XT(g)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),d=this.currentUrlTree.root}return JT(d,r,f,l??null)}navigateByUrl(r,o={skipLocationChange:!1}){let s=vi(r)?r:this.parseUrl(r),i=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(i,Ua,null,o)}navigate(r,o={skipLocationChange:!1}){return RB(r),this.navigateByUrl(this.createUrlTree(r,o),o)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,o){let s;if(o===!0?s=G({},kB):o===!1?s=G({},OB):s=o,vi(r))return $T(this.currentUrlTree,r,s);let i=this.parseUrl(r);return $T(this.currentUrlTree,i,s)}removeEmptyProps(r){return Object.entries(r).reduce((o,[s,i])=>(i!=null&&(o[s]=i),o),{})}scheduleNavigation(r,o,s,i,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((d,g)=>{u=d,c=g});let f=this.pendingTasks.add();return AB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:i,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new K(4008,!1)}function FB(t){return!(t instanceof Wa)&&!(t instanceof Ka)}var PB=new ye("");function yN(t,...e){return bl([{provide:dg,multi:!0,useValue:t},[],{provide:wi,useFactory:$B,deps:[gN]},{provide:dm,multi:!0,useFactory:LB},e.map(n=>n.\u0275providers)])}function $B(t){return t.routerState.root}function LB(){let t=U(ai);return e=>{let n=t.get(Oa);if(e!==n.components[0])return;let r=t.get(gN),o=t.get(BB);t.get(VB)===1&&r.initialNavigation(),t.get(jB,null,fe.Optional)?.setUpPreloading(),t.get(PB,null,fe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var BB=new ye("",{factory:()=>new Ot}),VB=new ye("",{providedIn:"root",factory:()=>1});var jB=new ye("");var vN=[];var wN={providers:[yN(vN)]};var uR=Hd(aR());var pG=["webcam"],hG=t=>({invisible:t}),mG=t=>({removed:t});function gG(t,e){if(t&1&&(Ft(0,"div")(1,"p",22),li(2),jt(),Nr(3,"div",23),jt()),t&2){let n=e.$implicit;zo(),qo("ngStyle",n.labelStyles),zo(),lm(n.label),zo(),qo("ngStyle",n.highlighterStyles)}}var cR=(()=>{let e=class e{constructor(){this.predictions=[],this.predictionScore=.66,this.title="web-app",this.hideButton=!1,this.hideDemos=!0,this.predictionLabel="",this.predictionsLabelStyles={display:"none"},this.highlighterStyles={},ym(()=>{uR.load().then(r=>{this.model=r,this.hideDemos=!1})})}enableCam(){if(!this.model)return;this.hideButton=!0;let r={video:!0};navigator.mediaDevices.getUserMedia(r).then(o=>{this.webcamElementRef.nativeElement.srcObject=o,this.hideDemos=!1})}predictWebcam(){this.model.detect(this.webcamElementRef.nativeElement).then(r=>{this.predictions=r.reduce((o,s)=>{let i=G({},s),{class:a,bbox:u,score:c}=i;return c>this.predictionScore&&(i.label=`${a} - with ${Math.round(parseFloat(c.toString())*100)} % confidence.`,i.labelStyles={"margin-left":`${u[0]}px`,"margin-top":`${u[1]-10}px`,width:`${u[2]-10}px`,top:"0px",left:"0px"},i.highlighterStyles={left:`${u[0]}px`,top:`${u[1]}px`,width:`${u[2]}px`,height:`${u[3]}px`},o=[...o,i]),o},[]),window.requestAnimationFrame(()=>this.predictWebcam())})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=wl({type:e,selectors:[["app-root"]],viewQuery:function(o,s){if(o&1&&rT(pG,5),o&2){let i;um(i=cm())&&(s.webcamElementRef=i.first)}},standalone:!0,features:[Al],decls:30,vars:7,consts:[["webcam",""],[1,"logo"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 982 239","fill","none",1,"angular-logo"],["clip-path","url(#a)"],["fill","url(#b)","d","M388.676 191.625h30.849L363.31 31.828h-35.758l-56.215 159.797h30.848l13.174-39.356h60.061l13.256 39.356Zm-65.461-62.675 21.602-64.311h1.227l21.602 64.311h-44.431Zm126.831-7.527v70.202h-28.23V71.839h27.002v20.374h1.392c2.782-6.71 7.2-12.028 13.255-15.956 6.056-3.927 13.584-5.89 22.503-5.89 8.264 0 15.465 1.8 21.684 5.318 6.137 3.518 10.964 8.673 14.319 15.382 3.437 6.71 5.074 14.81 4.992 24.383v76.175h-28.23v-71.92c0-8.019-2.046-14.237-6.219-18.819-4.173-4.5-9.819-6.791-17.102-6.791-4.91 0-9.328 1.063-13.174 3.272-3.846 2.128-6.792 5.237-9.001 9.328-2.046 4.009-3.191 8.918-3.191 14.728ZM589.233 239c-10.147 0-18.82-1.391-26.103-4.091-7.282-2.7-13.092-6.382-17.511-10.964-4.418-4.582-7.528-9.655-9.164-15.219l25.448-6.136c1.145 2.372 2.782 4.663 4.991 6.954 2.209 2.291 5.155 4.255 8.837 5.81 3.683 1.554 8.428 2.291 14.074 2.291 8.019 0 14.647-1.964 19.884-5.81 5.237-3.845 7.856-10.227 7.856-19.064v-22.665h-1.391c-1.473 2.946-3.601 5.892-6.383 9.001-2.782 3.109-6.464 5.645-10.965 7.691-4.582 2.046-10.228 3.109-17.101 3.109-9.165 0-17.511-2.209-25.039-6.545-7.446-4.337-13.42-10.883-17.757-19.474-4.418-8.673-6.628-19.473-6.628-32.565 0-13.091 2.21-24.301 6.628-33.383 4.419-9.082 10.311-15.955 17.839-20.7 7.528-4.746 15.874-7.037 25.039-7.037 7.037 0 12.846 1.145 17.347 3.518 4.582 2.373 8.182 5.236 10.883 8.51 2.7 3.272 4.746 6.382 6.137 9.327h1.554v-19.8h27.821v121.749c0 10.228-2.454 18.737-7.364 25.447-4.91 6.709-11.538 11.7-20.048 15.055-8.509 3.355-18.165 4.991-28.884 4.991Zm.245-71.266c5.974 0 11.047-1.473 15.302-4.337 4.173-2.945 7.446-7.118 9.573-12.519 2.21-5.482 3.274-12.027 3.274-19.637 0-7.609-1.064-14.155-3.274-19.8-2.127-5.646-5.318-10.064-9.491-13.255-4.174-3.11-9.329-4.746-15.384-4.746s-11.537 1.636-15.792 4.91c-4.173 3.272-7.365 7.772-9.492 13.418-2.128 5.727-3.191 12.191-3.191 19.392 0 7.2 1.063 13.745 3.273 19.228 2.127 5.482 5.318 9.736 9.573 12.764 4.174 3.027 9.41 4.582 15.629 4.582Zm141.56-26.51V71.839h28.23v119.786h-27.412v-21.273h-1.227c-2.7 6.709-7.119 12.191-13.338 16.446-6.137 4.255-13.747 6.382-22.748 6.382-7.855 0-14.81-1.718-20.783-5.237-5.974-3.518-10.72-8.591-14.075-15.382-3.355-6.709-5.073-14.891-5.073-24.464V71.839h28.312v71.921c0 7.609 2.046 13.664 6.219 18.083 4.173 4.5 9.655 6.709 16.365 6.709 4.173 0 8.183-.982 12.111-3.028 3.927-2.045 7.118-5.072 9.655-9.082 2.537-4.091 3.764-9.164 3.764-15.218Zm65.707-109.395v159.796h-28.23V31.828h28.23Zm44.841 162.169c-7.61 0-14.402-1.391-20.457-4.091-6.055-2.7-10.883-6.791-14.32-12.109-3.518-5.319-5.237-11.946-5.237-19.801 0-6.791 1.228-12.355 3.765-16.773 2.536-4.419 5.891-7.937 10.228-10.637 4.337-2.618 9.164-4.664 14.647-6.055 5.4-1.391 11.046-2.373 16.856-3.027 7.037-.737 12.683-1.391 17.102-1.964 4.337-.573 7.528-1.555 9.574-2.782 1.963-1.309 3.027-3.273 3.027-5.973v-.491c0-5.891-1.718-10.391-5.237-13.664-3.518-3.191-8.51-4.828-15.056-4.828-6.955 0-12.356 1.473-16.447 4.5-4.009 3.028-6.71 6.546-8.183 10.719l-26.348-3.764c2.046-7.282 5.483-13.336 10.31-18.328 4.746-4.909 10.638-8.59 17.511-11.045 6.955-2.455 14.565-3.682 22.912-3.682 5.809 0 11.537.654 17.265 2.045s10.965 3.6 15.711 6.71c4.746 3.109 8.51 7.282 11.455 12.6 2.864 5.318 4.337 11.946 4.337 19.883v80.184h-27.166v-16.446h-.9c-1.719 3.355-4.092 6.464-7.201 9.328-3.109 2.864-6.955 5.237-11.619 6.955-4.828 1.718-10.229 2.536-16.529 2.536Zm7.364-20.701c5.646 0 10.556-1.145 14.729-3.354 4.173-2.291 7.364-5.237 9.655-9.001 2.292-3.763 3.355-7.854 3.355-12.273v-14.155c-.9.737-2.373 1.391-4.5 2.046-2.128.654-4.419 1.145-7.037 1.636-2.619.491-5.155.9-7.692 1.227-2.537.328-4.746.655-6.628.901-4.173.572-8.019 1.472-11.292 2.781-3.355 1.31-5.973 3.11-7.855 5.401-1.964 2.291-2.864 5.318-2.864 8.918 0 5.237 1.882 9.164 5.728 11.782 3.682 2.782 8.51 4.091 14.401 4.091Zm64.643 18.328V71.839h27.412v19.965h1.227c2.21-6.955 5.974-12.274 11.292-16.038 5.319-3.763 11.456-5.645 18.329-5.645 1.555 0 3.355.082 5.237.163 1.964.164 3.601.328 4.91.573v25.938c-1.227-.41-3.109-.819-5.646-1.146a58.814 58.814 0 0 0-7.446-.49c-5.155 0-9.738 1.145-13.829 3.354-4.091 2.209-7.282 5.236-9.655 9.164-2.373 3.927-3.519 8.427-3.519 13.5v70.448h-28.312ZM222.077 39.192l-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"],["fill","url(#c)","d","M388.676 191.625h30.849L363.31 31.828h-35.758l-56.215 159.797h30.848l13.174-39.356h60.061l13.256 39.356Zm-65.461-62.675 21.602-64.311h1.227l21.602 64.311h-44.431Zm126.831-7.527v70.202h-28.23V71.839h27.002v20.374h1.392c2.782-6.71 7.2-12.028 13.255-15.956 6.056-3.927 13.584-5.89 22.503-5.89 8.264 0 15.465 1.8 21.684 5.318 6.137 3.518 10.964 8.673 14.319 15.382 3.437 6.71 5.074 14.81 4.992 24.383v76.175h-28.23v-71.92c0-8.019-2.046-14.237-6.219-18.819-4.173-4.5-9.819-6.791-17.102-6.791-4.91 0-9.328 1.063-13.174 3.272-3.846 2.128-6.792 5.237-9.001 9.328-2.046 4.009-3.191 8.918-3.191 14.728ZM589.233 239c-10.147 0-18.82-1.391-26.103-4.091-7.282-2.7-13.092-6.382-17.511-10.964-4.418-4.582-7.528-9.655-9.164-15.219l25.448-6.136c1.145 2.372 2.782 4.663 4.991 6.954 2.209 2.291 5.155 4.255 8.837 5.81 3.683 1.554 8.428 2.291 14.074 2.291 8.019 0 14.647-1.964 19.884-5.81 5.237-3.845 7.856-10.227 7.856-19.064v-22.665h-1.391c-1.473 2.946-3.601 5.892-6.383 9.001-2.782 3.109-6.464 5.645-10.965 7.691-4.582 2.046-10.228 3.109-17.101 3.109-9.165 0-17.511-2.209-25.039-6.545-7.446-4.337-13.42-10.883-17.757-19.474-4.418-8.673-6.628-19.473-6.628-32.565 0-13.091 2.21-24.301 6.628-33.383 4.419-9.082 10.311-15.955 17.839-20.7 7.528-4.746 15.874-7.037 25.039-7.037 7.037 0 12.846 1.145 17.347 3.518 4.582 2.373 8.182 5.236 10.883 8.51 2.7 3.272 4.746 6.382 6.137 9.327h1.554v-19.8h27.821v121.749c0 10.228-2.454 18.737-7.364 25.447-4.91 6.709-11.538 11.7-20.048 15.055-8.509 3.355-18.165 4.991-28.884 4.991Zm.245-71.266c5.974 0 11.047-1.473 15.302-4.337 4.173-2.945 7.446-7.118 9.573-12.519 2.21-5.482 3.274-12.027 3.274-19.637 0-7.609-1.064-14.155-3.274-19.8-2.127-5.646-5.318-10.064-9.491-13.255-4.174-3.11-9.329-4.746-15.384-4.746s-11.537 1.636-15.792 4.91c-4.173 3.272-7.365 7.772-9.492 13.418-2.128 5.727-3.191 12.191-3.191 19.392 0 7.2 1.063 13.745 3.273 19.228 2.127 5.482 5.318 9.736 9.573 12.764 4.174 3.027 9.41 4.582 15.629 4.582Zm141.56-26.51V71.839h28.23v119.786h-27.412v-21.273h-1.227c-2.7 6.709-7.119 12.191-13.338 16.446-6.137 4.255-13.747 6.382-22.748 6.382-7.855 0-14.81-1.718-20.783-5.237-5.974-3.518-10.72-8.591-14.075-15.382-3.355-6.709-5.073-14.891-5.073-24.464V71.839h28.312v71.921c0 7.609 2.046 13.664 6.219 18.083 4.173 4.5 9.655 6.709 16.365 6.709 4.173 0 8.183-.982 12.111-3.028 3.927-2.045 7.118-5.072 9.655-9.082 2.537-4.091 3.764-9.164 3.764-15.218Zm65.707-109.395v159.796h-28.23V31.828h28.23Zm44.841 162.169c-7.61 0-14.402-1.391-20.457-4.091-6.055-2.7-10.883-6.791-14.32-12.109-3.518-5.319-5.237-11.946-5.237-19.801 0-6.791 1.228-12.355 3.765-16.773 2.536-4.419 5.891-7.937 10.228-10.637 4.337-2.618 9.164-4.664 14.647-6.055 5.4-1.391 11.046-2.373 16.856-3.027 7.037-.737 12.683-1.391 17.102-1.964 4.337-.573 7.528-1.555 9.574-2.782 1.963-1.309 3.027-3.273 3.027-5.973v-.491c0-5.891-1.718-10.391-5.237-13.664-3.518-3.191-8.51-4.828-15.056-4.828-6.955 0-12.356 1.473-16.447 4.5-4.009 3.028-6.71 6.546-8.183 10.719l-26.348-3.764c2.046-7.282 5.483-13.336 10.31-18.328 4.746-4.909 10.638-8.59 17.511-11.045 6.955-2.455 14.565-3.682 22.912-3.682 5.809 0 11.537.654 17.265 2.045s10.965 3.6 15.711 6.71c4.746 3.109 8.51 7.282 11.455 12.6 2.864 5.318 4.337 11.946 4.337 19.883v80.184h-27.166v-16.446h-.9c-1.719 3.355-4.092 6.464-7.201 9.328-3.109 2.864-6.955 5.237-11.619 6.955-4.828 1.718-10.229 2.536-16.529 2.536Zm7.364-20.701c5.646 0 10.556-1.145 14.729-3.354 4.173-2.291 7.364-5.237 9.655-9.001 2.292-3.763 3.355-7.854 3.355-12.273v-14.155c-.9.737-2.373 1.391-4.5 2.046-2.128.654-4.419 1.145-7.037 1.636-2.619.491-5.155.9-7.692 1.227-2.537.328-4.746.655-6.628.901-4.173.572-8.019 1.472-11.292 2.781-3.355 1.31-5.973 3.11-7.855 5.401-1.964 2.291-2.864 5.318-2.864 8.918 0 5.237 1.882 9.164 5.728 11.782 3.682 2.782 8.51 4.091 14.401 4.091Zm64.643 18.328V71.839h27.412v19.965h1.227c2.21-6.955 5.974-12.274 11.292-16.038 5.319-3.763 11.456-5.645 18.329-5.645 1.555 0 3.355.082 5.237.163 1.964.164 3.601.328 4.91.573v25.938c-1.227-.41-3.109-.819-5.646-1.146a58.814 58.814 0 0 0-7.446-.49c-5.155 0-9.738 1.145-13.829 3.354-4.091 2.209-7.282 5.236-9.655 9.164-2.373 3.927-3.519 8.427-3.519 13.5v70.448h-28.312ZM222.077 39.192l-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"],["id","c","cx","0","cy","0","r","1","gradientTransform","rotate(118.122 171.182 60.81) scale(205.794)","gradientUnits","userSpaceOnUse"],["stop-color","#FF41F8"],["offset",".707","stop-color","#FF41F8","stop-opacity",".5"],["offset","1","stop-color","#FF41F8","stop-opacity","0"],["id","b","x1","0","x2","982","y1","192","y2","192","gradientUnits","userSpaceOnUse"],["stop-color","#F0060B"],["offset","0","stop-color","#F0070C"],["offset",".526","stop-color","#CC26D5"],["offset","1","stop-color","#7702FF"],["id","a"],["fill","#fff","d","M0 0h982v239H0z"],[3,"ngClass"],[1,"camView"],[4,"ngFor","ngForOf"],[3,"click","ngClass"],["autoplay","","muted","","width","640","height","480",3,"loadeddata"],[3,"ngStyle"],[1,"highlighter",3,"ngStyle"]],template:function(o,s){if(o&1){let i=nT();Ft(0,"div",1),Q1(),Ft(1,"svg",2)(2,"g",3),Nr(3,"path",4)(4,"path",5),jt(),Ft(5,"defs")(6,"radialGradient",6),Nr(7,"stop",7)(8,"stop",8)(9,"stop",9),jt(),Ft(10,"linearGradient",10),Nr(11,"stop",11)(12,"stop",12)(13,"stop",13)(14,"stop",14),jt(),Ft(15,"clipPath",15),Nr(16,"path",16),jt()()()(),X1(),Ft(17,"h1"),li(18,"Multiple object detection using pre trained model in TensorFlow.js"),jt(),Ft(19,"p"),li(20,"Wait for the model to load before clicking the button to enable the webcam - at which point it will become visible to use."),jt(),Ft(21,"section",17)(22,"p"),li(23,' Hold some objects up close to your webcam to get a real-time classification! When ready click "enable webcam" below and accept access to the webcam when the browser asks (check the top left of your window) '),jt(),Ft(24,"div",18),am(25,gG,4,3,"div",19),Ft(26,"button",20),Ma("click",function(){return Ah(i),Mh(s.enableCam())}),li(27,"Enable Webcam"),jt(),Ft(28,"video",21,0),Ma("loadeddata",function(){return Ah(i),Mh(s.predictWebcam())}),jt()()()}o&2&&(zo(21),qo("ngClass",fm(3,hG,s.hideDemos)),zo(4),qo("ngForOf",s.predictions),zo(),qo("ngClass",fm(5,mG,s.hideButton)))},dependencies:[NT,TT,IT],styles:[".removed[_ngcontent-%COMP%]{display:none}.invisible[_ngcontent-%COMP%]{opacity:.2}.camView[_ngcontent-%COMP%]{position:relative;float:left;width:calc(100% - 20px);margin:10px;cursor:pointer}.camView[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;padding:5px;background-color:#ff6f00d9;color:#fff;border:1px dashed rgba(255,255,255,.7);z-index:2;font-size:12px}.highlighter[_ngcontent-%COMP%]{background:#00ff0040;border:1px dashed #fff;z-index:1;position:absolute}.logo[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;max-width:300px;margin-bottom:3rem}@media screen and (max-width: 650px){.logo[_ngcontent-%COMP%]{flex-direction:column;width:max-content}}"]});let t=e;return t})();function yG(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}yG()?console.warn("getUserMedia() is fully supported by your browser"):console.warn("getUserMedia() is not supported by your browser");FT(cR,wN).catch(t=>console.error(t));
